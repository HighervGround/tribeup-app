import{c as U,u as _,G as T,h as S,t as o}from"./index-DAbKcXBL.js";import{r as a}from"./vendor-IUqyc6Bg.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],E=U("trash-2",x);function I(){const l=_(),n=T(),u=S(),g=a.useCallback((e,t)=>{const r=window.location.origin,i=new URL(`${r}/game/${e}`);return t&&Object.entries(t).forEach(([s,c])=>{c&&i.searchParams.set(s,c)}),i.toString()},[]),f=a.useCallback((e,t,r)=>{const i=window.location.origin,s=new URL(`${i}/chat/${e}/${t}`);return r&&Object.entries(r).forEach(([c,d])=>{d&&s.searchParams.set(c,d)}),s.toString()},[]),m=a.useCallback(e=>`${window.location.origin}/user/${e}`,[]),h=a.useCallback(async e=>{const t=g(e.id,{utm_source:"app_share",utm_medium:"native_share",utm_campaign:"game_invitation"}),r={title:`Join me for ${e.title}!`,description:`${e.sport} game at ${e.location} on ${e.date} at ${e.time}. Tap to join!`,url:t};try{return navigator.share&&navigator.canShare&&navigator.canShare(r)?(await navigator.share(r),o.success("Game shared successfully!"),!0):(await navigator.clipboard.writeText(t),o.success("Game link copied to clipboard!",{description:"Share with your friends",action:{label:"Share again",onClick:()=>h(e)}}),!0)}catch(i){return console.error("Error sharing game:",i),o.error("Failed to share game"),!1}},[g]),w=a.useCallback(async e=>{const t=m(e.id),r={title:`Check out ${e.name}'s TribeUp profile`,description:`${e.name}${e.rating?` (${e.rating}â­)`:""} is on TribeUp! Connect and play sports together.`,url:t};try{return navigator.share&&navigator.canShare&&navigator.canShare(r)?(await navigator.share(r),o.success("Profile shared successfully!"),!0):(await navigator.clipboard.writeText(t),o.success("Profile link copied to clipboard!"),!0)}catch(i){return console.error("Error sharing profile:",i),o.error("Failed to share profile"),!1}},[m]),b=a.useCallback((e,t)=>{l(`/game/${e}`,{state:t})},[l]),k=a.useCallback((e,t,r)=>{l(`/chat/${e}/${t}`,{state:r})},[l]),y=a.useCallback((e,t)=>{l(`/user/${e}`,{state:t})},[l]),p=a.useCallback(()=>{const e=new URLSearchParams(n.search),t=e.get("utm_source"),r=e.get("utm_medium"),i=e.get("utm_campaign");if((t||r||i)&&console.log("Deep link opened with UTM parameters:",{source:t,medium:r,campaign:i,path:n.pathname}),n.pathname.startsWith("/game/")&&u.gameId&&i==="game_invitation"&&o.success("Welcome to the game!",{description:"You were invited to join this game"}),n.pathname.startsWith("/chat/")){const s=e.get("message");s&&setTimeout(()=>{const c=document.querySelector('input[placeholder*="message" i]');c&&(c.value=decodeURIComponent(s),c.focus())},500)}},[n,u]),v=a.useCallback(e=>({"og:title":e.title,"og:description":e.description,"og:url":e.url,"og:image":e.image||`${window.location.origin}/og-image.png`,"og:type":"website","twitter:card":"summary_large_image","twitter:title":e.title,"twitter:description":e.description,"twitter:image":e.image||`${window.location.origin}/og-image.png`}),[]),C=a.useCallback(async()=>{try{return await navigator.clipboard.writeText(window.location.href),o.success("Link copied to clipboard!"),!0}catch(e){return console.error("Error copying URL:",e),o.error("Failed to copy link"),!1}},[]),$=a.useCallback(()=>{const e=n.pathname;return e==="/"?"home":e==="/search"?"search":e==="/create"?"create":e==="/profile"?"profile":e.startsWith("/game/")?"game":e.startsWith("/chat/")?"chat":e.startsWith("/user/")?"user_profile":e.startsWith("/settings")?"settings":"unknown"},[n.pathname]);return a.useEffect(()=>{p()},[p]),{generateGameUrl:g,generateChatUrl:f,generateUserUrl:m,shareGame:h,shareProfile:w,copyCurrentUrl:C,navigateToGame:b,navigateToChat:k,navigateToUser:y,generateMetaTags:v,getCurrentContext:$,currentPath:n.pathname,currentSearch:n.search,currentParams:u,currentState:n.state}}export{E as T,I as u};
//# sourceMappingURL=useDeepLinks-qFUtu55f.js.map
