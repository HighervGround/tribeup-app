{"version":3,"file":"Settings-C73rRD8L.js","sources":["../../src/components/Settings.tsx","../../src/hooks/useTheme.ts"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Switch } from './ui/switch';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from './ui/select';\nimport { Separator } from './ui/separator';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { \n  ArrowLeft, \n  Bell, \n  Shield, \n  MapPin, \n  Palette, \n  Globe, \n  HelpCircle, \n  MessageSquare, \n  LogOut,\n  ChevronRight,\n  User,\n  Lock,\n  Eye,\n  EyeOff,\n  Accessibility,\n  Sun,\n  Moon,\n  Monitor,\n  Settings as SettingsIcon\n} from 'lucide-react';\nimport { useTheme } from '../hooks/useTheme';\nimport { useSimpleAuth } from '../providers/SimpleAuthProvider';\nimport { useNotifications } from '../hooks/useNotifications';\nimport { toast } from 'sonner';\nimport { useAppStore } from '../store/appStore';\n\nfunction Settings() {\n  const navigate = useNavigate();\n  const { signOut } = useSimpleAuth();\n  const { theme, effectiveTheme, toggleTheme, setTheme } = useTheme();\n  const { user } = useAppStore();\n  const { settings, updateSettings } = useNotifications();\n\n  const [isSigningOut, setIsSigningOut] = useState(false);\n\n  const handleSignOut = async () => {\n    if (isSigningOut) return; // Prevent double-clicks\n    \n    setIsSigningOut(true);\n    try {\n      console.log('Initiating sign out...');\n      await signOut();\n      console.log('Sign out completed');\n      navigate('/auth');\n    } catch (error) {\n      console.error('Sign out error:', error);\n      toast.error('Failed to sign out. Please try again.');\n    } finally {\n      setIsSigningOut(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <div className=\"container max-w-4xl mx-auto p-4 space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center gap-4 mb-6\">\n          <Button \n            variant=\"ghost\" \n            size=\"sm\" \n            onClick={() => navigate(-1)}\n            className=\"flex items-center gap-2\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            Back\n          </Button>\n          <div>\n            <h1 className=\"text-2xl font-bold\">Settings</h1>\n            <p className=\"text-muted-foreground\">Manage your account and app preferences</p>\n          </div>\n        </div>\n\n        {/* Theme Settings */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Palette className=\"w-5 h-5\" />\n              Appearance\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div>\n                <div className=\"font-medium mb-3\">Theme</div>\n                <div className=\"grid grid-cols-3 gap-3\">\n                  <Button\n                    variant={theme === 'light' ? 'default' : 'outline'}\n                    size=\"sm\"\n                    onClick={() => setTheme('light')}\n                    className=\"flex items-center gap-2\"\n                  >\n                    <Sun className=\"w-4 h-4\" />\n                    Light\n                  </Button>\n                  <Button\n                    variant={theme === 'dark' ? 'default' : 'outline'}\n                    size=\"sm\"\n                    onClick={() => setTheme('dark')}\n                    className=\"flex items-center gap-2\"\n                  >\n                    <Moon className=\"w-4 h-4\" />\n                    Dark\n                  </Button>\n                  <Button\n                    variant={theme === 'system' ? 'default' : 'outline'}\n                    size=\"sm\"\n                    onClick={() => setTheme('system')}\n                    className=\"flex items-center gap-2\"\n                  >\n                    <Monitor className=\"w-4 h-4\" />\n                    System\n                  </Button>\n                </div>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  Current: {effectiveTheme} mode\n                </p>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Notification Settings - Only Functional Ones */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <Bell className=\"w-5 h-5\" />\n              Notifications\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"font-medium\">Push Notifications</div>\n                <div className=\"text-sm text-muted-foreground\">\n                  Receive notifications on your device\n                </div>\n              </div>\n              <Switch \n                checked={settings.pushNotifications}\n                onCheckedChange={(checked) => updateSettings({ pushNotifications: checked })}\n                aria-label=\"Toggle push notifications\"\n              />\n            </div>\n            \n            <Separator />\n            \n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"font-medium\">Game Reminders</div>\n                <div className=\"text-sm text-muted-foreground\">\n                  Get notified before your games start\n                </div>\n              </div>\n              <Switch \n                checked={settings.gameReminders}\n                onCheckedChange={(checked) => updateSettings({ gameReminders: checked })}\n                aria-label=\"Toggle game reminders\"\n              />\n            </div>\n\n            <Separator />\n            \n            <div className=\"flex items-center justify-between\">\n              <div>\n                <div className=\"font-medium\">Message Notifications</div>\n                <div className=\"text-sm text-muted-foreground\">\n                  Notifications for messages and updates\n                </div>\n              </div>\n              <Switch \n                checked={settings.messageNotifications}\n                onCheckedChange={(checked) => updateSettings({ messageNotifications: checked })}\n                aria-label=\"Toggle message notifications\"\n              />\n            </div>\n\n            <Alert>\n              <Bell className=\"h-4 w-4\" />\n              <AlertDescription>\n                Note: Email notifications and some other features are coming soon.\n              </AlertDescription>\n            </Alert>\n          </CardContent>\n        </Card>\n\n        {/* Quick Actions */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <SettingsIcon className=\"w-5 h-5\" />\n              Quick Actions\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <Button\n              variant=\"outline\"\n              className=\"w-full justify-between\"\n              onClick={() => navigate('/profile/edit')}\n            >\n              <div className=\"flex items-center gap-2\">\n                <User className=\"w-4 h-4\" />\n                Edit Profile\n              </div>\n              <ChevronRight className=\"w-4 h-4\" />\n            </Button>\n\n            <Button\n              variant=\"outline\"\n              className=\"w-full justify-between\"\n              onClick={() => navigate('/settings/notifications')}\n            >\n              <div className=\"flex items-center gap-2\">\n                <Bell className=\"w-4 h-4\" />\n                Notification Settings\n              </div>\n              <ChevronRight className=\"w-4 h-4\" />\n            </Button>\n\n            <Button\n              variant=\"outline\"\n              className=\"w-full justify-between\"\n              onClick={() => navigate('/settings/accessibility')}\n            >\n              <div className=\"flex items-center gap-2\">\n                <Accessibility className=\"w-4 h-4\" />\n                Accessibility\n              </div>\n              <ChevronRight className=\"w-4 h-4\" />\n            </Button>\n          </CardContent>\n        </Card>\n\n        {/* Account Actions */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-destructive\">\n              <Shield className=\"w-5 h-5\" />\n              Account\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <Button\n              variant=\"destructive\"\n              onClick={handleSignOut}\n              disabled={isSigningOut}\n              className=\"w-full\"\n            >\n              <LogOut className=\"w-4 h-4 mr-2\" />\n              {isSigningOut ? 'Signing out...' : 'Sign Out'}\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n\nexport default Settings;\n","import { useState, useEffect } from 'react';\n\ntype Theme = 'light' | 'dark' | 'system';\n\nexport function useTheme() {\n  const [theme, setTheme] = useState<Theme>(() => {\n    if (typeof window !== 'undefined') {\n      return (localStorage.getItem('theme') as Theme) || 'system';\n    }\n    return 'system';\n  });\n\n  const [systemTheme, setSystemTheme] = useState<'light' | 'dark'>(() => {\n    if (typeof window !== 'undefined') {\n      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    }\n    return 'light';\n  });\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    \n    const handleChange = (e: MediaQueryListEvent) => {\n      setSystemTheme(e.matches ? 'dark' : 'light');\n    };\n\n    mediaQuery.addEventListener('change', handleChange);\n    return () => mediaQuery.removeEventListener('change', handleChange);\n  }, []);\n\n  useEffect(() => {\n    const root = window.document.documentElement;\n    root.classList.remove('light', 'dark');\n\n    const effectiveTheme = theme === 'system' ? systemTheme : theme;\n    root.classList.add(effectiveTheme);\n    \n    localStorage.setItem('theme', theme);\n  }, [theme, systemTheme]);\n\n  const toggleTheme = () => {\n    setTheme(prev => {\n      if (prev === 'light') return 'dark';\n      if (prev === 'dark') return 'system';\n      return 'light';\n    });\n  };\n\n  const setThemeDirectly = (newTheme: Theme) => {\n    setTheme(newTheme);\n  };\n\n  const effectiveTheme = theme === 'system' ? systemTheme : theme;\n\n  return {\n    theme,\n    effectiveTheme,\n    systemTheme,\n    toggleTheme,\n    setTheme: setThemeDirectly,\n    isDark: effectiveTheme === 'dark',\n    isSystem: theme === 'system'\n  };\n}"],"names":["Settings","navigate","useNavigate","signOut","useSimpleAuth","theme","effectiveTheme","setTheme","useState","window","localStorage","getItem","systemTheme","setSystemTheme","matchMedia","matches","useEffect","mediaQuery","handleChange","e","addEventListener","removeEventListener","root","document","documentElement","classList","remove","add","setItem","toggleTheme","prev","newTheme","isDark","isSystem","useTheme","user","useAppStore","settings","updateSettings","useNotifications","isSigningOut","setIsSigningOut","className","children","jsxs","Button","variant","size","onClick","jsx","ArrowLeft","Card","CardHeader","CardTitle","Palette","CardContent","Sun","Moon","Monitor","Bell","Switch","checked","pushNotifications","onCheckedChange","Separator","gameReminders","messageNotifications","Alert","AlertDescription","SettingsIcon","User","ChevronRight","Accessibility","Shield","async","error","toast","disabled","LogOut"],"mappings":"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"}