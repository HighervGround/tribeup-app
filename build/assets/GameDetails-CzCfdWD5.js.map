{"version":3,"file":"GameDetails-CzCfdWD5.js","sources":["../../node_modules/lucide-react/dist/esm/icons/clock.js","../../node_modules/lucide-react/dist/esm/icons/copy.js","../../node_modules/lucide-react/dist/esm/icons/dollar-sign.js","../../node_modules/lucide-react/dist/esm/icons/phone.js","../../node_modules/lucide-react/dist/esm/icons/share-2.js","../../src/hooks/useGameActions.ts","../../src/hooks/useKeyboardShortcuts.ts","../../src/components/QuickJoinModal.tsx","../../src/components/InviteModal.tsx","../../src/lib/weatherService.ts","../../src/lib/dateUtils.ts","../../src/components/GameDetails.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n];\nconst Clock = createLucideIcon(\"clock\", __iconNode);\n\nexport { __iconNode, Clock as default };\n//# sourceMappingURL=clock.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"14\", height: \"14\", x: \"8\", y: \"8\", rx: \"2\", ry: \"2\", key: \"17jyea\" }],\n  [\"path\", { d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\", key: \"zix9uf\" }]\n];\nconst Copy = createLucideIcon(\"copy\", __iconNode);\n\nexport { __iconNode, Copy as default };\n//# sourceMappingURL=copy.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"22\", key: \"7eqyqh\" }],\n  [\"path\", { d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\", key: \"1b0p4s\" }]\n];\nconst DollarSign = createLucideIcon(\"dollar-sign\", __iconNode);\n\nexport { __iconNode, DollarSign as default };\n//# sourceMappingURL=dollar-sign.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\",\n      key: \"foiqr5\"\n    }\n  ]\n];\nconst Phone = createLucideIcon(\"phone\", __iconNode);\n\nexport { __iconNode, Phone as default };\n//# sourceMappingURL=phone.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"18\", cy: \"5\", r: \"3\", key: \"gq8acd\" }],\n  [\"circle\", { cx: \"6\", cy: \"12\", r: \"3\", key: \"w7nqdw\" }],\n  [\"circle\", { cx: \"18\", cy: \"19\", r: \"3\", key: \"1xt0gg\" }],\n  [\"line\", { x1: \"8.59\", x2: \"15.42\", y1: \"13.51\", y2: \"17.49\", key: \"47mynk\" }],\n  [\"line\", { x1: \"15.41\", x2: \"8.59\", y1: \"6.51\", y2: \"10.49\", key: \"1n3mei\" }]\n];\nconst Share2 = createLucideIcon(\"share-2\", __iconNode);\n\nexport { __iconNode, Share2 as default };\n//# sourceMappingURL=share-2.js.map\n","import { useCallback } from 'react';\nimport { useAppStore } from '../store/appStore';\nimport { toast } from 'sonner';\n\nexport function useGameActions() {\n  const { joinGame, leaveGame, updateGame, setLoading, setError } = useAppStore();\n  const games = useAppStore((state) => state.games);\n\n  // Join a game\n  const handleJoinGame = useCallback(async (gameId: string) => {\n    const game = games.find(g => g.id === gameId);\n    if (!game) {\n      toast.error('Game not found');\n      return false;\n    }\n\n    if (game.isJoined) {\n      toast('Already joined', { description: 'You are already part of this game' });\n      return false;\n    }\n\n    if (game.currentPlayers >= game.maxPlayers) {\n      toast.error('Game is full', { description: 'This game has reached maximum capacity' });\n      return false;\n    }\n\n    try {\n      setLoading(true);\n      \n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 800));\n      \n      joinGame(gameId);\n      \n      toast.success('Joined game!', {\n        description: `You're now part of ${game.title}`,\n      });\n      \n      return true;\n    } catch (error) {\n      setError('Failed to join game');\n      toast.error('Failed to join game', {\n        description: 'Please try again later',\n      });\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, [games, joinGame, setLoading, setError]);\n\n  // Leave a game\n  const handleLeaveGame = useCallback(async (gameId: string) => {\n    const game = games.find(g => g.id === gameId);\n    if (!game) {\n      toast.error('Game not found');\n      return false;\n    }\n\n    if (!game.isJoined) {\n      toast('Not joined', { description: 'You are not part of this game' });\n      return false;\n    }\n\n    try {\n      setLoading(true);\n      \n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 500));\n      \n      leaveGame(gameId);\n      \n      toast.success('Left game successfully', {\n        description: `You've left ${game.title}`,\n      });\n      \n      return true;\n    } catch (error) {\n      setError('Failed to leave game');\n      toast.error('Failed to leave game', {\n        description: 'Please try again later',\n      });\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, [games, leaveGame, setLoading, setError]);\n\n  // Toggle game participation\n  const toggleGameParticipation = useCallback(async (gameId: string) => {\n    const game = games.find(g => g.id === gameId);\n    if (!game) return false;\n\n    if (game.isJoined) {\n      return await handleLeaveGame(gameId);\n    } else {\n      return await handleJoinGame(gameId);\n    }\n  }, [games, handleJoinGame, handleLeaveGame]);\n\n  // Cancel a game (for creators)\n  const cancelGame = useCallback(async (gameId: string, reason?: string) => {\n    try {\n      setLoading(true);\n      \n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      \n      updateGame(gameId, { \n        description: `${reason ? `CANCELLED: ${reason}` : 'CANCELLED'}` \n      });\n      \n      toast.success('Game cancelled', {\n        description: reason || 'The game has been cancelled',\n      });\n      \n      return true;\n    } catch (error) {\n      setError('Failed to cancel game');\n      toast.error('Failed to cancel game', {\n        description: 'Please try again later',\n      });\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, [updateGame, setLoading, setError]);\n\n  return {\n    joinGame: handleJoinGame,\n    leaveGame: handleLeaveGame,\n    toggleGameParticipation,\n    cancelGame,\n  };\n}","import { useEffect, useCallback, useRef } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { toast } from 'sonner';\n\ninterface KeyboardShortcut {\n  key: string;\n  ctrlKey?: boolean;\n  metaKey?: boolean;\n  shiftKey?: boolean;\n  altKey?: boolean;\n  description: string;\n  action: () => void;\n  disabled?: boolean;\n  global?: boolean; // Whether this shortcut works globally or only in specific contexts\n}\n\ninterface UseKeyboardShortcutsOptions {\n  enabled?: boolean;\n  showToast?: boolean;\n  context?: string; // Current screen context for context-specific shortcuts\n}\n\nexport function useKeyboardShortcuts(options: UseKeyboardShortcutsOptions = {}) {\n  const { enabled = true, showToast = false, context } = options;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const shortcutsRef = useRef<KeyboardShortcut[]>([]);\n  const isHelpVisibleRef = useRef(false);\n\n  // Global navigation shortcuts\n  const globalShortcuts: KeyboardShortcut[] = [\n    {\n      key: '1',\n      description: 'Go to Home',\n      action: () => navigate('/'),\n      global: true\n    },\n    {\n      key: '2',\n      description: 'Go to Search',\n      action: () => navigate('/search'),\n      global: true\n    },\n    {\n      key: '3',\n      description: 'Create Game',\n      action: () => navigate('/create'),\n      global: true\n    },\n    {\n      key: '4',\n      description: 'Go to Profile',\n      action: () => navigate('/profile'),\n      global: true\n    },\n    {\n      key: 'c',\n      description: 'Create new game',\n      action: () => {\n        navigate('/create');\n        if (showToast) {\n          toast.success('Opening game creation');\n        }\n      },\n      global: true\n    },\n    {\n      key: 'k',\n      ctrlKey: true,\n      description: 'Quick search',\n      action: () => {\n        navigate('/search');\n        // Focus search input after navigation\n        setTimeout(() => {\n          const searchInput = document.querySelector('input[type=\"search\"], input[placeholder*=\"search\" i]') as HTMLInputElement;\n          if (searchInput) {\n            searchInput.focus();\n          }\n        }, 100);\n        if (showToast) {\n          toast.success('Quick search opened');\n        }\n      },\n      global: true\n    },\n    {\n      key: 'k',\n      metaKey: true, // For Mac users\n      description: 'Quick search (Mac)',\n      action: () => {\n        navigate('/search');\n        setTimeout(() => {\n          const searchInput = document.querySelector('input[type=\"search\"], input[placeholder*=\"search\" i]') as HTMLInputElement;\n          if (searchInput) {\n            searchInput.focus();\n          }\n        }, 100);\n        if (showToast) {\n          toast.success('Quick search opened');\n        }\n      },\n      global: true\n    },\n    {\n      key: 's',\n      description: 'Go to Settings',\n      action: () => navigate('/settings'),\n      global: true\n    },\n    {\n      key: 'h',\n      description: 'Go to Home',\n      action: () => navigate('/'),\n      global: true\n    },\n    {\n      key: 'Escape',\n      description: 'Go back',\n      action: () => {\n        if (window.history.length > 1) {\n          navigate(-1);\n        } else {\n          navigate('/');\n        }\n      },\n      global: true\n    },\n    {\n      key: '?',\n      shiftKey: true,\n      description: 'Show keyboard shortcuts',\n      action: () => {\n        showKeyboardShortcuts();\n      },\n      global: true\n    },\n    {\n      key: 'r',\n      ctrlKey: true,\n      description: 'Refresh page',\n      action: () => {\n        window.location.reload();\n      },\n      global: true\n    },\n    {\n      key: 'r',\n      metaKey: true, // For Mac users\n      description: 'Refresh page (Mac)',\n      action: () => {\n        window.location.reload();\n      },\n      global: true\n    }\n  ];\n\n  // Context-specific shortcuts\n  const contextShortcuts: Record<string, KeyboardShortcut[]> = {\n    // Home screen shortcuts\n    home: [\n      {\n        key: 'f',\n        description: 'Filter games',\n        action: () => {\n          const filterButton = document.querySelector('[aria-label*=\"filter\" i], [data-testid=\"filter-button\"]') as HTMLElement;\n          if (filterButton) {\n            filterButton.click();\n          }\n        }\n      },\n      {\n        key: 'r',\n        description: 'Refresh games list',\n        action: () => {\n          // Trigger pull to refresh or reload games\n          const refreshButton = document.querySelector('[aria-label*=\"refresh\" i], [data-testid=\"refresh-button\"]') as HTMLElement;\n          if (refreshButton) {\n            refreshButton.click();\n          }\n          if (showToast) {\n            toast.success('Refreshing games...');\n          }\n        }\n      }\n    ],\n    \n    // Game details shortcuts\n    game: [\n      {\n        key: 'j',\n        description: 'Join/Leave game',\n        action: () => {\n          const joinButton = document.querySelector('button:has-text(\"Join\"), button:has-text(\"Leave\"), [data-action=\"join-game\"]') as HTMLElement;\n          if (joinButton) {\n            joinButton.click();\n          }\n        }\n      },\n      {\n        key: 'm',\n        description: 'Open group chat',\n        action: () => {\n          const chatButton = document.querySelector('button:has-text(\"Group Chat\"), [data-action=\"group-chat\"]') as HTMLElement;\n          if (chatButton) {\n            chatButton.click();\n          }\n        }\n      },\n      {\n        key: 'l',\n        description: 'Get directions',\n        action: () => {\n          const directionsButton = document.querySelector('button:has-text(\"Get Directions\"), [data-action=\"directions\"]') as HTMLElement;\n          if (directionsButton) {\n            directionsButton.click();\n          }\n        }\n      },\n      {\n        key: 'u',\n        description: 'Share game',\n        action: () => {\n          const shareButton = document.querySelector('[aria-label*=\"share\" i], [data-action=\"share\"]') as HTMLElement;\n          if (shareButton) {\n            shareButton.click();\n          }\n        }\n      }\n    ],\n    \n    // Chat shortcuts\n    chat: [\n      {\n        key: 'Enter',\n        description: 'Send message',\n        action: () => {\n          const sendButton = document.querySelector('button[type=\"submit\"], [data-action=\"send-message\"]') as HTMLElement;\n          if (sendButton) {\n            sendButton.click();\n          }\n        }\n      },\n      {\n        key: 'Enter',\n        ctrlKey: true,\n        description: 'Add line break',\n        action: () => {\n          const messageInput = document.querySelector('input[placeholder*=\"message\" i], textarea[placeholder*=\"message\" i]') as HTMLInputElement | HTMLTextAreaElement;\n          if (messageInput) {\n            const currentValue = messageInput.value;\n            const cursorPosition = messageInput.selectionStart || 0;\n            const newValue = currentValue.slice(0, cursorPosition) + '\\n' + currentValue.slice(cursorPosition);\n            messageInput.value = newValue;\n            messageInput.setSelectionRange(cursorPosition + 1, cursorPosition + 1);\n          }\n        }\n      },\n      {\n        key: 'i',\n        description: 'View user info',\n        action: () => {\n          const userButton = document.querySelector('[data-action=\"view-profile\"]') as HTMLElement;\n          if (userButton) {\n            userButton.click();\n          }\n        }\n      }\n    ],\n    \n    // Search shortcuts\n    search: [\n      {\n        key: 'Enter',\n        description: 'Search',\n        action: () => {\n          const searchForm = document.querySelector('form') as HTMLFormElement;\n          if (searchForm) {\n            searchForm.submit();\n          }\n        }\n      },\n      {\n        key: 'ArrowDown',\n        description: 'Focus first result',\n        action: () => {\n          const firstResult = document.querySelector('[data-search-result]:first-child') as HTMLElement;\n          if (firstResult) {\n            firstResult.focus();\n          }\n        }\n      }\n    ],\n    \n    // Create game shortcuts\n    create: [\n      {\n        key: 'Enter',\n        ctrlKey: true,\n        description: 'Create game',\n        action: () => {\n          const createButton = document.querySelector('button[type=\"submit\"], [data-action=\"create-game\"]') as HTMLElement;\n          if (createButton && !createButton.hasAttribute('disabled')) {\n            createButton.click();\n          }\n        }\n      },\n      {\n        key: 'Tab',\n        description: 'Next field',\n        action: () => {\n          // Let browser handle default tab behavior\n        }\n      }\n    ]\n  };\n\n  // Combine shortcuts based on context\n  const getAllShortcuts = useCallback(() => {\n    const currentContextShortcuts = context ? contextShortcuts[context] || [] : [];\n    return [...globalShortcuts, ...currentContextShortcuts];\n  }, [context]);\n\n  // Show keyboard shortcuts help\n  const showKeyboardShortcuts = () => {\n    if (isHelpVisibleRef.current) return;\n    \n    isHelpVisibleRef.current = true;\n    const shortcuts = getAllShortcuts();\n    \n    // Create help modal content\n    const helpContent = shortcuts\n      .filter(shortcut => shortcut.description && !shortcut.disabled)\n      .map(shortcut => {\n        const keys = [];\n        if (shortcut.ctrlKey) keys.push('Ctrl');\n        if (shortcut.metaKey) keys.push('Cmd');\n        if (shortcut.shiftKey) keys.push('Shift');\n        if (shortcut.altKey) keys.push('Alt');\n        keys.push(shortcut.key === ' ' ? 'Space' : shortcut.key);\n        \n        return `${keys.join(' + ')}: ${shortcut.description}`;\n      })\n      .join('\\n');\n\n    // Use a toast for quick display (in a real app, you might want a proper modal)\n    toast.info('Keyboard Shortcuts', {\n      description: `Available shortcuts:\\n${helpContent}`,\n      duration: 10000,\n      action: {\n        label: 'Close',\n        onClick: () => {\n          isHelpVisibleRef.current = false;\n        }\n      }\n    });\n\n    // Reset help visibility after toast duration\n    setTimeout(() => {\n      isHelpVisibleRef.current = false;\n    }, 10000);\n  };\n\n  // Handle keyboard events\n  const handleKeyDown = useCallback((event: KeyboardEvent) => {\n    if (!enabled) return;\n\n    // Don't handle shortcuts when user is typing in input fields\n    const target = event.target as HTMLElement;\n    const isInputField = target.tagName === 'INPUT' || \n                        target.tagName === 'TEXTAREA' || \n                        target.contentEditable === 'true' ||\n                        target.closest('[contenteditable=\"true\"]');\n\n    // Allow some shortcuts even in input fields\n    const allowInInputs = ['Escape', 'Enter'];\n    const hasModifier = event.ctrlKey || event.metaKey || event.altKey;\n    \n    if (isInputField && !allowInInputs.includes(event.key) && !hasModifier) {\n      return;\n    }\n\n    const shortcuts = getAllShortcuts();\n    \n    for (const shortcut of shortcuts) {\n      if (shortcut.disabled) continue;\n      \n      const keyMatches = shortcut.key.toLowerCase() === event.key.toLowerCase();\n      const ctrlMatches = !!shortcut.ctrlKey === event.ctrlKey;\n      const metaMatches = !!shortcut.metaKey === event.metaKey;\n      const shiftMatches = !!shortcut.shiftKey === event.shiftKey;\n      const altMatches = !!shortcut.altKey === event.altKey;\n      \n      if (keyMatches && ctrlMatches && metaMatches && shiftMatches && altMatches) {\n        event.preventDefault();\n        event.stopPropagation();\n        \n        try {\n          shortcut.action();\n        } catch (error) {\n          console.error('Error executing keyboard shortcut:', error);\n          if (showToast) {\n            toast.error('Shortcut failed to execute');\n          }\n        }\n        break;\n      }\n    }\n  }, [enabled, getAllShortcuts, showToast]);\n\n  // Register keyboard event listeners\n  useEffect(() => {\n    if (!enabled) return;\n\n    document.addEventListener('keydown', handleKeyDown);\n    \n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [enabled, handleKeyDown]);\n\n  // Update shortcuts reference\n  useEffect(() => {\n    shortcutsRef.current = getAllShortcuts();\n  }, [getAllShortcuts]);\n\n  // Return utility functions\n  return {\n    shortcuts: shortcutsRef.current,\n    showHelp: showKeyboardShortcuts,\n    isEnabled: enabled\n  };\n}\n\n// Hook for components to add custom shortcuts\nexport function useCustomShortcuts(customShortcuts: KeyboardShortcut[], enabled = true) {\n  const handleKeyDown = useCallback((event: KeyboardEvent) => {\n    if (!enabled) return;\n\n    const target = event.target as HTMLElement;\n    const isInputField = target.tagName === 'INPUT' || \n                        target.tagName === 'TEXTAREA' || \n                        target.contentEditable === 'true';\n\n    // Skip if in input field (unless it's a special key)\n    if (isInputField && !['Escape', 'Enter'].includes(event.key)) {\n      return;\n    }\n\n    for (const shortcut of customShortcuts) {\n      if (shortcut.disabled) continue;\n      \n      const keyMatches = shortcut.key.toLowerCase() === event.key.toLowerCase();\n      const ctrlMatches = !!shortcut.ctrlKey === event.ctrlKey;\n      const metaMatches = !!shortcut.metaKey === event.metaKey;\n      const shiftMatches = !!shortcut.shiftKey === event.shiftKey;\n      const altMatches = !!shortcut.altKey === event.altKey;\n      \n      if (keyMatches && ctrlMatches && metaMatches && shiftMatches && altMatches) {\n        event.preventDefault();\n        event.stopPropagation();\n        \n        try {\n          shortcut.action();\n        } catch (error) {\n          console.error('Error executing custom shortcut:', error);\n        }\n        break;\n      }\n    }\n  }, [customShortcuts, enabled]);\n\n  useEffect(() => {\n    if (!enabled) return;\n\n    document.addEventListener('keydown', handleKeyDown);\n    \n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [enabled, handleKeyDown]);\n}","import React, { useState } from 'react';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { X, Mail, User, Phone } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { useAuth } from '../providers/AuthProvider';\n\ninterface QuickJoinModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  gameTitle: string;\n  gameId: string;\n  onJoinSuccess: () => void;\n}\n\nexport function QuickJoinModal({ isOpen, onClose, gameTitle, gameId, onJoinSuccess }: QuickJoinModalProps) {\n  const { signUp, signInWithOAuth } = useAuth();\n  const [step, setStep] = useState<'signup' | 'verify'>('signup');\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  if (!isOpen) return null;\n\n  const handleQuickSignup = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      // Create account with minimal info\n      await signUp(formData.email, 'temp-password-' + Date.now(), {\n        name: formData.name,\n        email: formData.email,\n        phone: formData.phone,\n        pendingGameId: gameId // Store which game they want to join\n      });\n      \n      setStep('verify');\n      toast.success('Account created! Check your email to verify and join the game.');\n    } catch (error: any) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSocialLogin = async (provider: 'google' | 'apple') => {\n    try {\n      setLoading(true);\n      await signInWithOAuth(provider, { pendingGameId: gameId });\n      toast.success(`Signing in with ${provider}...`);\n      // The AuthProvider will handle auto-joining after successful login\n      onClose();\n    } catch (error: any) {\n      toast.error(error.message || 'Social login failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-lg\">\n            {step === 'signup' ? `Join \"${gameTitle}\"` : 'Check Your Email'}\n          </CardTitle>\n          <Button variant=\"ghost\" size=\"icon\" onClick={onClose}>\n            <X className=\"w-4 h-4\" />\n          </Button>\n        </CardHeader>\n        \n        <CardContent>\n          {step === 'signup' ? (\n            <div className=\"space-y-4\">\n              {/* Social Login Options */}\n              <div className=\"space-y-2\">\n                <Button \n                  variant=\"outline\" \n                  className=\"w-full\"\n                  onClick={() => handleSocialLogin('google')}\n                  disabled={loading}\n                >\n                  <svg className=\"w-4 h-4 mr-2\" viewBox=\"0 0 24 24\">\n                    <path fill=\"currentColor\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                    <path fill=\"currentColor\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                    <path fill=\"currentColor\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                    <path fill=\"currentColor\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                  </svg>\n                  Continue with Google\n                </Button>\n                \n                <Button \n                  variant=\"outline\" \n                  className=\"w-full\"\n                  onClick={() => handleSocialLogin('apple')}\n                  disabled={loading}\n                >\n                  <svg className=\"w-4 h-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path d=\"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z\"/>\n                  </svg>\n                  Continue with Apple\n                </Button>\n              </div>\n\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <span className=\"w-full border-t\" />\n                </div>\n                <div className=\"relative flex justify-center text-xs uppercase\">\n                  <span className=\"bg-background px-2 text-muted-foreground\">Or continue with email</span>\n                </div>\n              </div>\n\n              {/* Quick Signup Form */}\n              <form onSubmit={handleQuickSignup} className=\"space-y-3\">\n                <div>\n                  <Input\n                    type=\"text\"\n                    placeholder=\"Your name\"\n                    value={formData.name}\n                    onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                    required\n                    className=\"pl-10\"\n                  />\n                  <User className=\"w-4 h-4 absolute left-3 top-3 text-muted-foreground\" />\n                </div>\n                \n                <div className=\"relative\">\n                  <Input\n                    type=\"email\"\n                    placeholder=\"Email address\"\n                    value={formData.email}\n                    onChange={(e) => setFormData(prev => ({ ...prev, email: e.target.value }))}\n                    required\n                    className=\"pl-10\"\n                  />\n                  <Mail className=\"w-4 h-4 absolute left-3 top-3 text-muted-foreground\" />\n                </div>\n                \n                <div className=\"relative\">\n                  <Input\n                    type=\"tel\"\n                    placeholder=\"Phone (optional)\"\n                    value={formData.phone}\n                    onChange={(e) => setFormData(prev => ({ ...prev, phone: e.target.value }))}\n                    className=\"pl-10\"\n                  />\n                  <Phone className=\"w-4 h-4 absolute left-3 top-3 text-muted-foreground\" />\n                </div>\n\n                {error && (\n                  <Alert variant=\"destructive\">\n                    <AlertDescription>{error}</AlertDescription>\n                  </Alert>\n                )}\n\n                <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n                  {loading ? 'Creating Account...' : 'Join Game'}\n                </Button>\n              </form>\n\n              <p className=\"text-xs text-muted-foreground text-center\">\n                By joining, you agree to our Terms of Service and Privacy Policy\n              </p>\n            </div>\n          ) : (\n            <div className=\"text-center space-y-4\">\n              <div className=\"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center\">\n                <Mail className=\"w-8 h-8 text-primary\" />\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Check your email</h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  We sent a verification link to <strong>{formData.email}</strong>\n                </p>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  Click the link to verify your account and automatically join \"{gameTitle}\"\n                </p>\n              </div>\n              <Button variant=\"outline\" onClick={onClose} className=\"w-full\">\n                Got it\n              </Button>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { X, Copy, Share2, MessageCircle, Mail, Users, Check } from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface InviteModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  gameTitle: string;\n  gameId: string;\n  gameDate: string;\n  gameTime: string;\n  gameLocation: string;\n  sport: string;\n}\n\nexport function InviteModal({ \n  isOpen, \n  onClose, \n  gameTitle, \n  gameId, \n  gameDate, \n  gameTime, \n  gameLocation, \n  sport \n}: InviteModalProps) {\n  const [copied, setCopied] = useState(false);\n  const [selectedContacts, setSelectedContacts] = useState<string[]>([]);\n\n  if (!isOpen) return null;\n\n  const gameUrl = `${window.location.origin}/game/${gameId}`;\n  const shareText = `üèÉ‚Äç‚ôÇÔ∏è Join me for ${sport}!\\n\\n\"${gameTitle}\"\\nüìÖ ${gameDate} at ${gameTime}\\nüìç ${gameLocation}\\n\\nTap to RSVP: ${gameUrl}`;\n\n  const handleCopyLink = async () => {\n    try {\n      await navigator.clipboard.writeText(gameUrl);\n      setCopied(true);\n      toast.success('Link copied to clipboard!');\n      setTimeout(() => setCopied(false), 2000);\n    } catch (error) {\n      toast.error('Failed to copy link');\n    }\n  };\n\n  const handleNativeShare = async () => {\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: `Join me for ${sport}!`,\n          text: shareText,\n          url: gameUrl,\n        });\n        toast.success('Shared successfully!');\n      } catch (error) {\n        // User cancelled or error occurred\n        handleCopyLink(); // Fallback to copy\n      }\n    } else {\n      handleCopyLink(); // Fallback for browsers without native share\n    }\n  };\n\n  const handleSMS = () => {\n    const smsUrl = `sms:?body=${encodeURIComponent(shareText)}`;\n    window.open(smsUrl, '_blank');\n    toast.success('SMS app opened!');\n  };\n\n  const handleEmail = () => {\n    const subject = encodeURIComponent(`Join me for ${sport} - ${gameTitle}`);\n    const body = encodeURIComponent(`Hi!\\n\\nI'm organizing a ${sport} game and would love for you to join!\\n\\n${gameTitle}\\nüìÖ ${gameDate} at ${gameTime}\\nüìç ${gameLocation}\\n\\nClick here to RSVP: ${gameUrl}\\n\\nSee you there!\\n`);\n    const emailUrl = `mailto:?subject=${subject}&body=${body}`;\n    window.open(emailUrl, '_blank');\n    toast.success('Email app opened!');\n  };\n\n  const handleWhatsApp = () => {\n    const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(shareText)}`;\n    window.open(whatsappUrl, '_blank');\n    toast.success('WhatsApp opened!');\n  };\n\n  const quickInviteOptions = [\n    {\n      name: 'Copy Link',\n      icon: copied ? Check : Copy,\n      action: handleCopyLink,\n      description: 'Copy shareable link',\n      color: copied ? 'text-green-600' : 'text-blue-600'\n    },\n    {\n      name: 'Share',\n      icon: Share2,\n      action: handleNativeShare,\n      description: 'Use device share menu',\n      color: 'text-purple-600'\n    },\n    {\n      name: 'Text Message',\n      icon: MessageCircle,\n      action: handleSMS,\n      description: 'Send via SMS',\n      color: 'text-green-600'\n    },\n    {\n      name: 'Email',\n      icon: Mail,\n      action: handleEmail,\n      description: 'Send via email',\n      color: 'text-red-600'\n    },\n    {\n      name: 'WhatsApp',\n      icon: Users,\n      action: handleWhatsApp,\n      description: 'Share on WhatsApp',\n      color: 'text-green-500'\n    }\n  ];\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-lg\">Invite Friends</CardTitle>\n          <Button variant=\"ghost\" size=\"icon\" onClick={onClose}>\n            <X className=\"w-4 h-4\" />\n          </Button>\n        </CardHeader>\n        \n        <CardContent className=\"space-y-6\">\n          {/* Game Preview */}\n          <div className=\"bg-muted/50 rounded-lg p-4 space-y-2\">\n            <div className=\"flex items-center gap-2\">\n              <Badge variant=\"secondary\">{sport}</Badge>\n              <h3 className=\"font-semibold text-sm\">{gameTitle}</h3>\n            </div>\n            <div className=\"text-xs text-muted-foreground space-y-1\">\n              <div>üìÖ {gameDate} at {gameTime}</div>\n              <div>üìç {gameLocation}</div>\n            </div>\n          </div>\n\n          {/* Share Link */}\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Game Link</label>\n            <div className=\"flex gap-2\">\n              <Input \n                value={gameUrl} \n                readOnly \n                className=\"text-xs\"\n              />\n              <Button \n                variant=\"outline\" \n                size=\"icon\" \n                onClick={handleCopyLink}\n                className={copied ? 'text-green-600' : ''}\n              >\n                {copied ? <Check className=\"w-4 h-4\" /> : <Copy className=\"w-4 h-4\" />}\n              </Button>\n            </div>\n          </div>\n\n          {/* Quick Share Options */}\n          <div className=\"space-y-3\">\n            <label className=\"text-sm font-medium\">Quick Invite</label>\n            <div className=\"grid grid-cols-2 gap-2\">\n              {quickInviteOptions.map((option) => (\n                <Button\n                  key={option.name}\n                  variant=\"outline\"\n                  className=\"h-auto p-3 flex flex-col items-center gap-2\"\n                  onClick={option.action}\n                >\n                  <option.icon className={`w-5 h-5 ${option.color}`} />\n                  <div className=\"text-center\">\n                    <div className=\"text-xs font-medium\">{option.name}</div>\n                    <div className=\"text-xs text-muted-foreground\">{option.description}</div>\n                  </div>\n                </Button>\n              ))}\n            </div>\n          </div>\n\n          {/* Share Message Preview */}\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Message Preview</label>\n            <div className=\"bg-muted/30 rounded-lg p-3 text-xs text-muted-foreground border-l-2 border-primary/20\">\n              {shareText}\n            </div>\n          </div>\n\n          <div className=\"text-xs text-muted-foreground text-center\">\n            Anyone with the link can view and join this game\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","export interface WeatherData {\n  temperature: number;\n  condition: string;\n  description: string;\n  humidity: number;\n  windSpeed: number;\n  precipitation: number;\n  icon: string;\n  isOutdoorFriendly: boolean;\n  alerts?: string[];\n}\n\nexport interface WeatherForecast {\n  current: WeatherData;\n  hourly: WeatherData[];\n  daily: WeatherData[];\n}\n\nexport class WeatherService {\n  private static readonly API_KEY = (import.meta as any).env?.VITE_OPENWEATHER_API_KEY || '***REMOVED***';\n  private static readonly BASE_URL = 'https://api.openweathermap.org/data/2.5';\n  \n  // Weather configuration\n  private static readonly CONFIG = {\n    temperatureUnit: 'fahrenheit',\n    updateInterval: 3600,\n    includeHourlyForecast: true,\n    rainThreshold: 0.1,\n    windThreshold: 15\n  };\n\n  // Get current weather for coordinates\n  static async getCurrentWeather(lat: number, lng: number): Promise<WeatherData | null> {\n    try {\n      const response = await fetch(\n        `${this.BASE_URL}/weather?lat=${lat}&lon=${lng}&appid=${this.API_KEY}&units=imperial`\n      );\n\n      if (!response.ok) {\n        throw new Error(`Weather API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return this.transformWeatherData(data);\n    } catch (error) {\n      console.error('Error fetching weather:', error);\n      return this.getMockWeatherData();\n    }\n  }\n\n  // Get weather forecast for game time\n  static async getGameWeather(lat: number, lng: number, gameDateTime: Date): Promise<WeatherData | null> {\n    try {\n      const response = await fetch(\n        `${this.BASE_URL}/forecast?lat=${lat}&lon=${lng}&appid=${this.API_KEY}&units=imperial`\n      );\n\n      if (!response.ok) {\n        throw new Error(`Weather API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n      \n      // Find forecast closest to game time\n      const gameTime = gameDateTime.getTime();\n      let closestForecast = data.list[0];\n      let smallestDiff = Math.abs(new Date(closestForecast.dt * 1000).getTime() - gameTime);\n\n      for (const forecast of data.list) {\n        const forecastTime = new Date(forecast.dt * 1000).getTime();\n        const diff = Math.abs(forecastTime - gameTime);\n        \n        if (diff < smallestDiff) {\n          smallestDiff = diff;\n          closestForecast = forecast;\n        }\n      }\n\n      return this.transformWeatherData(closestForecast);\n    } catch (error) {\n      console.error('Error fetching game weather:', error);\n      return this.getMockWeatherData();\n    }\n  }\n\n  // Transform API response to our weather data format\n  private static transformWeatherData(apiData: any): WeatherData {\n    const temp = Math.round(apiData.main.temp);\n    const condition = apiData.weather[0].main;\n    const description = apiData.weather[0].description;\n    const precipitation = apiData.rain?.['1h'] || apiData.snow?.['1h'] || 0;\n    \n    return {\n      temperature: temp,\n      condition,\n      description: this.capitalizeWords(description),\n      humidity: apiData.main.humidity,\n      windSpeed: Math.round(apiData.wind.speed), // Already in mph from imperial units\n      precipitation,\n      icon: this.getWeatherIcon(condition),\n      isOutdoorFriendly: this.isOutdoorFriendly(condition, temp, precipitation, apiData.wind.speed),\n      alerts: this.generateWeatherAlerts(condition, temp, precipitation, apiData.wind.speed)\n    };\n  }\n\n  // Determine if weather is suitable for outdoor activities\n  private static isOutdoorFriendly(condition: string, temp: number, precipitation: number, windSpeed: number): boolean {\n    // Too cold (below 40¬∞F) or too hot (above 95¬∞F)\n    if (temp < 40 || temp > 95) return false;\n    \n    // Heavy rain or snow (using custom threshold)\n    if (precipitation > this.CONFIG.rainThreshold) return false;\n    \n    // Strong winds (using custom threshold in mph)\n    if (windSpeed > this.CONFIG.windThreshold) return false;\n    \n    // Severe weather conditions\n    const severeConditions = ['Thunderstorm', 'Tornado', 'Squall'];\n    if (severeConditions.includes(condition)) return false;\n    \n    return true;\n  }\n\n  // Generate weather alerts for games\n  private static generateWeatherAlerts(condition: string, temp: number, precipitation: number, windSpeed: number): string[] {\n    const alerts: string[] = [];\n    \n    if (temp < 50) {\n      alerts.push('üß• Dress warmly - temperature below 50¬∞F');\n    } else if (temp > 85) {\n      alerts.push('‚òÄÔ∏è Stay hydrated - high temperature expected');\n    }\n    \n    if (precipitation > this.CONFIG.rainThreshold) {\n      alerts.push('üåßÔ∏è Rain expected - consider indoor backup plan');\n    }\n    \n    if (windSpeed > 12) {\n      alerts.push('üí® Windy conditions - secure loose items');\n    }\n    \n    if (condition === 'Thunderstorm') {\n      alerts.push('‚ö° Thunderstorm warning - move indoors immediately');\n    }\n    \n    return alerts;\n  }\n\n  // Get weather icon based on condition\n  private static getWeatherIcon(condition: string): string {\n    const iconMap: Record<string, string> = {\n      'Clear': '‚òÄÔ∏è',\n      'Clouds': '‚òÅÔ∏è',\n      'Rain': 'üåßÔ∏è',\n      'Drizzle': 'üå¶Ô∏è',\n      'Thunderstorm': '‚õàÔ∏è',\n      'Snow': '‚ùÑÔ∏è',\n      'Mist': 'üå´Ô∏è',\n      'Fog': 'üå´Ô∏è',\n      'Haze': 'üå´Ô∏è'\n    };\n    \n    return iconMap[condition] || 'üå§Ô∏è';\n  }\n\n  // Capitalize first letter of each word\n  private static capitalizeWords(str: string): string {\n    return str.replace(/\\b\\w/g, char => char.toUpperCase());\n  }\n\n  // Mock weather data for development/fallback\n  private static getMockWeatherData(): WeatherData {\n    return {\n      temperature: 72,\n      condition: 'Clear',\n      description: 'Clear Sky',\n      humidity: 65,\n      windSpeed: 8,\n      precipitation: 0,\n      icon: '‚òÄÔ∏è',\n      isOutdoorFriendly: true,\n      alerts: []\n    };\n  }\n\n  // Check if weather API is configured\n  static isConfigured(): boolean {\n    return this.API_KEY !== 'demo_key' && this.API_KEY.length > 0;\n  }\n\n  // Get weather recommendation text\n  static getWeatherRecommendation(weather: WeatherData): string {\n    if (!weather.isOutdoorFriendly) {\n      return 'Weather conditions may not be ideal for outdoor activities. Consider rescheduling or moving indoors.';\n    }\n    \n    if (weather.temperature < 60) {\n      return 'Cool weather - dress in layers and bring warm clothing.';\n    } else if (weather.temperature > 80) {\n      return 'Warm weather - bring water and sun protection.';\n    }\n    \n    return 'Great weather for outdoor activities!';\n  }\n}\n","// Utility functions for consistent event date/time formatting\n\nfunction toLocalDate(date: Date) {\n  // Normalize to local midnight for comparisons\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n}\n\nfunction safeParse(dateStr?: string, timeStr?: string): Date | null {\n  if (!dateStr && !timeStr) return null;\n  // Try ISO first\n  if (dateStr && !timeStr) {\n    const d = new Date(dateStr);\n    return isNaN(d.getTime()) ? null : d;\n  }\n  if (!dateStr && timeStr) {\n    const d = new Date(timeStr);\n    return isNaN(d.getTime()) ? null : d;\n  }\n  // Combine date and time into local date\n  try {\n    // Support formats like 2025-08-28 and 8:30 PM\n    const [y, m, d] = (dateStr as string).split('-').map(Number);\n    if (!y || !m || !d) throw new Error('bad date');\n    let hours = 0, minutes = 0;\n    if (timeStr) {\n      const match = (timeStr as string).trim().match(/^(\\d{1,2})(?::(\\d{2}))?\\s*(AM|PM)?$/i);\n      if (match) {\n        hours = parseInt(match[1], 10);\n        minutes = match[2] ? parseInt(match[2], 10) : 0;\n        const meridiem = match[3]?.toUpperCase();\n        if (meridiem) {\n          if (meridiem === 'PM' && hours < 12) hours += 12;\n          if (meridiem === 'AM' && hours === 12) hours = 0;\n        }\n      }\n    }\n    const dt = new Date(y, m - 1, d, hours, minutes);\n    return isNaN(dt.getTime()) ? null : dt;\n  } catch {\n    return null;\n  }\n}\n\nfunction formatTime(dt: Date, locale?: string) {\n  return new Intl.DateTimeFormat(locale || undefined, {\n    hour: 'numeric',\n    minute: '2-digit'\n  }).format(dt);\n}\n\nfunction formatMonthDay(dt: Date, locale?: string) {\n  return new Intl.DateTimeFormat(locale || undefined, {\n    month: 'short',\n    day: 'numeric'\n  }).format(dt);\n}\n\nexport function formatEventHeader(dateStr?: string, timeStr?: string, locale?: string) {\n  const now = new Date();\n  const parsed = safeParse(dateStr, timeStr);\n  if (!parsed) {\n    // Fallback to simple join if parsing fails\n    const datePart = dateStr || '';\n    const timePart = timeStr || '';\n    return {\n      label: [datePart, timePart].filter(Boolean).join(' ¬∑ '),\n      aria: `Event ${[datePart, timePart].filter(Boolean).join(' at ')}`,\n      isPast: false,\n      isToday: false,\n      date: datePart,\n      time: timePart,\n    };\n  }\n\n  const today = toLocalDate(now);\n  const eventDate = toLocalDate(parsed);\n  const diffDays = Math.round((eventDate.getTime() - today.getTime()) / 86400000);\n\n  const timeLabel = timeStr ? formatTime(parsed, locale) : '';\n  let dateLabel = '';\n  let isToday = false;\n\n  if (diffDays === 0) {\n    dateLabel = 'Today';\n    isToday = true;\n  } else if (diffDays === 1) {\n    dateLabel = 'Tomorrow';\n  } else {\n    dateLabel = formatMonthDay(parsed, locale);\n  }\n\n  const label = [dateLabel, timeLabel].filter(Boolean).join(' ¬∑ ');\n  const aria = `Event ${dateLabel}${timeLabel ? ` at ${timeLabel}` : ''}`;\n  const isPast = parsed.getTime() < now.getTime();\n\n  return {\n    label,\n    aria,\n    isPast,\n    isToday,\n    date: dateLabel,\n    time: timeLabel,\n  };\n}\n\nexport function formatCalendarInfo(dateStr?: string, timeStr?: string, locale?: string) {\n  const parsed = safeParse(dateStr, timeStr);\n  if (!parsed) {\n    return { date: dateStr || '', time: timeStr || '' };\n  }\n  return {\n    date: formatMonthDay(parsed, locale),\n    time: formatTime(parsed, locale),\n  };\n}\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { Avatar, AvatarFallback } from './ui/avatar';\nimport { Separator } from './ui/separator';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { \n  ArrowLeft, \n  Calendar, \n  MapPin, \n  Users, \n  MessageCircle, \n  Share, \n  Flag, \n  Clock,\n  DollarSign,\n  Star,\n  Navigation,\n  Loader2,\n  Keyboard\n} from 'lucide-react';\nimport { ImageWithFallback } from './figma/ImageWithFallback';\nimport { useGames, useAppLoading, useAppStore } from '../store/appStore';\nimport { useGameActions } from '../hooks/useGameActions';\nimport { useDeepLinks } from '../hooks/useDeepLinks';\nimport { useCustomShortcuts } from '../hooks/useKeyboardShortcuts';\nimport { QuickJoinModal } from './QuickJoinModal';\nimport { InviteModal } from './InviteModal';\nimport { toast } from 'sonner';\nimport { WeatherService, WeatherData } from '../lib/weatherService';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { formatEventHeader, formatCalendarInfo } from '../lib/dateUtils';\n\n\n\n// Weather Info Component\nfunction WeatherInfo({ game }: { game: any }) {\n  const [weather, setWeather] = useState<WeatherData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (game.latitude && game.longitude) {\n      const gameDateTime = new Date(`${game.date} ${game.time}`);\n      WeatherService.getGameWeather(game.latitude, game.longitude, gameDateTime)\n        .then(setWeather)\n        .finally(() => setLoading(false));\n    }\n  }, [game.latitude, game.longitude, game.date, game.time]);\n\n  if (loading) {\n    return <div className=\"text-sm text-muted-foreground\">Loading weather...</div>;\n  }\n\n  if (!weather) {\n    return <div className=\"text-sm text-muted-foreground\">Weather unavailable</div>;\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-2xl\">{weather.icon}</span>\n          <div>\n            <div className=\"font-medium\">{weather.temperature}¬∞F</div>\n            <div className=\"text-sm text-muted-foreground\">{weather.description}</div>\n          </div>\n        </div>\n        <div className=\"text-right text-sm text-muted-foreground\">\n          <div>Humidity: {weather.humidity}%</div>\n          <div>Wind: {weather.windSpeed} mph</div>\n        </div>\n      </div>\n      \n      {weather.alerts && weather.alerts.length > 0 && (\n        <div className=\"space-y-1\">\n          {weather.alerts.map((alert, index) => (\n            <div key={index} className=\"text-xs bg-yellow-50 text-yellow-800 p-2 rounded\">\n              {alert}\n            </div>\n          ))}\n        </div>\n      )}\n      \n      <div className=\"text-xs text-muted-foreground\">\n        {WeatherService.getWeatherRecommendation(weather)}\n      </div>\n    </div>\n  );\n}\n\nexport function GameDetails() {\n  const navigate = useNavigate();\n  const { gameId } = useParams();\n  const games = useGames();\n  const isLoading = useAppLoading();\n  const { user } = useAppStore();\n  const { toggleGameParticipation } = useGameActions();\n  const { shareGame, navigateToChat, navigateToUser } = useDeepLinks();\n  const [showFullDescription, setShowFullDescription] = useState(false);\n  const [players, setPlayers] = useState([] as any[]);\n  const [loadingPlayers, setLoadingPlayers] = useState(false);\n  const [showQuickJoin, setShowQuickJoin] = useState(false);\n  const [showInvite, setShowInvite] = useState(false);\n  \n  // Find the game by ID\n  const game = games.find(g => g.id === gameId);\n\n  // Load players for this game\n  useEffect(() => {\n    if (gameId) {\n      const loadPlayers = async () => {\n        setLoadingPlayers(true);\n        try {\n          const gamePlayers = await SupabaseService.getGameParticipants(gameId);\n          setPlayers(gamePlayers);\n        } catch (error) {\n          console.error('Error loading players:', error);\n          setPlayers([]);\n        } finally {\n          setLoadingPlayers(false);\n        }\n      };\n      \n      loadPlayers();\n    }\n  }, [gameId]);\n  \n  // Set up custom keyboard shortcuts for this component\n  useCustomShortcuts([\n    {\n      key: 'j',\n      description: 'Join/Leave game',\n      action: () => {\n        if (game && !isLoading) {\n          handleJoinLeave();\n        }\n      },\n      disabled: !game || isLoading\n    },\n    {\n      key: 'u',\n      description: 'Share game',\n      action: () => {\n        if (game) {\n          handleShare();\n        }\n      },\n      disabled: !game\n    },\n    {\n      key: 'l',\n      description: 'Get directions',\n      action: () => {\n        if (game) {\n          handleDirections();\n        }\n      },\n      disabled: !game\n    }\n  ]);\n  \n  if (!game) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl mb-4\">Game not found</h1>\n          <p className=\"text-muted-foreground mb-4\">The game you're looking for doesn't exist or has been removed.</p>\n          <Button onClick={() => navigate('/')}>Go Home</Button>\n        </div>\n      </div>\n    );\n  }\n\n  // Precompute formatted date/time labels for header and calendar\n  const headerInfo = formatEventHeader(game.date, game.time);\n  const calendarInfo = formatCalendarInfo(game.date, game.time);\n\n  const isFull = game.currentPlayers >= game.maxPlayers;\n  const tags: string[] | undefined = (game as any).tags;\n\n  const handleJoinLeave = async () => {\n    // If user is not authenticated, show quick join modal\n    if (!user) {\n      setShowQuickJoin(true);\n      return;\n    }\n    \n    await toggleGameParticipation(game.id);\n  };\n\n  const handleQuickJoinSuccess = async () => {\n    setShowQuickJoin(false);\n    // After successful signup, join the game\n    if (gameId) {\n      await toggleGameParticipation(gameId);\n    }\n  };\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  const handleChat = () => {\n    navigateToChat('game', gameId!);\n  };\n\n  const handleDirectMessage = (playerId: string, playerName: string) => {\n    navigateToChat('direct', playerId);\n  };\n\n  const handleShare = async () => {\n    setShowInvite(true);\n  };\n\n  const handleDirections = () => {\n    const address = game.location || \"Location not specified\";\n    const encodedAddress = encodeURIComponent(address);\n    \n    // Try to open in native maps app first, fallback to Google Maps\n    const mapsUrl = `https://maps.google.com/maps?q=${encodedAddress}&t=m&z=16`;\n    \n    try {\n      // For mobile devices, try to open native maps\n      if (navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)) {\n        const nativeUrl = `maps://maps.google.com/maps?q=${encodedAddress}`;\n        window.location.href = nativeUrl;\n        \n        // Fallback to web maps if native doesn't open\n        setTimeout(() => {\n          window.open(mapsUrl, '_blank');\n        }, 1000);\n      } else {\n        window.open(mapsUrl, '_blank');\n      }\n      \n      toast.success('Opening directions...');\n    } catch (error) {\n      toast.error('Failed to open directions');\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10\">\n        <div className=\"flex items-center justify-between px-4 py-4\">\n          <div className=\"flex items-center gap-4\">\n            <Button \n              variant=\"ghost\" \n              size=\"icon\" \n              onClick={handleBack}\n              aria-label=\"Go back\"\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n            </Button>\n            <div role=\"text\" aria-label={`Event: ${game.title}. ${headerInfo.aria}`}>\n              <h1 className=\"text-xl font-semibold line-clamp-2\">{game.title}</h1>\n              <p className=\"text-sm text-muted-foreground\">{headerInfo.label}</p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button \n              variant=\"ghost\" \n              size=\"icon\" \n              onClick={handleShare}\n              data-action=\"share\"\n              aria-label=\"Share game\"\n              title=\"Share game (U)\"\n            >\n              <Share className=\"w-5 h-5\" />\n            </Button>\n            <Button \n              variant=\"ghost\" \n              size=\"icon\"\n              aria-label=\"Report game\"\n            >\n              <Flag className=\"w-5 h-5\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Keyboard shortcuts hint for desktop */}\n        <div className=\"hidden lg:block px-4 pb-2\">\n          <div className=\"flex items-center gap-4 text-xs text-muted-foreground\">\n            <span className=\"flex items-center gap-1\">\n              <Keyboard className=\"w-3 h-3\" />\n              Shortcuts:\n            </span>\n            <span>J = Join/Leave</span>\n            <span>U = Share</span>\n            <span>L = Directions</span>\n            <span>? = All shortcuts</span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"px-4 py-6 space-y-6\" id=\"main-content\">\n        {/* Hero Image & Basic Info */}\n        <Card>\n          <div className=\"relative\">\n            <div className=\"aspect-video overflow-hidden rounded-t-lg\">\n              <ImageWithFallback\n                src={game.imageUrl}\n                alt={`${game.sport} game`}\n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n            <div className=\"absolute top-4 right-4\">\n              <Badge className={`${game.sportColor} text-white border-none`}>\n                {game.sport}\n              </Badge>\n            </div>\n          </div>\n          \n          <CardContent className=\"p-6\">\n            {/* Game Info Grid */}\n            <div className=\"grid grid-cols-2 gap-4 mb-6\">\n              <div className=\"flex items-center gap-3\">\n                <Calendar className=\"w-5 h-5 text-muted-foreground\" />\n                <div>\n                  <div>{calendarInfo.date}</div>\n                  <div className=\"text-sm text-muted-foreground\">{calendarInfo.time}</div>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-3\">\n                <Clock className=\"w-5 h-5 text-muted-foreground\" />\n                <div>\n                  <div>2 hours</div>\n                  <div className=\"text-sm text-muted-foreground\">Duration</div>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-3\">\n                <Users className=\"w-5 h-5 text-muted-foreground\" />\n                <div>\n                  <div>{game.currentPlayers}/{game.maxPlayers}</div>\n                  <div className=\"text-sm text-muted-foreground\">Players</div>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-3\">\n                <DollarSign className=\"w-5 h-5 text-muted-foreground\" />\n                <div>\n                  <div>{game.cost}</div>\n                  <div className=\"text-sm text-muted-foreground\">Cost</div>\n                </div>\n              </div>\n            </div>\n\n            {/* Tags */}\n            <div className=\"flex flex-wrap gap-2 mb-6\">\n              {Array.isArray(tags) && tags.map((tag: string) => (\n                <Badge key={tag} variant=\"secondary\">{tag}</Badge>\n              ))}\n            </div>\n\n            {/* Join Button */}\n            <Button\n              onClick={handleJoinLeave}\n              disabled={(!game.isJoined && isFull) || isLoading}\n              className=\"w-full h-12\"\n              variant={game.isJoined ? 'outline' : 'default'}\n              data-action=\"join-game\"\n              title={`${game.isJoined ? 'Leave' : 'Join'} game (J)`}\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  {game.isJoined ? 'Leaving...' : 'Joining...'}\n                </>\n              ) : isFull && !game.isJoined ? (\n                'Game is Full'\n              ) : game.isJoined ? (\n                'Leave Game'\n              ) : !user ? (\n                'Join Game - Sign Up'\n              ) : (\n                'Join Game'\n              )}\n            </Button>\n          </CardContent>\n        </Card>\n\n        {/* Location */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <MapPin className=\"w-5 h-5\" />\n              Location\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div>\n                <div>{game.location}</div>\n              </div>\n              \n              <div className=\"aspect-video bg-muted rounded-lg flex items-center justify-center\">\n                {game.latitude && game.longitude ? (\n                  <iframe\n                    src={`https://www.google.com/maps/embed/v1/place?key=${(import.meta as any).env?.VITE_GOOGLE_PLACES_API_KEY || ''}&q=${game.latitude},${game.longitude}&zoom=15`}\n                    width=\"100%\"\n                    height=\"100%\"\n                    style={{ border: 0 }}\n                    allowFullScreen\n                    loading=\"lazy\"\n                    referrerPolicy=\"no-referrer-when-downgrade\"\n                    className=\"rounded-lg\"\n                    title=\"Game location map\"\n                  />\n                ) : (\n                  <div className=\"text-center text-muted-foreground\">\n                    <MapPin className=\"w-8 h-8 mx-auto mb-2\" />\n                    <p>Map not available</p>\n                  </div>\n                )}\n              </div>\n              \n              <Button \n                variant=\"outline\" \n                className=\"w-full\"\n                onClick={handleDirections}\n                data-action=\"directions\"\n                title=\"Get directions (L)\"\n              >\n                <Navigation className=\"w-4 h-4 mr-2\" />\n                Get Directions\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Weather */}\n        {game.latitude && game.longitude && (\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                ‚òÄÔ∏è Weather Forecast\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <WeatherInfo game={game} />\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Description */}\n        <Card>\n          <CardHeader>\n            <CardTitle>About This Game</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <p className={`text-sm leading-relaxed ${!showFullDescription ? 'line-clamp-3' : ''}`}>\n                {game.description}\n              </p>\n              {game.description.length > 150 && (\n                <Button \n                  variant=\"ghost\" \n                  size=\"sm\" \n                  onClick={() => setShowFullDescription(!showFullDescription)}\n                  className=\"p-0 h-auto\"\n                >\n                  {showFullDescription ? 'Show less' : 'Show more'}\n                </Button>\n              )}\n              \n              <div>\n                <h4 className=\"mb-2\">Requirements</h4>\n                <ul className=\"space-y-1\">\n                  {['Athletic shoes required', 'Bring water bottle', 'No experience necessary'].map((req, index) => (\n                    <li key={index} className=\"text-sm text-muted-foreground flex items-start gap-2\">\n                      <span className=\"w-1 h-1 bg-muted-foreground rounded-full mt-2 flex-shrink-0\"></span>\n                      {req}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Host Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Game Host</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <button \n                  onClick={() => navigateToUser('host1')}\n                  className=\"flex items-center gap-3 hover:opacity-80 transition-opacity\"\n                  data-action=\"view-profile\"\n                >\n                  <Avatar>\n                    <AvatarFallback>{game.createdBy?.charAt(0) || 'U'}</AvatarFallback>\n                  </Avatar>\n                  <div>\n                    <div>{game.createdBy || 'Unknown'}</div>\n                    <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n                      <Star className=\"w-3 h-3 fill-current text-warning\" />\n                      No rating yet\n                    </div>\n                  </div>\n                </button>\n              </div>\n              <Button \n                variant=\"outline\" \n                size=\"sm\"\n                onClick={() => handleDirectMessage('host1', game.createdBy || 'Host')}\n              >\n                Message\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Players List */}\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n                              <CardTitle>Players ({players.length}/{game.maxPlayers})</CardTitle>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n                              {players.map((player, index) => (\n                <div key={player.id}>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <Avatar>\n                        <AvatarFallback>{player.avatar}</AvatarFallback>\n                      </Avatar>\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          <button \n                            onClick={() => navigateToUser(player.id)}\n                            className=\"hover:text-primary transition-colors cursor-pointer\"\n                          >\n                            {player.name}\n                          </button>\n                          {player.isHost && (\n                            <Badge variant=\"secondary\" className=\"text-xs px-2 py-0\">Host</Badge>\n                          )}\n                        </div>\n                        <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n                          <Star className=\"w-3 h-3 fill-current text-warning\" />\n                          {player.rating}\n                        </div>\n                      </div>\n                    </div>\n                    {!player.isHost && (\n                      <Button \n                        variant=\"ghost\" \n                        size=\"sm\"\n                        onClick={() => handleDirectMessage(player.id, player.name)}\n                      >\n                        Message\n                      </Button>\n                    )}\n                  </div>\n                  {index < players.length - 1 && <Separator className=\"mt-3\" />}\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Join Status Alert */}\n        {game.isJoined && (\n          <Alert className=\"border-success text-success-foreground\">\n            <AlertDescription>\n              You're joined! See you on the field!\n            </AlertDescription>\n          </Alert>\n        )}\n      </div>\n\n      {/* Quick Join Modal */}\n      <QuickJoinModal\n        isOpen={showQuickJoin}\n        onClose={() => setShowQuickJoin(false)}\n        gameTitle={game.title}\n        gameId={game.id}\n        onJoinSuccess={handleQuickJoinSuccess}\n      />\n\n      {/* Invite Modal */}\n      <InviteModal\n        isOpen={showInvite}\n        onClose={() => setShowInvite(false)}\n        gameTitle={game.title}\n        gameId={game.id}\n        gameDate={calendarInfo.date}\n        gameTime={calendarInfo.time}\n        gameLocation={game.location}\n        sport={game.sport}\n      />\n    </div>\n  );\n}\n\nexport default GameDetails;"],"names":["__iconNode","Clock","createLucideIcon","Copy","DollarSign","Phone","Share2","useGameActions","joinGame","leaveGame","updateGame","setLoading","setError","useAppStore","games","state","handleJoinGame","useCallback","gameId","game","g","toast","resolve","handleLeaveGame","toggleGameParticipation","cancelGame","reason","useCustomShortcuts","customShortcuts","enabled","handleKeyDown","event","target","shortcut","keyMatches","ctrlMatches","metaMatches","shiftMatches","altMatches","error","useEffect","QuickJoinModal","isOpen","onClose","gameTitle","onJoinSuccess","signUp","signInWithOAuth","useAuth","step","setStep","useState","formData","setFormData","loading","handleQuickSignup","e","handleSocialLogin","provider","jsxs","Card","CardHeader","jsx","CardTitle","Button","X","CardContent","Input","prev","User","Mail","Alert","AlertDescription","InviteModal","gameDate","gameTime","gameLocation","sport","copied","setCopied","selectedContacts","setSelectedContacts","gameUrl","shareText","handleCopyLink","quickInviteOptions","Check","MessageCircle","smsUrl","subject","body","emailUrl","Users","whatsappUrl","Badge","option","WeatherService","lat","lng","response","data","gameDateTime","closestForecast","smallestDiff","forecast","forecastTime","diff","apiData","temp","condition","description","precipitation","windSpeed","alerts","str","char","weather","toLocalDate","date","safeParse","dateStr","timeStr","d","y","m","hours","minutes","match","meridiem","dt","formatTime","locale","formatMonthDay","formatEventHeader","now","parsed","datePart","timePart","today","eventDate","diffDays","timeLabel","dateLabel","isToday","label","aria","isPast","formatCalendarInfo","WeatherInfo","setWeather","alert","index","GameDetails","navigate","useNavigate","useParams","useGames","isLoading","useAppLoading","user","navigateToChat","navigateToUser","useDeepLinks","showFullDescription","setShowFullDescription","players","setPlayers","loadingPlayers","setLoadingPlayers","showQuickJoin","setShowQuickJoin","showInvite","setShowInvite","gamePlayers","SupabaseService","handleJoinLeave","handleShare","handleDirections","headerInfo","calendarInfo","isFull","tags","handleQuickJoinSuccess","handleBack","handleDirectMessage","playerId","playerName","address","encodedAddress","mapsUrl","nativeUrl","ArrowLeft","Share","Flag","Keyboard","ImageWithFallback","Calendar","tag","Fragment","Loader2","MapPin","Navigation","req","Avatar","AvatarFallback","Star","player","Separator"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}