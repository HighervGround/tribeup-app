import{j as e}from"./ui-Ca5AhCQM.js";import{r as w}from"./vendor-IUqyc6Bg.js";import{x as $,D as b,B as n,w as U,H as D,R as E,C as I,v as W,q as h}from"./index-CgFXuVCN.js";import{B as G}from"./badge-DJ-Hd5ZM.js";import{B as j}from"./bell-CfzQ6tCx.js";import{C as _}from"./calendar-DHKyDRPM.js";import{M as A}from"./message-square-D-01n8bU.js";import{C as P}from"./circle-check-big-DfnhOPNg.js";import{u as Y}from"./useNotifications-BxG0Syjo.js";import{u as F,T as k}from"./useDeepLinks-e3vHyinM.js";import{A as H}from"./arrow-left-hoaBxXb6.js";import{S as J}from"./settings-CW37znJx.js";import{C as K}from"./check-DFi9uiSw.js";import{U as C}from"./users-Byz5f1Hg.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Q=$("check-check",O);function V({icon:t,title:p,description:i,action:l,className:d,size:m="md"}){const c={sm:"py-8 px-4",md:"py-12 px-6",lg:"py-16 px-8"},f={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"};return e.jsxs("div",{className:b("flex flex-col items-center justify-center text-center",c[m],d),children:[t&&e.jsx("div",{className:b("text-muted-foreground mb-4 flex items-center justify-center",f[m]),children:t}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:p}),i&&e.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:i}),l&&e.jsx(n,{onClick:l.onClick,variant:l.variant||"default",children:l.label})]})}function X({filter:t}){const i=(()=>{switch(t){case"unread":return{title:"All caught up!",description:"You have no unread notifications. You're all up to date!",icon:e.jsx(P,{className:"w-8 h-8"})};case"messages":return{title:"No message notifications",description:"You haven't received any message notifications recently.",icon:e.jsx(A,{className:"w-8 h-8"})};case"games":return{title:"No game notifications",description:"No game updates, reminders, or join requests at the moment.",icon:e.jsx(_,{className:"w-8 h-8"})};default:return{title:"No notifications",description:"When you receive notifications, they'll appear here. Stay tuned for updates!",icon:e.jsx(j,{className:"w-8 h-8"})}}})();return e.jsx(V,{icon:i.icon,title:i.title,description:i.description,size:"md"})}const Z=t=>{switch(t){case"new_message":return e.jsx(A,{className:"w-5 h-5 text-blue-500"});case"game_reminder":return e.jsx(_,{className:"w-5 h-5 text-orange-500"});case"game_update":return e.jsx(C,{className:"w-5 h-5 text-green-500"});case"join_request":return e.jsx(C,{className:"w-5 h-5 text-purple-500"});case"system":return e.jsx(j,{className:"w-5 h-5 text-gray-500"});default:return e.jsx(j,{className:"w-5 h-5 text-gray-500"})}},ee=t=>{switch(t){case"new_message":return"bg-blue-500/10 border-blue-500/20";case"game_reminder":return"bg-orange-500/10 border-orange-500/20";case"game_update":return"bg-green-500/10 border-green-500/20";case"join_request":return"bg-purple-500/10 border-purple-500/20";case"system":return"bg-gray-500/10 border-gray-500/20";default:return"bg-muted/50 border-border"}};function pe(){const t=U(),{navigateToGame:p,navigateToChat:i,navigateToUser:l}=F(),[d,m]=w.useState(!1),[c,f]=w.useState("all"),{notifications:g,unreadCount:u,markAsRead:N,markAllAsRead:z,deleteNotification:M,clearAll:S}=Y(),v=g.filter(s=>{switch(c){case"unread":return!s.read;case"messages":return s.type==="new_message";case"games":return["game_reminder","game_update","join_request"].includes(s.type);default:return!0}}),q=async s=>{if(s.read||N(s.id),s.actionUrl){const r=s.actionUrl;if(r.startsWith("/game/")){const a=r.split("/")[2];p(a)}else if(r.startsWith("/chat/")){const a=r.split("/"),o=a[2],x=a[3];i(o,x)}else if(r.startsWith("/user/")){const a=r.split("/")[2];l(a)}else t(r)}},R=async()=>{m(!0),await new Promise(s=>setTimeout(s,1e3)),m(!1),h.success("Notifications refreshed")},T=()=>{z(),h.success("All notifications marked as read")},B=()=>{S(),h.success("All notifications cleared")},L=s=>{const a=new Date().getTime()-s.getTime(),o=Math.floor(a/6e4),x=Math.floor(o/60),y=Math.floor(x/24);return o<1?"Just now":o<60?`${o}m ago`:x<24?`${x}h ago`:y<7?`${y}d ago`:s.toLocaleDateString()};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>t(-1),"aria-label":"Go back",children:e.jsx(H,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl",children:"Notifications"}),u>0&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[u," unread notification",u!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{variant:"ghost",size:"icon",onClick:R,disabled:d,"aria-label":"Refresh notifications",children:d?e.jsx(D,{size:"sm"}):e.jsx(E,{className:"w-4 h-4"})}),e.jsx(n,{variant:"ghost",size:"icon",onClick:()=>t("/settings/notifications"),"aria-label":"Notification settings",children:e.jsx(J,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{key:"all",label:"All",count:g.length},{key:"unread",label:"Unread",count:u},{key:"games",label:"Games",count:g.filter(s=>["game_reminder","game_update","join_request"].includes(s.type)).length}].map(s=>e.jsxs("button",{onClick:()=>f(s.key),className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all whitespace-nowrap ${c===s.key?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[e.jsx("span",{children:s.label}),s.count>0&&e.jsx(G,{variant:c===s.key?"secondary":"outline",className:"text-xs min-w-[20px] h-5",children:s.count})]},s.key))})}),g.length>0&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"flex gap-2",children:[u>0&&e.jsxs(n,{variant:"outline",size:"sm",onClick:T,className:"text-xs",children:[e.jsx(Q,{className:"w-3 h-3 mr-1"}),"Mark All Read"]}),e.jsxs(n,{variant:"outline",size:"sm",onClick:B,className:"text-xs text-destructive hover:text-destructive",children:[e.jsx(k,{className:"w-3 h-3 mr-1"}),"Clear All"]})]})})]}),e.jsx("div",{className:"px-4 py-6",id:"main-content",children:d?e.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((s,r)=>e.jsx("div",{className:"h-20 bg-muted/50 rounded-lg animate-pulse"},r))},"loading"):v.length===0?e.jsx("div",{children:e.jsx(X,{filter:c})},"empty"):e.jsx("div",{className:"space-y-3",children:v.map((s,r)=>e.jsx("div",{children:e.jsx(I,{className:`cursor-pointer transition-all hover:shadow-md ${s.read?"":"border-l-4 border-l-primary"} ${ee(s.type)}`,onClick:()=>q(s),children:e.jsx(W,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:Z(s.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`font-medium ${s.read?"text-muted-foreground":"text-foreground"}`,children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:s.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:L(s.timestamp)}),!s.read&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[!s.read&&e.jsx(n,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),N(s.id),h.success("Marked as read")},"aria-label":"Mark as read",className:"h-8 w-8 p-0",children:e.jsx(K,{className:"w-3 h-3"})}),e.jsx(n,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),M(s.id),h.success("Notification deleted")},"aria-label":"Delete notification",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsx(k,{className:"w-3 h-3"})})]})]})})]})})})},s.id))},"notifications")})]})}export{pe as NotificationCenter,pe as default};
//# sourceMappingURL=NotificationCenter-DNN2Zu8j.js.map
