{"version":3,"file":"GameDetails-P_HBy8XM.js","sources":["../../node_modules/date-fns/toDate.mjs","../../node_modules/date-fns/constants.mjs","../../node_modules/date-fns/_lib/defaultOptions.mjs","../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.mjs","../../node_modules/date-fns/compareAsc.mjs","../../node_modules/date-fns/constructNow.mjs","../../node_modules/date-fns/constructFrom.mjs","../../node_modules/date-fns/isLastDayOfMonth.mjs","../../node_modules/date-fns/endOfDay.mjs","../../node_modules/date-fns/endOfMonth.mjs","../../node_modules/date-fns/differenceInMonths.mjs","../../node_modules/date-fns/differenceInCalendarMonths.mjs","../../node_modules/date-fns/differenceInSeconds.mjs","../../node_modules/date-fns/differenceInMilliseconds.mjs","../../node_modules/date-fns/_lib/getRoundingMethod.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatDistance.mjs","../../node_modules/date-fns/locale/_lib/buildFormatLongFn.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatLong.mjs","../../node_modules/date-fns/locale/en-US/_lib/formatRelative.mjs","../../node_modules/date-fns/locale/_lib/buildLocalizeFn.mjs","../../node_modules/date-fns/locale/_lib/buildMatchFn.mjs","../../node_modules/date-fns/locale/_lib/buildMatchPatternFn.mjs","../../node_modules/date-fns/locale/en-US.mjs","../../node_modules/date-fns/locale/en-US/_lib/localize.mjs","../../node_modules/date-fns/locale/en-US/_lib/match.mjs","../../node_modules/date-fns/formatDistanceToNow.mjs","../../node_modules/date-fns/formatDistance.mjs","../../src/components/EnhancedGameChat.tsx","../../src/components/ui/dropdown-menu.tsx","../../src/components/ui/dialog.tsx","../../src/components/QuickJoinModal.tsx","../../src/components/ShareGameModal.tsx","../../src/components/PostGameRatingModal.tsx","../../src/hooks/useAchievements.ts","../../src/lib/weatherService.ts","../../src/components/GameDetails.tsx"],"sourcesContent":["/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument) {\n  const argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === \"object\" && argStr === \"[object Date]\")\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new argument.constructor(+argument);\n  } else if (\n    typeof argument === \"number\" ||\n    argStr === \"[object Number]\" ||\n    typeof argument === \"string\" ||\n    argStr === \"[object String]\"\n  ) {\n    // TODO: Can we get rid of as?\n    return new Date(argument);\n  } else {\n    // TODO: Can we get rid of as?\n    return new Date(NaN);\n  }\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n","let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n","import { toDate } from \"../toDate.mjs\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The first date to compare\n * @param dateRight - The second date to compare\n *\n * @returns The result of the comparison\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\nexport function compareAsc(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const diff = _dateLeft.getTime() - _dateRight.getTime();\n\n  if (diff < 0) {\n    return -1;\n  } else if (diff > 0) {\n    return 1;\n    // Return 0 if diff is 0; return NaN if diff is NaN\n  } else {\n    return diff;\n  }\n}\n\n// Fallback for modularized imports:\nexport default compareAsc;\n","import { constructFrom } from \"./constructFrom.mjs\";\n\n/**\n * @name constructNow\n * @category Generic Helpers\n * @summary Constructs a new current date using the passed value constructor.\n * @pure false\n *\n * @description\n * The function constructs a new current date using the constructor from\n * the reference date. It helps to build generic functions that accept date\n * extensions and use the current date.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n *\n * @returns Current date initialized using the given date constructor\n *\n * @example\n * import { constructNow, isSameDay } from 'date-fns'\n *\n * function isToday<DateType extends Date>(\n *   date: DateType | number | string,\n * ): boolean {\n *   // If we were to use `new Date()` directly, the function would  behave\n *   // differently in different timezones and return false for the same date.\n *   return isSameDay(date, constructNow(date));\n * }\n */\nexport function constructNow(date) {\n  return constructFrom(date, Date.now());\n}\n\n// Fallback for modularized imports:\nexport default constructNow;\n","/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from 'date-fns'\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use contrustor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   )\n * }\n */\nexport function constructFrom(date, value) {\n  if (date instanceof Date) {\n    return new date.constructor(value);\n  } else {\n    return new Date(value);\n  }\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","import { endOfDay } from \"./endOfDay.mjs\";\nimport { endOfMonth } from \"./endOfMonth.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date to check\n\n * @returns The date is the last day of a month\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * const result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\nexport function isLastDayOfMonth(date) {\n  const _date = toDate(date);\n  return +endOfDay(_date) === +endOfMonth(_date);\n}\n\n// Fallback for modularized imports:\nexport default isLastDayOfMonth;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date) {\n  const _date = toDate(date);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The original date\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date) {\n  const _date = toDate(date);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","import { compareAsc } from \"./compareAsc.mjs\";\nimport { differenceInCalendarMonths } from \"./differenceInCalendarMonths.mjs\";\nimport { isLastDayOfMonth } from \"./isLastDayOfMonth.mjs\";\nimport { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @description\n * Get the number of full months between the given dates using trunc as a default rounding method.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of full months\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\nexport function differenceInMonths(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const sign = compareAsc(_dateLeft, _dateRight);\n  const difference = Math.abs(\n    differenceInCalendarMonths(_dateLeft, _dateRight),\n  );\n  let result;\n\n  // Check for the difference of less than month\n  if (difference < 1) {\n    result = 0;\n  } else {\n    if (_dateLeft.getMonth() === 1 && _dateLeft.getDate() > 27) {\n      // This will check if the date is end of Feb and assign a higher end of month date\n      // to compare it with Jan\n      _dateLeft.setDate(30);\n    }\n\n    _dateLeft.setMonth(_dateLeft.getMonth() - sign * difference);\n\n    // Math.abs(diff in full months - diff in calendar months) === 1 if last calendar month is not full\n    // If so, result must be decreased by 1 in absolute value\n    let isLastMonthNotFull = compareAsc(_dateLeft, _dateRight) === -sign;\n\n    // Check for cases of one full calendar month\n    if (\n      isLastDayOfMonth(toDate(dateLeft)) &&\n      difference === 1 &&\n      compareAsc(dateLeft, _dateRight) === 1\n    ) {\n      isLastMonthNotFull = false;\n    }\n\n    result = sign * (difference - Number(isLastMonthNotFull));\n  }\n\n  // Prevent negative zero\n  return result === 0 ? 0 : result;\n}\n\n// Fallback for modularized imports:\nexport default differenceInMonths;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of calendar months\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\nexport function differenceInCalendarMonths(dateLeft, dateRight) {\n  const _dateLeft = toDate(dateLeft);\n  const _dateRight = toDate(dateRight);\n\n  const yearDiff = _dateLeft.getFullYear() - _dateRight.getFullYear();\n  const monthDiff = _dateLeft.getMonth() - _dateRight.getMonth();\n\n  return yearDiff * 12 + monthDiff;\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarMonths;\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.mjs\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.mjs\";\n\n/**\n * The {@link differenceInSeconds} function options.\n */\n\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of seconds\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\nexport function differenceInSeconds(dateLeft, dateRight, options) {\n  const diff = differenceInMilliseconds(dateLeft, dateRight) / 1000;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInSeconds;\n","import { toDate } from \"./toDate.mjs\";\n\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n *\n * @returns The number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nexport function differenceInMilliseconds(dateLeft, dateRight) {\n  return +toDate(dateLeft) - +toDate(dateRight);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMilliseconds;\n","export function getRoundingMethod(method) {\n  return (number) => {\n    const round = method ? Math[method] : Math.trunc;\n    const result = round(number);\n    // Prevent negative zero\n    return result === 0 ? 0 : result;\n  };\n}\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.mjs\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","/* eslint-disable no-unused-vars */\n\n/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any -- I challange you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","import { formatDistance } from \"./en-US/_lib/formatDistance.mjs\";\nimport { formatLong } from \"./en-US/_lib/formatLong.mjs\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.mjs\";\nimport { localize } from \"./en-US/_lib/localize.mjs\";\nimport { match } from \"./en-US/_lib/match.mjs\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.mjs\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.mjs\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.mjs\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { constructNow } from \"./constructNow.mjs\";\nimport { formatDistance } from \"./formatDistance.mjs\";\n\n/**\n * The {@link formatDistanceToNow} function options.\n */\n\n/**\n * @name formatDistanceToNow\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n * @pure false\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The given date\n * @param options - The object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * const result = formatDistanceToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * const result = formatDistanceToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * const result = formatDistanceToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * const eoLocale = require('date-fns/locale/eo')\n * const result = formatDistanceToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\nexport function formatDistanceToNow(date, options) {\n  return formatDistance(date, constructNow(date), options);\n}\n\n// Fallback for modularized imports:\nexport default formatDistanceToNow;\n","import { compareAsc } from \"./compareAsc.mjs\";\nimport { minutesInDay, minutesInMonth } from \"./constants.mjs\";\nimport { differenceInMonths } from \"./differenceInMonths.mjs\";\nimport { differenceInSeconds } from \"./differenceInSeconds.mjs\";\nimport { toDate } from \"./toDate.mjs\";\nimport { defaultLocale } from \"./_lib/defaultLocale.mjs\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.mjs\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.mjs\";\n\n/**\n * The {@link formatDistance} function options.\n */\n\n/**\n * @name formatDistance\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The date\n * @param baseDate - The date to compare with\n * @param options - An object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `baseDate` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistance(new Date(2014, 6, 2), new Date(2015, 0, 1))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * const result = formatDistance(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   { includeSeconds: true }\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistance(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistance(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> 'pli ol 1 jaro'\n */\n\nexport function formatDistance(date, baseDate, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n  const minutesInAlmostTwoDays = 2520;\n\n  const comparison = compareAsc(date, baseDate);\n\n  if (isNaN(comparison)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  const localizeOptions = Object.assign({}, options, {\n    addSuffix: options?.addSuffix,\n    comparison: comparison,\n  });\n\n  let dateLeft;\n  let dateRight;\n  if (comparison > 0) {\n    dateLeft = toDate(baseDate);\n    dateRight = toDate(date);\n  } else {\n    dateLeft = toDate(date);\n    dateRight = toDate(baseDate);\n  }\n\n  const seconds = differenceInSeconds(dateRight, dateLeft);\n  const offsetInSeconds =\n    (getTimezoneOffsetInMilliseconds(dateRight) -\n      getTimezoneOffsetInMilliseconds(dateLeft)) /\n    1000;\n  const minutes = Math.round((seconds - offsetInSeconds) / 60);\n  let months;\n\n  // 0 up to 2 mins\n  if (minutes < 2) {\n    if (options?.includeSeconds) {\n      if (seconds < 5) {\n        return locale.formatDistance(\"lessThanXSeconds\", 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale.formatDistance(\"lessThanXSeconds\", 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale.formatDistance(\"lessThanXSeconds\", 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale.formatDistance(\"halfAMinute\", 0, localizeOptions);\n      } else if (seconds < 60) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n      }\n    }\n\n    // 2 mins up to 0.75 hrs\n  } else if (minutes < 45) {\n    return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n\n    // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return locale.formatDistance(\"aboutXHours\", 1, localizeOptions);\n\n    // 1.5 hrs up to 24 hrs\n  } else if (minutes < minutesInDay) {\n    const hours = Math.round(minutes / 60);\n    return locale.formatDistance(\"aboutXHours\", hours, localizeOptions);\n\n    // 1 day up to 1.75 days\n  } else if (minutes < minutesInAlmostTwoDays) {\n    return locale.formatDistance(\"xDays\", 1, localizeOptions);\n\n    // 1.75 days up to 30 days\n  } else if (minutes < minutesInMonth) {\n    const days = Math.round(minutes / minutesInDay);\n    return locale.formatDistance(\"xDays\", days, localizeOptions);\n\n    // 1 month up to 2 months\n  } else if (minutes < minutesInMonth * 2) {\n    months = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"aboutXMonths\", months, localizeOptions);\n  }\n\n  months = differenceInMonths(dateRight, dateLeft);\n\n  // 2 months up to 12 months\n  if (months < 12) {\n    const nearestMonth = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"xMonths\", nearestMonth, localizeOptions);\n\n    // 1 year up to max Date\n  } else {\n    const monthsSinceStartOfYear = months % 12;\n    const years = Math.trunc(months / 12);\n\n    // N years up to 1 years 3 months\n    if (monthsSinceStartOfYear < 3) {\n      return locale.formatDistance(\"aboutXYears\", years, localizeOptions);\n\n      // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale.formatDistance(\"overXYears\", years, localizeOptions);\n\n      // N years 9 months up to N year 12 months\n    } else {\n      return locale.formatDistance(\"almostXYears\", years + 1, localizeOptions);\n    }\n  }\n}\n\n// Fallback for modularized imports:\nexport default formatDistance;\n","import React, { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Avatar, AvatarFallback, AvatarImage } from './ui/avatar';\nimport { Send, MessageSquare, Users } from 'lucide-react';\nimport { useAppStore } from '../store/appStore';\nimport { supabase } from '../lib/supabase';\nimport { formatDistanceToNow } from 'date-fns';\nimport { cn } from '../lib/utils';\n\ninterface ChatMessage {\n  id: string;\n  game_id: string;\n  user_id: string;\n  message: string;\n  created_at: string;\n  user?: {\n    name: string;\n    avatar?: string;\n  };\n}\n\ninterface EnhancedGameChatProps {\n  gameId: string;\n  className?: string;\n}\n\nexport function EnhancedGameChat({ gameId, className = '' }: EnhancedGameChatProps) {\n  const { user } = useAppStore();\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSending, setIsSending] = useState(false);\n  const [isConnected, setIsConnected] = useState(false);\n  const [onlineUsers, setOnlineUsers] = useState<Set<string>>(new Set());\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const channelRef = useRef<any>(null);\n\n  // Enhanced scroll to bottom with smooth animation\n  const scrollToBottom = useCallback(() => {\n    messagesEndRef.current?.scrollIntoView({ \n      behavior: 'smooth',\n      block: 'end'\n    });\n  }, []);\n\n  // Load existing messages from database\n  useEffect(() => {\n    const loadMessages = async () => {\n      try {\n        setIsLoading(true);\n        \n        const { data: messagesData, error } = await supabase\n          .from('chat_messages')\n          .select(`\n            id,\n            game_id,\n            user_id,\n            message,\n            created_at,\n            users:user_id (\n              full_name,\n              username,\n              avatar_url\n            )\n          `)\n          .eq('game_id', gameId)\n          .order('created_at', { ascending: true });\n\n        if (error) {\n          console.error(' Error loading messages:', error);\n          const storedMessages = localStorage.getItem(`chat-${gameId}`);\n          if (storedMessages) {\n            const parsed = JSON.parse(storedMessages);\n            setMessages(parsed);\n          }\n        } else {\n          const transformedMessages: ChatMessage[] = messagesData.map((msg: any) => ({\n            id: msg.id,\n            game_id: msg.game_id,\n            user_id: msg.user_id,\n            message: msg.message,\n            created_at: msg.created_at,\n            user: {\n              name: msg.users?.full_name || msg.users?.username || `Unknown User (${msg.user_id.slice(0, 8)})`,\n              avatar: msg.users?.avatar_url || ''\n            }\n          }));\n          \n          setMessages(transformedMessages);\n          console.log(' Loaded messages from database:', transformedMessages.length);\n        }\n      } catch (error) {\n        console.error('Error loading messages:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadMessages();\n  }, [gameId]);\n\n  // Enhanced real-time subscription with presence tracking\n  useEffect(() => {\n    if (!gameId || !user) return;\n\n    console.log(' Setting up enhanced chat realtime for game:', gameId);\n\n    // Create channel for game chat with presence tracking\n    const channel = supabase\n      .channel(`game-chat-${gameId}`)\n      .on('postgres_changes', {\n        event: 'INSERT',\n        schema: 'public',\n        table: 'chat_messages',\n        filter: `game_id=eq.${gameId}`\n      }, async (payload: any) => {\n        console.log(' New chat message from database:', payload);\n        \n        // Fetch the complete message with user data\n        const { data: messageData, error } = await supabase\n          .from('chat_messages')\n          .select(`\n            id,\n            game_id,\n            user_id,\n            message,\n            created_at,\n            users:user_id (\n              full_name,\n              username,\n              avatar_url\n            )\n          `)\n          .eq('id', payload.new.id)\n          .single();\n\n        if (!error && messageData) {\n          const newMsg: ChatMessage = {\n            id: messageData.id,\n            game_id: messageData.game_id,\n            user_id: messageData.user_id,\n            message: messageData.message,\n            created_at: messageData.created_at,\n            user: {\n              name: messageData.users?.full_name || messageData.users?.username || `Unknown User (${messageData.user_id.slice(0, 8)})`,\n              avatar: messageData.users?.avatar_url || ''\n            }\n          };\n          \n          // Add message if it's not already in the local state\n          setMessages(prev => {\n            const exists = prev.some(msg => msg.id === newMsg.id);\n            if (!exists) {\n              console.log(' Adding new message to chat:', newMsg.message, 'from:', newMsg.user?.name);\n              return [...prev, newMsg];\n            }\n            return prev;\n          });\n          setTimeout(scrollToBottom, 100);\n        }\n      })\n      .on('presence', { event: 'sync' }, () => {\n        const state = channel.presenceState();\n        const users = new Set(Object.keys(state));\n        setOnlineUsers(users);\n        console.log(' Online users updated:', users.size);\n      })\n      .on('presence', { event: 'join' }, ({ key }: { key: string }) => {\n        console.log(' User joined:', key);\n        setOnlineUsers(prev => new Set([...prev, key]));\n      })\n      .on('presence', { event: 'leave' }, ({ key }: { key: string }) => {\n        console.log(' User left:', key);\n        setOnlineUsers(prev => {\n          const newSet = new Set(prev);\n          newSet.delete(key);\n          return newSet;\n        });\n      })\n      .subscribe(async (status: string) => {\n        console.log(' Enhanced chat subscription status:', status);\n        if (status === 'SUBSCRIBED') {\n          setIsConnected(true);\n          // Track user presence\n          await channel.track({\n            user_id: user.id,\n            username: user.name,\n            online_at: new Date().toISOString(),\n          });\n        }\n      });\n\n    channelRef.current = channel;\n\n    return () => {\n      console.log(' Unsubscribing from enhanced chat:', gameId);\n      if (channelRef.current) {\n        channelRef.current.unsubscribe();\n      }\n    };\n  }, [gameId, user, scrollToBottom]);\n\n  // Auto-scroll when messages change\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, scrollToBottom]);\n\n  const sendMessage = async () => {\n    if (!newMessage.trim() || !user || isSending) return;\n\n    setIsSending(true);\n    \n    try {\n      // Save message to database\n      const { data: savedMessage, error: saveError } = await supabase\n        .from('chat_messages')\n        .insert({\n          game_id: gameId,\n          user_id: user.id,\n          message: newMessage.trim()\n        })\n        .select(`\n          id,\n          game_id,\n          user_id,\n          message,\n          created_at,\n          users:user_id (\n            full_name,\n            username,\n            avatar_url\n          )\n        `)\n        .single();\n\n      if (saveError) {\n        console.error(' Error saving message to database:', saveError);\n        throw saveError;\n      }\n\n      console.log(' Message saved to database:', savedMessage);\n\n      // Transform and add to local state immediately for sender\n      const newMsg: ChatMessage = {\n        id: savedMessage.id,\n        game_id: savedMessage.game_id,\n        user_id: savedMessage.user_id,\n        message: savedMessage.message,\n        created_at: savedMessage.created_at,\n        user: {\n          name: savedMessage.users?.full_name || savedMessage.users?.username || user.name,\n          avatar: savedMessage.users?.avatar_url || user.avatar || ''\n        }\n      };\n\n      setMessages(prev => [...prev, newMsg]);\n      setNewMessage('');\n      setTimeout(scrollToBottom, 100);\n      \n    } catch (error) {\n      console.error('Error sending message:', error);\n      alert('Failed to send message. Please try again.');\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  // Group consecutive messages from same user\n  const groupedMessages = useMemo(() => {\n    const grouped: Array<{ messages: ChatMessage[]; user: ChatMessage['user']; user_id: string }> = [];\n    \n    messages.forEach((message) => {\n      const lastGroup = grouped[grouped.length - 1];\n      if (lastGroup && lastGroup.user_id === message.user_id) {\n        lastGroup.messages.push(message);\n      } else {\n        grouped.push({\n          messages: [message],\n          user: message.user,\n          user_id: message.user_id\n        });\n      }\n    });\n    \n    return grouped;\n  }, [messages]);\n\n  if (!user) {\n    return (\n      <Card className={className}>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <MessageSquare className=\"w-5 h-5\" />\n            Game Chat\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-muted-foreground text-center py-4\">\n            Please sign in to join the chat\n          </p>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className={className}>\n      <CardHeader>\n        <CardTitle className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <MessageSquare className=\"w-5 h-5\" />\n            Game Chat\n            {messages.length > 0 && (\n              <span className=\"text-sm font-normal text-muted-foreground\">\n                ({messages.length} messages)\n              </span>\n            )}\n          </div>\n          <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n            <div className={cn(\"w-2 h-2 rounded-full\", isConnected ? \"bg-green-500\" : \"bg-gray-400\")} />\n            <Users className=\"w-4 h-4\" />\n            <span>{onlineUsers.size}</span>\n          </div>\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"p-0\">\n        {/* Messages Area */}\n        <div className=\"h-64 overflow-y-auto p-4 space-y-4\">\n          {isLoading ? (\n            <div className=\"flex items-center justify-center h-full\">\n              <div className=\"text-muted-foreground\">Loading messages...</div>\n            </div>\n          ) : messages.length === 0 ? (\n            <div className=\"flex items-center justify-center h-full\">\n              <div className=\"text-center text-muted-foreground\">\n                <MessageSquare className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n                <p>No messages yet</p>\n                <p className=\"text-sm\">Be the first to say something!</p>\n              </div>\n            </div>\n          ) : (\n            groupedMessages.map((group, groupIndex) => (\n              <div key={`group-${groupIndex}`} className=\"space-y-1\">\n                {group.messages.map((message, messageIndex) => {\n                  const isOwnMessage = message.user_id === user.id;\n                  const showHeader = messageIndex === 0;\n                  \n                  return (\n                    <div\n                      key={message.id}\n                      className={cn(\n                        \"flex gap-3 animate-in fade-in slide-in-from-bottom-2 duration-300\",\n                        isOwnMessage ? \"flex-row-reverse\" : \"\"\n                      )}\n                    >\n                      {showHeader && (\n                        <Avatar className=\"w-8 h-8 flex-shrink-0\">\n                          {message.user?.avatar && (\n                            <AvatarImage src={message.user.avatar} />\n                          )}\n                          <AvatarFallback className=\"text-xs\">\n                            {message.user?.name?.charAt(0)?.toUpperCase() || 'U'}\n                          </AvatarFallback>\n                        </Avatar>\n                      )}\n                      {!showHeader && <div className=\"w-8\" />}\n                      \n                      <div className={cn(\"flex-1 max-w-[70%]\", isOwnMessage ? \"text-right\" : \"\")}>\n                        {showHeader && !isOwnMessage && (\n                          <div className=\"flex items-center gap-2 text-xs mb-1\">\n                            <span className=\"font-medium\">{message.user?.name || 'Unknown'}</span>\n                            <span className=\"text-muted-foreground\">\n                              {formatDistanceToNow(new Date(message.created_at), { addSuffix: true })}\n                            </span>\n                          </div>\n                        )}\n                        \n                        <div\n                          className={cn(\n                            \"rounded-xl px-3 py-2 text-sm w-fit\",\n                            isOwnMessage\n                              ? \"bg-primary text-primary-foreground ml-auto\"\n                              : \"bg-muted\"\n                          )}\n                        >\n                          {message.message}\n                        </div>\n                        \n                        {isOwnMessage && showHeader && (\n                          <div className=\"text-xs text-muted-foreground mt-1\">\n                            {formatDistanceToNow(new Date(message.created_at), { addSuffix: true })}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            ))\n          )}\n          <div ref={messagesEndRef} />\n        </div>\n\n        {/* Enhanced Input Area */}\n        <div className=\"border-t p-4\">\n          <div className=\"flex gap-2\">\n            <Input\n              value={newMessage}\n              onChange={(e) => setNewMessage(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder={isConnected ? \"Type a message...\" : \"Connecting...\"}\n              disabled={isSending || !isConnected}\n              className={cn(\n                \"flex-1 rounded-full transition-all duration-300\",\n                newMessage.trim() ? \"pr-12\" : \"\"\n              )}\n            />\n            {newMessage.trim() && (\n              <Button\n                onClick={sendMessage}\n                disabled={!newMessage.trim() || isSending || !isConnected}\n                size=\"sm\"\n                className=\"rounded-full aspect-square animate-in fade-in slide-in-from-right-2 duration-300\"\n              >\n                <Send className=\"w-4 h-4\" />\n              </Button>\n            )}\n          </div>\n          <div className=\"flex items-center justify-between mt-2\">\n            <p className=\"text-xs text-muted-foreground\">\n              Press Enter to send  Shift+Enter for new line\n            </p>\n            <div className=\"flex items-center gap-1 text-xs text-muted-foreground\">\n              <div className={cn(\"w-1.5 h-1.5 rounded-full\", isConnected ? \"bg-green-500\" : \"bg-gray-400\")} />\n              {isConnected ? \"Connected\" : \"Connecting...\"}\n            </div>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"./utils\";\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />;\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-[99999] min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n          \"max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  );\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n};\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { XIcon } from \"lucide-react\";\n\nimport { cn } from \"./utils\";\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <DialogPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n          <XIcon />\n          <span className=\"sr-only\">Close</span>\n        </DialogPrimitive.Close>\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  );\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n","import React, { useState } from 'react';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { X, Mail, User, Phone } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { useSimpleAuth } from '../providers/SimpleAuthProvider';\n\ninterface QuickJoinModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  gameTitle: string;\n  gameId: string;\n  onJoinSuccess: () => void;\n}\n\nexport function QuickJoinModal({ isOpen, onClose, gameTitle, gameId, onJoinSuccess }: QuickJoinModalProps) {\n  const { signUp, signInWithOAuth } = useSimpleAuth();\n  const [step, setStep] = useState<'signup' | 'verify'>('signup');\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  if (!isOpen) return null;\n\n  const handleQuickSignup = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      // Create account with minimal info\n      await signUp(formData.email, 'temp-password-' + Date.now(), {\n        name: formData.name,\n        email: formData.email,\n        phone: formData.phone,\n        pendingGameId: gameId // Store which game they want to join\n      });\n      \n      setStep('verify');\n      toast.success('Account created! Check your email to verify and join the game.');\n    } catch (error: any) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSocialLogin = async (provider: 'google' | 'apple') => {\n    try {\n      setLoading(true);\n      await signInWithOAuth(provider, { pendingGameId: gameId });\n      toast.success(`Signing in with ${provider}...`);\n      // The AuthProvider will handle auto-joining after successful login\n      onClose();\n    } catch (error: any) {\n      toast.error(error.message || 'Social login failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-lg\">\n            {step === 'signup' ? `Join \"${gameTitle}\"` : 'Check Your Email'}\n          </CardTitle>\n          <Button variant=\"ghost\" size=\"icon\" onClick={onClose}>\n            <X className=\"w-4 h-4\" />\n          </Button>\n        </CardHeader>\n        \n        <CardContent>\n          {step === 'signup' ? (\n            <div className=\"space-y-4\">\n              {/* Social Login Options */}\n              <div className=\"space-y-2\">\n                <Button \n                  variant=\"outline\" \n                  className=\"w-full\"\n                  onClick={() => handleSocialLogin('google')}\n                  disabled={loading}\n                >\n                  <svg className=\"w-4 h-4 mr-2\" viewBox=\"0 0 24 24\">\n                    <path fill=\"currentColor\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                    <path fill=\"currentColor\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                    <path fill=\"currentColor\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                    <path fill=\"currentColor\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                  </svg>\n                  Continue with Google\n                </Button>\n                \n                <Button \n                  variant=\"outline\" \n                  className=\"w-full\"\n                  onClick={() => handleSocialLogin('apple')}\n                  disabled={loading}\n                >\n                  <svg className=\"w-4 h-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path d=\"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z\"/>\n                  </svg>\n                  Continue with Apple\n                </Button>\n              </div>\n\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <span className=\"w-full border-t\" />\n                </div>\n                <div className=\"relative flex justify-center text-xs uppercase\">\n                  <span className=\"bg-background px-2 text-muted-foreground\">Or continue with email</span>\n                </div>\n              </div>\n\n              {/* Quick Signup Form */}\n              <form onSubmit={handleQuickSignup} className=\"space-y-3\">\n                <div>\n                  <Input\n                    type=\"text\"\n                    placeholder=\"Your name\"\n                    value={formData.name}\n                    onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                    required\n                    className=\"pl-10\"\n                  />\n                  <User className=\"w-4 h-4 absolute left-3 top-3 text-muted-foreground\" />\n                </div>\n                \n                <div className=\"relative\">\n                  <Input\n                    type=\"email\"\n                    placeholder=\"Email address\"\n                    value={formData.email}\n                    onChange={(e) => setFormData(prev => ({ ...prev, email: e.target.value }))}\n                    required\n                    className=\"pl-10\"\n                  />\n                  <Mail className=\"w-4 h-4 absolute left-3 top-3 text-muted-foreground\" />\n                </div>\n                \n                <div className=\"relative\">\n                  <Input\n                    type=\"tel\"\n                    placeholder=\"Phone (optional)\"\n                    value={formData.phone}\n                    onChange={(e) => setFormData(prev => ({ ...prev, phone: e.target.value }))}\n                    className=\"pl-10\"\n                  />\n                  <Phone className=\"w-4 h-4 absolute left-3 top-3 text-muted-foreground\" />\n                </div>\n\n                {error && (\n                  <Alert variant=\"destructive\">\n                    <AlertDescription>{error}</AlertDescription>\n                  </Alert>\n                )}\n\n                <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n                  {loading ? 'Creating Account...' : 'Join Game'}\n                </Button>\n              </form>\n\n              <p className=\"text-xs text-muted-foreground text-center\">\n                By joining, you agree to our Terms of Service and Privacy Policy\n              </p>\n            </div>\n          ) : (\n            <div className=\"text-center space-y-4\">\n              <div className=\"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center\">\n                <Mail className=\"w-8 h-8 text-primary\" />\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Check your email</h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  We sent a verification link to <strong>{formData.email}</strong>\n                </p>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  Click the link to verify your account and automatically join \"{gameTitle}\"\n                </p>\n              </div>\n              <Button variant=\"outline\" onClick={onClose} className=\"w-full\">\n                Got it\n              </Button>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { Separator } from './ui/separator';\nimport { \n  Share2, \n  Copy, \n  Mail, \n  MessageSquare, \n  ExternalLink,\n  QrCode,\n  Calendar,\n  MapPin,\n  Users,\n  Clock\n} from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface ShareGameModalProps {\n  game: any;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function ShareGameModal({ game, isOpen, onClose }: ShareGameModalProps) {\n  const [copied, setCopied] = useState(false);\n  \n  if (!isOpen) return null;\n\n  const shareUrl = `${window.location.origin}/public/game/${game.id}`;\n  const shareText = `Join me for ${game.sport} at ${game.location} on ${game.date}!`;\n\n  const handleCopyLink = async () => {\n    try {\n      await navigator.clipboard.writeText(shareUrl);\n      setCopied(true);\n      toast.success('Link copied to clipboard!');\n      setTimeout(() => setCopied(false), 2000);\n    } catch (error) {\n      toast.error('Failed to copy link');\n    }\n  };\n\n  const handleNativeShare = async () => {\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: `Join ${game.title}`,\n          text: shareText,\n          url: shareUrl\n        });\n      } catch (error) {\n        // User cancelled share\n      }\n    } else {\n      handleCopyLink();\n    }\n  };\n\n  const handleEmailShare = () => {\n    const subject = encodeURIComponent(`Join me for ${game.sport}!`);\n    const body = encodeURIComponent(`\nHi!\n\nI'm organizing a ${game.sport} game and would love for you to join:\n\n ${game.location}\n ${game.date} at ${game.time}\n ${game.cost || 'Free'}\n ${game.currentPlayers}/${game.maxPlayers} players\n\n${game.description ? game.description + '\\n\\n' : ''}RSVP here: ${shareUrl}\n\nHope to see you there!\n    `.trim());\n    \n    window.open(`mailto:?subject=${subject}&body=${body}`);\n  };\n\n  const handleSMSShare = () => {\n    const message = encodeURIComponent(`${shareText} RSVP: ${shareUrl}`);\n    window.open(`sms:?body=${message}`);\n  };\n\n  const handleWhatsAppShare = () => {\n    const message = encodeURIComponent(`${shareText} RSVP: ${shareUrl}`);\n    window.open(`https://wa.me/?text=${message}`);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Share2 className=\"w-5 h-5\" />\n            Share Game\n          </CardTitle>\n        </CardHeader>\n        \n        <CardContent className=\"space-y-6\">\n          {/* Game Preview */}\n          <div className=\"bg-muted/50 rounded-lg p-4\">\n            <h3 className=\"font-semibold mb-2\">{game.title}</h3>\n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <Badge variant=\"secondary\">{game.sport}</Badge>\n              </div>\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <MapPin className=\"w-4 h-4\" />\n                <span>{game.location}</span>\n              </div>\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <Calendar className=\"w-4 h-4\" />\n                <span>{game.date}</span>\n              </div>\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <Clock className=\"w-4 h-4\" />\n                <span>{game.time}</span>\n              </div>\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <Users className=\"w-4 h-4\" />\n                <span>{game.currentPlayers}/{game.maxPlayers} players</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Share Link */}\n          <div>\n            <label className=\"text-sm font-medium mb-2 block\">\n              Public RSVP Link\n            </label>\n            <div className=\"flex gap-2\">\n              <Input\n                value={shareUrl}\n                readOnly\n                className=\"flex-1\"\n              />\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleCopyLink}\n                className={copied ? 'bg-green-50 text-green-700' : ''}\n              >\n                <Copy className=\"w-4 h-4\" />\n              </Button>\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-2\">\n              Anyone with this link can view game details and RSVP\n            </p>\n          </div>\n\n          <Separator />\n\n          {/* Share Options */}\n          <div>\n            <h4 className=\"text-sm font-medium mb-3\">Share via</h4>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <Button\n                variant=\"outline\"\n                onClick={handleNativeShare}\n                className=\"flex items-center gap-2\"\n              >\n                <Share2 className=\"w-4 h-4\" />\n                Share\n              </Button>\n              \n              <Button\n                variant=\"outline\"\n                onClick={handleEmailShare}\n                className=\"flex items-center gap-2\"\n              >\n                <Mail className=\"w-4 h-4\" />\n                Email\n              </Button>\n              \n              <Button\n                variant=\"outline\"\n                onClick={handleSMSShare}\n                className=\"flex items-center gap-2\"\n              >\n                <MessageSquare className=\"w-4 h-4\" />\n                SMS\n              </Button>\n              \n              <Button\n                variant=\"outline\"\n                onClick={handleWhatsAppShare}\n                className=\"flex items-center gap-2\"\n              >\n                <MessageSquare className=\"w-4 h-4\" />\n                WhatsApp\n              </Button>\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3\">\n            <Button variant=\"outline\" onClick={onClose} className=\"flex-1\">\n              Close\n            </Button>\n            <Button onClick={handleCopyLink} className=\"flex-1\">\n              <Copy className=\"w-4 h-4 mr-2\" />\n              Copy Link\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Avatar, AvatarFallback, AvatarImage } from './ui/avatar';\nimport { Badge } from './ui/badge';\nimport { Textarea } from './ui/textarea';\nimport { Separator } from './ui/separator';\nimport { \n  Dialog, \n  DialogContent, \n  DialogDescription, \n  DialogHeader, \n  DialogTitle \n} from './ui/dialog';\nimport { Star, Users, Trophy, MessageCircle, CheckCircle } from 'lucide-react';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { useAchievements } from '../hooks/useAchievements';\nimport { toast } from 'sonner';\n\ninterface Player {\n  id: string;\n  name: string;\n  avatar?: string;\n  isHost: boolean;\n}\n\ninterface PostGameRatingModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  gameId: string;\n  gameTitle: string;\n  players: Player[];\n}\n\ninterface GameRating {\n  overall: number;\n  organization: number;\n  skillLevel: number;\n  fun: number;\n  reviewText: string;\n  wouldPlayAgain: boolean;\n  recommendToOthers: boolean;\n}\n\ninterface PlayerRating {\n  playerId: string;\n  skill: number;\n  sportsmanship: number;\n  communication: number;\n  feedback: string;\n}\n\nexport function PostGameRatingModal({ \n  isOpen, \n  onClose, \n  gameId, \n  gameTitle, \n  players \n}: PostGameRatingModalProps) {\n  const { checkForNewAchievements } = useAchievements();\n  const [step, setStep] = useState<'game' | 'players' | 'complete'>('game');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  \n  const [gameRating, setGameRating] = useState<GameRating>({\n    overall: 0,\n    organization: 0,\n    skillLevel: 0,\n    fun: 0,\n    reviewText: '',\n    wouldPlayAgain: true,\n    recommendToOthers: true\n  });\n\n  const [playerRatings, setPlayerRatings] = useState<PlayerRating[]>(\n    players.map(player => ({\n      playerId: player.id,\n      skill: 0,\n      sportsmanship: 0,\n      communication: 0,\n      feedback: ''\n    }))\n  );\n\n  const StarRating = ({ \n    rating, \n    onRatingChange, \n    label \n  }: { \n    rating: number; \n    onRatingChange: (rating: number) => void; \n    label: string;\n  }) => (\n    <div className=\"space-y-2\">\n      <label className=\"text-sm font-medium\">{label}</label>\n      <div className=\"flex gap-1\">\n        {[1, 2, 3, 4, 5].map((star) => (\n          <button\n            key={star}\n            type=\"button\"\n            onClick={() => onRatingChange(star)}\n            className=\"p-1 hover:scale-110 transition-transform\"\n          >\n            <Star\n              className={`w-6 h-6 ${\n                star <= rating\n                  ? 'fill-yellow-400 text-yellow-400'\n                  : 'text-gray-300 hover:text-yellow-400'\n              }`}\n            />\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n\n  const handleGameRatingSubmit = async () => {\n    if (gameRating.overall === 0) {\n      toast.error('Please provide an overall rating');\n      return;\n    }\n\n    try {\n      setIsSubmitting(true);\n      await SupabaseService.submitGameReview({\n        gameId,\n        overallRating: gameRating.overall,\n        organizationRating: gameRating.organization || undefined,\n        skillLevelRating: gameRating.skillLevel || undefined,\n        funRating: gameRating.fun || undefined,\n        reviewText: gameRating.reviewText || undefined,\n        wouldPlayAgain: gameRating.wouldPlayAgain,\n        recommendToOthers: gameRating.recommendToOthers\n      });\n\n      setStep('players');\n    } catch (error) {\n      console.error('Failed to submit game rating:', error);\n      toast.error('Failed to submit rating. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handlePlayerRatingsSubmit = async () => {\n    const validRatings = playerRatings.filter(rating => \n      rating.skill > 0 && rating.sportsmanship > 0 && rating.communication > 0\n    );\n\n    if (validRatings.length === 0) {\n      setStep('complete');\n      return;\n    }\n\n    try {\n      setIsSubmitting(true);\n      \n      await Promise.all(\n        validRatings.map(rating =>\n          SupabaseService.submitPlayerRating({\n            gameId,\n            ratedPlayerId: rating.playerId,\n            skillRating: rating.skill,\n            sportsmanshipRating: rating.sportsmanship,\n            communicationRating: rating.communication,\n            feedbackText: rating.feedback || undefined\n          })\n        )\n      );\n\n      setStep('complete');\n    } catch (error) {\n      console.error('Failed to submit player ratings:', error);\n      toast.error('Failed to submit player ratings. Please try again.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleComplete = async () => {\n    // Check for new achievements after rating\n    await checkForNewAchievements();\n    onClose();\n  };\n\n  const updatePlayerRating = (playerId: string, field: keyof PlayerRating, value: any) => {\n    setPlayerRatings(prev =>\n      prev.map(rating =>\n        rating.playerId === playerId\n          ? { ...rating, [field]: value }\n          : rating\n      )\n    );\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Trophy className=\"w-5 h-5 text-primary\" />\n            Rate Your Experience\n          </DialogTitle>\n          <DialogDescription>\n            Help improve the community by rating {gameTitle}\n          </DialogDescription>\n        </DialogHeader>\n\n        {step === 'game' && (\n          <div className=\"space-y-6\">\n            <div className=\"text-center\">\n              <h3 className=\"text-lg font-semibold mb-2\">How was the game?</h3>\n              <p className=\"text-sm text-muted-foreground\">Your feedback helps other players</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <StarRating\n                rating={gameRating.overall}\n                onRatingChange={(rating) => setGameRating(prev => ({ ...prev, overall: rating }))}\n                label=\"Overall Rating *\"\n              />\n              \n              <StarRating\n                rating={gameRating.organization}\n                onRatingChange={(rating) => setGameRating(prev => ({ ...prev, organization: rating }))}\n                label=\"Organization\"\n              />\n              \n              <StarRating\n                rating={gameRating.skillLevel}\n                onRatingChange={(rating) => setGameRating(prev => ({ ...prev, skillLevel: rating }))}\n                label=\"Skill Level Match\"\n              />\n              \n              <StarRating\n                rating={gameRating.fun}\n                onRatingChange={(rating) => setGameRating(prev => ({ ...prev, fun: rating }))}\n                label=\"Fun Factor\"\n              />\n            </div>\n\n            <div className=\"space-y-3\">\n              <label className=\"text-sm font-medium\">Additional Comments</label>\n              <Textarea\n                placeholder=\"Share your experience with other players...\"\n                value={gameRating.reviewText}\n                onChange={(e) => setGameRating(prev => ({ ...prev, reviewText: e.target.value }))}\n                className=\"min-h-[80px]\"\n              />\n            </div>\n\n            <div className=\"flex gap-4\">\n              <label className=\"flex items-center gap-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={gameRating.wouldPlayAgain}\n                  onChange={(e) => setGameRating(prev => ({ ...prev, wouldPlayAgain: e.target.checked }))}\n                  className=\"rounded\"\n                />\n                <span className=\"text-sm\">I'd play again</span>\n              </label>\n              \n              <label className=\"flex items-center gap-2 cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  checked={gameRating.recommendToOthers}\n                  onChange={(e) => setGameRating(prev => ({ ...prev, recommendToOthers: e.target.checked }))}\n                  className=\"rounded\"\n                />\n                <span className=\"text-sm\">Recommend to others</span>\n              </label>\n            </div>\n\n            <div className=\"flex gap-3\">\n              <Button variant=\"outline\" onClick={onClose} className=\"flex-1\">\n                Skip\n              </Button>\n              <Button \n                onClick={handleGameRatingSubmit} \n                disabled={isSubmitting || gameRating.overall === 0}\n                className=\"flex-1\"\n              >\n                {isSubmitting ? 'Submitting...' : 'Next: Rate Players'}\n              </Button>\n            </div>\n          </div>\n        )}\n\n        {step === 'players' && (\n          <div className=\"space-y-6\">\n            <div className=\"text-center\">\n              <h3 className=\"text-lg font-semibold mb-2\">Rate Your Fellow Players</h3>\n              <p className=\"text-sm text-muted-foreground\">Optional but helps build a better community</p>\n            </div>\n\n            <div className=\"space-y-6\">\n              {players.map((player) => {\n                const rating = playerRatings.find(r => r.playerId === player.id);\n                if (!rating) return null;\n\n                return (\n                  <Card key={player.id}>\n                    <CardHeader className=\"pb-3\">\n                      <div className=\"flex items-center gap-3\">\n                        <Avatar>\n                          {player.avatar && <AvatarImage src={player.avatar} alt={player.name} />}\n                          <AvatarFallback>{player.name.charAt(0)}</AvatarFallback>\n                        </Avatar>\n                        <div className=\"flex-1\">\n                          <div className=\"font-medium\">{player.name}</div>\n                          {player.isHost && (\n                            <Badge variant=\"secondary\" className=\"text-xs\">Host</Badge>\n                          )}\n                        </div>\n                      </div>\n                    </CardHeader>\n                    <CardContent className=\"space-y-4\">\n                      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                        <StarRating\n                          rating={rating.skill}\n                          onRatingChange={(r) => updatePlayerRating(player.id, 'skill', r)}\n                          label=\"Skill Level\"\n                        />\n                        <StarRating\n                          rating={rating.sportsmanship}\n                          onRatingChange={(r) => updatePlayerRating(player.id, 'sportsmanship', r)}\n                          label=\"Sportsmanship\"\n                        />\n                        <StarRating\n                          rating={rating.communication}\n                          onRatingChange={(r) => updatePlayerRating(player.id, 'communication', r)}\n                          label=\"Communication\"\n                        />\n                      </div>\n                      \n                      <Textarea\n                        placeholder=\"Optional feedback for this player...\"\n                        value={rating.feedback}\n                        onChange={(e) => updatePlayerRating(player.id, 'feedback', e.target.value)}\n                        className=\"min-h-[60px]\"\n                      />\n                    </CardContent>\n                  </Card>\n                );\n              })}\n            </div>\n\n            <div className=\"flex gap-3\">\n              <Button variant=\"outline\" onClick={() => setStep('complete')} className=\"flex-1\">\n                Skip Player Ratings\n              </Button>\n              <Button \n                onClick={handlePlayerRatingsSubmit} \n                disabled={isSubmitting}\n                className=\"flex-1\"\n              >\n                {isSubmitting ? 'Submitting...' : 'Submit Ratings'}\n              </Button>\n            </div>\n          </div>\n        )}\n\n        {step === 'complete' && (\n          <div className=\"text-center space-y-6 py-8\">\n            <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto\">\n              <CheckCircle className=\"w-8 h-8 text-green-600\" />\n            </div>\n            \n            <div>\n              <h3 className=\"text-lg font-semibold mb-2\">Thanks for your feedback!</h3>\n              <p className=\"text-muted-foreground\">\n                Your ratings help make TribeUp better for everyone\n              </p>\n            </div>\n\n            <div className=\"bg-muted/50 rounded-lg p-4\">\n              <div className=\"flex items-center justify-center gap-2 text-sm text-muted-foreground\">\n                <Trophy className=\"w-4 h-4\" />\n                <span>Check your profile for any new achievements!</span>\n              </div>\n            </div>\n\n            <Button onClick={handleComplete} className=\"w-full\">\n              Done\n            </Button>\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { toast } from 'sonner';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { useAppStore } from '../store/appStore';\n\ninterface Achievement {\n  id: string;\n  name: string;\n  description: string;\n  icon: string;\n  category: string;\n  criteria: any;\n  points: number;\n  is_active: boolean;\n  created_at: string;\n}\n\ninterface UserAchievement {\n  id: string;\n  user_id: string;\n  achievement_id: string;\n  earned_at: string;\n  progress?: any;\n  achievement: Achievement;\n}\n\ninterface UserStats {\n  user_id: string;\n  games_played: number;\n  games_hosted: number;\n  total_play_time_minutes: number;\n  favorite_sport?: string;\n  last_activity: string;\n}\n\nexport function useAchievements() {\n  const { user } = useAppStore();\n  const [achievements, setAchievements] = useState<UserAchievement[]>([]);\n  const [userStats, setUserStats] = useState<UserStats | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Load user achievements and stats\n  useEffect(() => {\n    if (!user?.id) return;\n\n    const loadAchievements = async () => {\n      try {\n        setIsLoading(true);\n        const [achievementsData, statsData] = await Promise.all([\n          SupabaseService.getUserAchievements(user.id),\n          SupabaseService.getUserStats(user.id)\n        ]);\n        \n        setAchievements(achievementsData);\n        setUserStats(statsData);\n      } catch (error) {\n        console.error('Failed to load achievements:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadAchievements();\n  }, [user?.id]);\n\n  // Check for new achievements after game participation\n  const checkForNewAchievements = async () => {\n    if (!user?.id) return;\n\n    try {\n      const newAchievements = await SupabaseService.checkAndAwardAchievements(user.id);\n      \n      if (newAchievements.length > 0) {\n        // Show achievement toast notifications\n        newAchievements.forEach((achievement: Achievement) => {\n          showAchievementToast(achievement);\n        });\n\n        // Refresh achievements list\n        const updatedAchievements = await SupabaseService.getUserAchievements(user.id);\n        setAchievements(updatedAchievements);\n      }\n    } catch (error) {\n      console.error('Failed to check achievements:', error);\n    }\n  };\n\n  // Show achievement toast notification\n  const showAchievementToast = (achievement: Achievement) => {\n    toast.success(\n      ` Achievement Unlocked!`,\n      {\n        description: `${achievement.icon} ${achievement.name} - ${achievement.description} (+${achievement.points} points)`,\n        duration: 6000,\n        action: {\n          label: 'View All',\n          onClick: () => {\n            // Navigate to achievements page\n            window.location.href = '/profile?tab=achievements';\n          }\n        }\n      }\n    );\n  };\n\n  // Calculate achievement progress based on criteria\n  const getAchievementProgress = (achievement: Achievement, stats: UserStats) => {\n    const criteria = typeof achievement.criteria === 'string' \n      ? JSON.parse(achievement.criteria) \n      : achievement.criteria;\n    \n    let progress = 0;\n    let total = 1;\n\n    switch (criteria.type) {\n      case 'game_count':\n        total = criteria.count;\n        progress = Math.min(stats.games_played, total);\n        break;\n      case 'host_count':\n        total = criteria.count;\n        progress = Math.min(stats.games_hosted, total);\n        break;\n      case 'play_time_minutes':\n        total = criteria.count;\n        progress = Math.min(stats.total_play_time_minutes, total);\n        break;\n      case 'first_login':\n        // First login is binary - either achieved or not\n        total = 1;\n        progress = stats.last_activity ? 1 : 0;\n        break;\n      default:\n        total = 1;\n        progress = 0;\n    }\n\n    return { progress, total, percentage: Math.round((progress / total) * 100) };\n  };\n\n  // Calculate total achievement score\n  const getTotalScore = () => {\n    return achievements.reduce((total, userAchievement) => {\n      // Handle both nested and flat achievement structures\n      const achievement = userAchievement.achievement || userAchievement;\n      return total + (achievement?.points || 0);\n    }, 0);\n  };\n\n  // Get achievement rank based on total score\n  const getAchievementRank = (score: number) => {\n    if (score >= 200) return { title: 'Legend', icon: '', color: 'text-yellow-600', level: 6 };\n    if (score >= 150) return { title: 'Champion', icon: '', color: 'text-purple-600', level: 5 };\n    if (score >= 100) return { title: 'Expert', icon: '', color: 'text-blue-600', level: 4 };\n    if (score >= 50) return { title: 'Rising Star', icon: '', color: 'text-green-600', level: 3 };\n    if (score >= 25) return { title: 'Rookie', icon: '', color: 'text-orange-600', level: 2 };\n    return { title: 'Beginner', icon: '', color: 'text-gray-600', level: 1 };\n  };\n\n  // Get next achievements to unlock\n  const getNextAchievements = async () => {\n    if (!user?.id || !userStats) return [];\n\n    try {\n      const allAchievements = await SupabaseService.getAllAchievements();\n      const earnedIds = new Set(achievements.map(ua => ua.achievement_id));\n      \n      return allAchievements\n        .filter(achievement => !earnedIds.has(achievement.id) && achievement.is_active)\n        .map(achievement => ({\n          ...achievement,\n          progress: getAchievementProgress(achievement, userStats)\n        }))\n        .sort((a, b) => b.progress.percentage - a.progress.percentage)\n        .slice(0, 3); // Show top 3 closest achievements\n    } catch (error) {\n      console.error('Failed to get next achievements:', error);\n      return [];\n    }\n  };\n\n  const totalScore = getTotalScore();\n  const currentRank = getAchievementRank(totalScore);\n\n  return {\n    achievements,\n    userStats,\n    isLoading,\n    totalScore,\n    currentRank,\n    checkForNewAchievements,\n    showAchievementToast,\n    getAchievementProgress,\n    getAchievementRank,\n    getNextAchievements\n  };\n}\n","export interface WeatherData {\n  temperature: number;\n  condition: string;\n  description: string;\n  humidity: number;\n  windSpeed: number;\n  precipitation: number;\n  icon: string;\n  isOutdoorFriendly: boolean;\n  alerts?: string[];\n}\n\nexport interface WeatherForecast {\n  current: WeatherData;\n  hourly: WeatherData[];\n  daily: WeatherData[];\n}\n\nimport { envConfig } from './envConfig';\n\nexport class WeatherService {\n  private static readonly API_KEY = envConfig.get('openWeatherApiKey');\n  private static readonly BASE_URL = 'https://api.openweathermap.org/data/2.5';\n  \n  // Weather configuration - now managed by environment config\n  private static readonly CONFIG = {\n    temperatureUnit: envConfig.get('weatherTempUnit'),\n    updateInterval: envConfig.get('weatherUpdateInterval'),\n    includeHourlyForecast: envConfig.get('weatherIncludeHourly'),\n    rainThreshold: envConfig.get('weatherRainThreshold'),\n    windThreshold: envConfig.get('weatherWindThreshold')\n  };\n\n  // Get current weather for coordinates\n  static async getCurrentWeather(lat: number, lng: number): Promise<WeatherData | null> {\n    if (!this.API_KEY) {\n      console.warn('Weather API key not configured, using mock data');\n      return this.getMockWeatherData();\n    }\n\n    try {\n      const response = await fetch(\n        `${this.BASE_URL}/weather?lat=${lat}&lon=${lng}&appid=${this.API_KEY}&units=imperial`\n      );\n\n      if (!response.ok) {\n        throw new Error(`Weather API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return this.transformWeatherData(data);\n    } catch (error) {\n      console.error('Error fetching weather:', error);\n      return this.getMockWeatherData();\n    }\n  }\n\n  // Get weather forecast for game time with 4-hour window analysis\n  static async getGameWeather(lat: number, lng: number, gameDateTime: Date): Promise<WeatherData | null> {\n    if (!this.API_KEY) {\n      console.warn('Weather API key not configured, using mock data');\n      return this.getMockWeatherData();\n    }\n\n    try {\n      // Ensure coordinates are properly formatted (max 6 decimal places for precision)\n      const formattedLat = parseFloat(lat.toFixed(6));\n      const formattedLng = parseFloat(lng.toFixed(6));\n      \n      console.log(` Fetching weather for coordinates: ${formattedLat}, ${formattedLng}`);\n      console.log(` Game time: ${gameDateTime.toISOString()}`);\n      \n      const response = await fetch(\n        `${this.BASE_URL}/forecast?lat=${formattedLat}&lon=${formattedLng}&appid=${this.API_KEY}&units=imperial`\n      );\n\n      if (!response.ok) {\n        console.error(`Weather API error: ${response.status} ${response.statusText}`);\n        // Try current weather as fallback\n        return await this.getCurrentWeather(formattedLat, formattedLng);\n      }\n\n      const data = await response.json();\n      \n      if (!data.list || data.list.length === 0) {\n        console.warn('No forecast data available, falling back to current weather');\n        return await this.getCurrentWeather(formattedLat, formattedLng);\n      }\n      \n      console.log(` Received ${data.list.length} forecast entries`);\n      \n      // Define 4-hour window around game time (2 hours before to 2 hours after)\n      const gameTime = gameDateTime.getTime();\n      const windowStart = gameTime - (2 * 60 * 60 * 1000); // 2 hours before\n      const windowEnd = gameTime + (2 * 60 * 60 * 1000);   // 2 hours after\n      \n      console.log(` Weather window: ${new Date(windowStart).toISOString()} to ${new Date(windowEnd).toISOString()}`);\n      \n      // Find all forecasts within the 4-hour window\n      const windowForecasts = data.list.filter((forecast: any) => {\n        const forecastTime = forecast.dt * 1000;\n        return forecastTime >= windowStart && forecastTime <= windowEnd;\n      });\n      \n      console.log(` Found ${windowForecasts.length} forecasts in 4-hour window`);\n      \n      let selectedForecast;\n      \n      if (windowForecasts.length > 0) {\n        // Use the forecast closest to game time within the window\n        selectedForecast = windowForecasts.reduce((closest: any, current: any) => {\n          const currentDiff = Math.abs((current.dt * 1000) - gameTime);\n          const closestDiff = Math.abs((closest.dt * 1000) - gameTime);\n          return currentDiff < closestDiff ? current : closest;\n        });\n        \n        console.log(` Selected forecast: ${new Date(selectedForecast.dt * 1000).toISOString()}`);\n      } else {\n        // Fallback: find the closest forecast to game time (even outside window)\n        selectedForecast = data.list.reduce((closest: any, current: any) => {\n          const currentDiff = Math.abs((current.dt * 1000) - gameTime);\n          const closestDiff = Math.abs((closest.dt * 1000) - gameTime);\n          return currentDiff < closestDiff ? current : closest;\n        });\n        \n        console.log(` No forecasts in window, using closest: ${new Date(selectedForecast.dt * 1000).toISOString()}`);\n      }\n\n      // Analyze conditions across the window for better insights\n      const weatherSummary = this.analyzeWeatherWindow(windowForecasts, selectedForecast);\n      \n      return this.transformWeatherData(selectedForecast, weatherSummary);\n    } catch (error) {\n      console.error('Error fetching game weather:', error);\n      return this.getMockWeatherData();\n    }\n  }\n\n  // Get weather by zipcode (more reliable for US locations)\n  static async getWeatherByZipcode(zipcode: string, gameDateTime: Date): Promise<WeatherData | null> {\n    if (!this.API_KEY) {\n      console.warn('Weather API key not configured, using mock data');\n      return this.getMockWeatherData();\n    }\n\n    try {\n      console.log(` Fetching weather for zipcode: ${zipcode}`);\n      console.log(` Game time: ${gameDateTime.toISOString()}`);\n      \n      const response = await fetch(\n        `${this.BASE_URL}/forecast?zip=${zipcode},US&appid=${this.API_KEY}&units=imperial`\n      );\n\n      if (!response.ok) {\n        throw new Error(`Weather API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log(` Received ${data.list.length} forecast entries for ${zipcode}`);\n      \n      // Define 4-hour window around game time (2 hours before to 2 hours after)\n      const gameTime = gameDateTime.getTime();\n      const windowStart = gameTime - (2 * 60 * 60 * 1000); // 2 hours before\n      const windowEnd = gameTime + (2 * 60 * 60 * 1000);   // 2 hours after\n      \n      console.log(` Weather window: ${new Date(windowStart).toISOString()} to ${new Date(windowEnd).toISOString()}`);\n      \n      // Find all forecasts within the 4-hour window\n      const windowForecasts = data.list.filter((forecast: any) => {\n        const forecastTime = forecast.dt * 1000;\n        return forecastTime >= windowStart && forecastTime <= windowEnd;\n      });\n      \n      console.log(` Found ${windowForecasts.length} forecasts in 4-hour window`);\n      \n      let selectedForecast;\n      \n      if (windowForecasts.length > 0) {\n        // Use the forecast closest to game time within the window\n        selectedForecast = windowForecasts.reduce((closest: any, current: any) => {\n          const currentDiff = Math.abs((current.dt * 1000) - gameTime);\n          const closestDiff = Math.abs((closest.dt * 1000) - gameTime);\n          return currentDiff < closestDiff ? current : closest;\n        });\n        \n        console.log(` Selected forecast: ${new Date(selectedForecast.dt * 1000).toISOString()}`);\n      } else {\n        // Fallback: find the closest forecast to game time (even outside window)\n        selectedForecast = data.list.reduce((closest: any, current: any) => {\n          const currentDiff = Math.abs((current.dt * 1000) - gameTime);\n          const closestDiff = Math.abs((closest.dt * 1000) - gameTime);\n          return currentDiff < closestDiff ? current : closest;\n        });\n        \n        console.log(` No forecasts in window, using closest: ${new Date(selectedForecast.dt * 1000).toISOString()}`);\n      }\n\n      // Analyze conditions across the window for better insights\n      const weatherSummary = this.analyzeWeatherWindow(windowForecasts, selectedForecast);\n      \n      return this.transformWeatherData(selectedForecast, weatherSummary);\n    } catch (error) {\n      console.error('Error fetching weather by zipcode:', error);\n      return null;\n    }\n  }\n\n  // Extract zipcode from location string\n  static extractZipcode(location: string): string | null {\n    // Match 5-digit zipcode (with optional +4)\n    const zipcodeMatch = location.match(/\\b(\\d{5}(?:-\\d{4})?)\\b/);\n    return zipcodeMatch ? zipcodeMatch[1].split('-')[0] : null; // Return just the 5-digit part\n  }\n  \n  // Analyze weather conditions across the 4-hour window\n  private static analyzeWeatherWindow(windowForecasts: any[], primaryForecast: any) {\n    if (windowForecasts.length === 0) {\n      return { alerts: [], windowSummary: '' };\n    }\n    \n    const temps = windowForecasts.map(f => f.main.temp);\n    const conditions = windowForecasts.map(f => f.weather[0].main);\n    const precipitations = windowForecasts.map(f => f.rain?.['3h'] || f.snow?.['3h'] || 0);\n    \n    const minTemp = Math.min(...temps);\n    const maxTemp = Math.max(...temps);\n    const avgTemp = temps.reduce((a, b) => a + b, 0) / temps.length;\n    const maxPrecip = Math.max(...precipitations);\n    \n    const alerts: string[] = [];\n    let windowSummary = '';\n    \n    // Temperature variation alert\n    if (maxTemp - minTemp > 10) {\n      alerts.push(` Temperature will vary ${Math.round(minTemp)}F to ${Math.round(maxTemp)}F during game time`);\n    }\n    \n    // Precipitation alert\n    if (maxPrecip > 0.1) {\n      alerts.push(` Possible precipitation during game window`);\n    }\n    \n    // Condition changes\n    const uniqueConditions = [...new Set(conditions)];\n    if (uniqueConditions.length > 1) {\n      alerts.push(` Weather conditions may change: ${uniqueConditions.join(', ')}`);\n    }\n    \n    // Create window summary\n    if (windowForecasts.length > 1) {\n      windowSummary = `4-hour forecast: ${Math.round(minTemp)}-${Math.round(maxTemp)}F, ${uniqueConditions.join('/')}`;\n    }\n    \n    return { alerts, windowSummary };\n  }\n\n  // Transform API response to our weather data format\n  private static transformWeatherData(apiData: any, weatherSummary?: { alerts: string[], windowSummary: string }): WeatherData {\n    const temp = Math.round(apiData.main.temp);\n    const condition = apiData.weather[0].main;\n    const description = apiData.weather[0].description;\n    const precipitation = apiData.rain?.['1h'] || apiData.snow?.['1h'] || 0;\n    \n    // Combine standard alerts with window-specific alerts\n    const standardAlerts = this.generateWeatherAlerts(condition, temp, precipitation, apiData.wind.speed);\n    const allAlerts = weatherSummary ? [...standardAlerts, ...weatherSummary.alerts] : standardAlerts;\n    \n    // Use window summary as description if available\n    const finalDescription = weatherSummary?.windowSummary || this.capitalizeWords(description);\n    \n    return {\n      temperature: temp,\n      condition,\n      description: finalDescription,\n      humidity: apiData.main.humidity,\n      windSpeed: Math.round(apiData.wind.speed), // Already in mph from imperial units\n      precipitation,\n      icon: this.getWeatherIcon(condition),\n      isOutdoorFriendly: this.isOutdoorFriendly(condition, temp, precipitation, apiData.wind.speed),\n      alerts: allAlerts\n    };\n  }\n\n  // Determine if weather is suitable for outdoor activities\n  private static isOutdoorFriendly(condition: string, temp: number, precipitation: number, windSpeed: number): boolean {\n    // Too cold (below 40F) or too hot (above 95F)\n    if (temp < 40 || temp > 95) return false;\n    \n    // Heavy rain or snow (using custom threshold)\n    if (precipitation > this.CONFIG.rainThreshold) return false;\n    \n    // Strong winds (using custom threshold in mph)\n    if (windSpeed > this.CONFIG.windThreshold) return false;\n    \n    // Severe weather conditions\n    const severeConditions = ['Thunderstorm', 'Tornado', 'Squall'];\n    if (severeConditions.includes(condition)) return false;\n    \n    return true;\n  }\n\n  // Generate weather alerts for games\n  private static generateWeatherAlerts(condition: string, temp: number, precipitation: number, windSpeed: number): string[] {\n    const alerts: string[] = [];\n    \n    if (temp < 50) {\n      alerts.push(' Dress warmly - temperature below 50F');\n    } else if (temp > 85) {\n      alerts.push(' Stay hydrated - high temperature expected');\n    }\n    \n    if (precipitation > this.CONFIG.rainThreshold) {\n      alerts.push(' Rain expected - consider indoor backup plan');\n    }\n    \n    if (windSpeed > 12) {\n      alerts.push(' Windy conditions - secure loose items');\n    }\n    \n    if (condition === 'Thunderstorm') {\n      alerts.push(' Thunderstorm warning - move indoors immediately');\n    }\n    \n    return alerts;\n  }\n\n  // Get weather icon based on condition\n  private static getWeatherIcon(condition: string): string {\n    const iconMap: Record<string, string> = {\n      'Clear': '',\n      'Clouds': '',\n      'Rain': '',\n      'Drizzle': '',\n      'Thunderstorm': '',\n      'Snow': '',\n      'Mist': '',\n      'Fog': '',\n      'Haze': ''\n    };\n    \n    return iconMap[condition] || '';\n  }\n\n  // Capitalize first letter of each word\n  private static capitalizeWords(str: string): string {\n    return str.replace(/\\b\\w/g, char => char.toUpperCase());\n  }\n\n  // Mock weather data for development/fallback\n  private static getMockWeatherData(): WeatherData {\n    return {\n      temperature: 72,\n      condition: 'Clear',\n      description: 'Clear Sky',\n      humidity: 65,\n      windSpeed: 8,\n      precipitation: 0,\n      icon: '',\n      isOutdoorFriendly: true,\n      alerts: []\n    };\n  }\n\n  // Check if weather API is configured\n  static isConfigured(): boolean {\n    return !!this.API_KEY && this.API_KEY.length > 0;\n  }\n\n  // Get weather recommendation text\n  static getWeatherRecommendation(weather: WeatherData): string {\n    if (!weather.isOutdoorFriendly) {\n      return 'Weather conditions may not be ideal for outdoor activities. Consider rescheduling or moving indoors.';\n    }\n    \n    if (weather.temperature < 60) {\n      return 'Cool weather - dress in layers and bring warm clothing.';\n    } else if (weather.temperature > 80) {\n      return 'Warm weather - bring water and sun protection.';\n    }\n    \n    return 'Great weather for outdoor activities!';\n  }\n}\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { Avatar, AvatarFallback } from './ui/avatar';\nimport { ClickableAvatar } from './ui/clickable-avatar';\nimport { Separator } from './ui/separator';\nimport { GameChat } from './GameChat';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from './ui/dropdown-menu';\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from './ui/dialog';\nimport { Input } from './ui/input';\nimport { Textarea } from './ui/textarea';\nimport { \n  ArrowLeft, \n  Calendar, \n  MapPin, \n  Users, \n  MessageCircle, \n  Share, \n  Flag, \n  Clock,\n  DollarSign,\n  Star,\n  Navigation,\n  Loader2,\n  Edit3,\n  Trash2,\n  MoreVertical,\n  RefreshCw,\n} from 'lucide-react';\nimport { ImageWithFallback } from './figma/ImageWithFallback';\nimport { useAppStore } from '../store/appStore';\nimport { useGame, useGameParticipants } from '../hooks/useGames';\nimport { useGameJoinToggle } from '../hooks/useGameJoinToggle';\nimport { useDeepLinks } from '../hooks/useDeepLinks';\nimport { QuickJoinModal } from './QuickJoinModal';\nimport { ShareGameModal } from './ShareGameModal';\nimport { PostGameRatingModal } from './PostGameRatingModal';\nimport { RealtimeAvatarStack } from './realtime-avatar-stack';\nimport { toast } from 'sonner';\nimport { WeatherService, WeatherData } from '../lib/weatherService';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { formatEventHeader, formatCalendarInfo } from '../lib/dateUtils';\n\n\n\n// Weather Info Component\nfunction WeatherInfo({ game }: { game: any }) {\n  const [weather, setWeather] = useState<WeatherData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const getWeatherData = async () => {\n      console.log(' Getting weather data for game:', game.id);\n      console.log(' Coordinates:', game.latitude, game.longitude);\n      console.log(' Location:', game.location);\n      \n      try {\n        let weatherData: WeatherData | null = null;\n        const gameDateTime = new Date(`${game.date} ${game.time}`);\n        \n        if (game.latitude && game.longitude) {\n          // Use exact coordinates\n          console.log(' Using exact coordinates for weather');\n          weatherData = await WeatherService.getGameWeather(game.latitude, game.longitude, gameDateTime);\n        } else if (game.location) {\n          // Use Google Maps Geocoding API (same as the map uses)\n          console.log(' Using Google Maps geocoding for weather (same as map)');\n          const googleApiKey = (import.meta as any).env?.VITE_GOOGLE_MAPS_API_KEY;\n          \n          try {\n            const geocodeResponse = await fetch(\n              `https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(game.location)}&key=${googleApiKey}`\n            );\n            \n            if (geocodeResponse.ok) {\n              const geocodeData = await geocodeResponse.json();\n              console.log(' Google geocoding results:', geocodeData);\n              \n              if (geocodeData.status === 'OK' && geocodeData.results && geocodeData.results.length > 0) {\n                const { lat, lng } = geocodeData.results[0].geometry.location;\n                console.log(' Using Google Maps coordinates for weather:', lat, lng);\n                weatherData = await WeatherService.getGameWeather(lat, lng, gameDateTime);\n                console.log(' Weather from Google Maps coordinates:', weatherData);\n              } else {\n                console.warn(' Google geocoding failed:', geocodeData.status, geocodeData.error_message);\n              }\n            } else {\n              console.error(' Google geocoding HTTP error:', geocodeResponse.status, geocodeResponse.statusText);\n            }\n          } catch (error) {\n            console.error(' Google Maps geocoding failed:', error);\n          }\n          \n          // Fallback to zipcode if Google Maps geocoding fails\n          if (!weatherData) {\n            const zipcode = WeatherService.extractZipcode(game.location);\n            if (zipcode) {\n              console.log(' Fallback: Using zipcode for weather:', zipcode);\n              weatherData = await WeatherService.getWeatherByZipcode(zipcode, gameDateTime);\n            }\n          }\n          \n          // Final fallback to simple location search\n          if (!weatherData) {\n            console.log(' Final fallback: Simple weather search');\n            const simpleResponse = await fetch(\n              `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(game.location)}&appid=${(import.meta as any).env?.VITE_OPENWEATHER_API_KEY}&units=imperial`\n            );\n            \n            if (simpleResponse.ok) {\n              const simpleData = await simpleResponse.json();\n              weatherData = {\n                temperature: Math.round(simpleData.main.temp),\n                condition: simpleData.weather[0].main,\n                description: simpleData.weather[0].description,\n                humidity: simpleData.main.humidity,\n                windSpeed: Math.round(simpleData.wind.speed),\n                precipitation: simpleData.rain?.['1h'] || simpleData.snow?.['1h'] || 0,\n                icon: simpleData.weather[0].main === 'Clear' ? '' : simpleData.weather[0].main === 'Clouds' ? '' : simpleData.weather[0].main === 'Rain' ? '' : '',\n                isOutdoorFriendly: true,\n                alerts: []\n              };\n            }\n          }\n        }\n        \n        if (weatherData) {\n          console.log(' Weather data received:', weatherData);\n          setWeather(weatherData);\n        } else {\n          throw new Error('No weather data available');\n        }\n      } catch (error) {\n        console.error(' Weather error:', error);\n        // Try one more fallback with current weather for a default US location\n        try {\n          console.log(' Final attempt: Using current weather API');\n          const fallbackResponse = await fetch(\n            `https://api.openweathermap.org/data/2.5/weather?zip=10001,US&appid=${(import.meta as any).env?.VITE_OPENWEATHER_API_KEY}&units=imperial`\n          );\n          \n          if (fallbackResponse.ok) {\n            const fallbackData = await fallbackResponse.json();\n            const temp = Math.round(fallbackData.main.temp);\n            const condition = fallbackData.weather[0].main;\n            const description = fallbackData.weather[0].description;\n            \n            setWeather({\n              temperature: temp,\n              condition,\n              description: `${description.charAt(0).toUpperCase() + description.slice(1)} (nearby area)`,\n              humidity: fallbackData.main.humidity,\n              windSpeed: Math.round(fallbackData.wind.speed),\n              precipitation: fallbackData.rain?.['1h'] || fallbackData.snow?.['1h'] || 0,\n              icon: condition === 'Clear' ? '' : condition === 'Clouds' ? '' : condition === 'Rain' ? '' : '',\n              isOutdoorFriendly: temp > 40 && temp < 95,\n              alerts: [` Showing weather for nearby area - actual conditions at ${game.location || 'game location'} may vary`]\n            });\n          } else {\n            throw new Error('Fallback weather failed');\n          }\n        } catch (fallbackError) {\n          console.error(' All weather sources failed:', fallbackError);\n          // Final mock data\n          setWeather({\n            temperature: 72,\n            condition: 'Clear',\n            description: 'Weather data temporarily unavailable',\n            humidity: 65,\n            windSpeed: 8,\n            precipitation: 0,\n            icon: '',\n            isOutdoorFriendly: true,\n            alerts: [` Weather service temporarily unavailable for ${game.location || 'this location'}`]\n          });\n        }\n      }\n      \n      setLoading(false);\n    };\n\n    getWeatherData();\n  }, [game.latitude, game.longitude, game.location, game.date, game.time]);\n\n  if (loading) {\n    return <div className=\"text-sm text-muted-foreground\">Loading weather...</div>;\n  }\n\n  if (!weather) {\n    return <div className=\"text-sm text-muted-foreground\">Weather unavailable</div>;\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-2xl\">{weather.icon}</span>\n          <div>\n            <div className=\"font-medium\">{weather.temperature}F</div>\n            <div className=\"text-sm text-muted-foreground\">{weather.description}</div>\n          </div>\n        </div>\n        <div className=\"text-right text-sm text-muted-foreground\">\n          <div>Humidity: {weather.humidity}%</div>\n          <div>Wind: {weather.windSpeed} mph</div>\n        </div>\n      </div>\n      \n      {weather.alerts && weather.alerts.length > 0 && (\n        <div className=\"space-y-1\">\n          {weather.alerts.map((alert, index) => (\n            <div key={index} className=\"text-xs bg-yellow-50 text-yellow-800 p-2 rounded\">\n              {alert}\n            </div>\n          ))}\n        </div>\n      )}\n      \n      <div className=\"text-xs text-muted-foreground\">\n        {WeatherService.getWeatherRecommendation(weather)}\n      </div>\n    </div>\n  );\n}\n\nfunction GameDetails() {\n  const navigate = useNavigate();\n  const { gameId } = useParams();\n  const { user } = useAppStore();\n  \n  // Use React Query for game data and mutations\n  const { data: game, isLoading, error: gameError } = useGame(gameId || '');\n  const { data: participants = [], isLoading: loadingPlayers, error: participantsError } = useGameParticipants(gameId || '');\n  const { toggleJoin, isLoading: actionLoading, getButtonText } = useGameJoinToggle();\n  \n  // Add timeout for loading states to prevent infinite loading\n  const [loadingTimeout, setLoadingTimeout] = useState(false);\n  \n  useEffect(() => {\n    if (isLoading || loadingPlayers) {\n      const timeout = setTimeout(() => {\n        setLoadingTimeout(true);\n        console.warn(' Loading timeout reached for GameDetails');\n      }, 15000); // 15 second timeout\n      \n      return () => clearTimeout(timeout);\n    } else {\n      setLoadingTimeout(false);\n    }\n  }, [isLoading, loadingPlayers]);\n  const { shareGame, navigateToChat, navigateToUser } = useDeepLinks();\n  const [showFullDescription, setShowFullDescription] = useState(false);\n  const [showQuickJoin, setShowQuickJoin] = useState(false);\n  const [showInvite, setShowInvite] = useState(false);\n  const [showEditDialog, setShowEditDialog] = useState(false);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [showRatingModal, setShowRatingModal] = useState(false);\n  const [editActionLoading, setEditActionLoading] = useState(false);\n  const [editFormData, setEditFormData] = useState({\n    title: '',\n    description: '',\n    location: '',\n    duration: 60,\n    maxPlayers: 0,\n    cost: ''\n  });\n  const [deleteReason, setDeleteReason] = useState('');\n  \n  // Process participants data to mark the host correctly\n  const players = useMemo(() => {\n    if (!participants || !game) return [];\n    return participants.map(player => ({\n      ...player,\n      isHost: player.id === game?.creator_id\n    }));\n  }, [participants, game?.creator_id]);\n\n  // Precompute formatted date/time labels for header and calendar\n  const headerInfo = useMemo(() => {\n    if (!game) return { label: '', aria: '' };\n    return formatEventHeader(game.date, game.time);\n  }, [game?.date, game?.time]);\n\n  const calendarInfo = useMemo(() => {\n    if (!game) return { date: '', time: '' };\n    return formatCalendarInfo(game.date, game.time);\n  }, [game?.date, game?.time]);\n\n  const isFull = game ? game.currentPlayers >= game.maxPlayers : false;\n  const tags: string[] | undefined = game ? (game as any).tags : undefined;\n\n  // Check if current user is the game creator\n  const isGameCreator = user && game && (game.creatorId === user.id || game.createdBy === user.id);\n  \n  // Debug logging for dropdown visibility (development only)\n  if (process.env.NODE_ENV === 'development') {\n    console.log(' Dropdown Debug:', {\n      user: user?.id,\n      game: game?.id,\n      creatorId: game?.creatorId,\n      createdBy: game?.createdBy,\n      isGameCreator,\n      shouldShowDropdown: isGameCreator\n    });\n  }\n\n  // Check if game is completed and user participated\n  const isGameCompleted = useMemo(() => {\n    if (!game) return false;\n    const gameDateTime = new Date(`${game.date} ${game.time}`);\n    const now = new Date();\n    return gameDateTime < now;\n  }, [game?.date, game?.time]);\n\n  const userParticipated = useMemo(() => {\n    if (!user || !game) return false;\n    return game.isJoined || isGameCreator;\n  }, [user, game?.isJoined, isGameCreator]);\n\n  // Show rating modal for completed games where user participated\n  // DISABLED: Rating system tables/functions don't exist yet\n  // useEffect(() => {\n  //   if (isGameCompleted && userParticipated && user && !showRatingModal && gameId) {\n  //     // Check if user has already rated this game\n  //     const checkExistingRating = async () => {\n  //       try {\n  //         const reviews = await SupabaseService.getGameReviews(gameId);\n  //         const userReview = reviews.find(review => review.reviewer_id === user.id);\n  //         \n  //         if (!userReview) {\n  //           setShowRatingModal(true);\n  //         }\n  //       } catch (error) {\n  //         // No existing review found, show modal\n  //         setShowRatingModal(true);\n  //       }\n  //     };\n  //     \n  //     checkExistingRating();\n  //   }\n  // }, [isGameCompleted, userParticipated, user, gameId, showRatingModal]);\n  \n  // Handle loading and error states - AFTER all hooks\n  if ((isLoading || loadingPlayers) && !loadingTimeout) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <Loader2 className=\"w-8 h-8 animate-spin mx-auto mb-4\" />\n          <p className=\"text-muted-foreground\">Loading game details...</p>\n          <p className=\"text-xs text-muted-foreground mt-2\">\n            If this takes too long, try refreshing the page\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  // Handle timeout or errors\n  if (loadingTimeout || gameError || participantsError) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center max-w-md mx-auto p-6\">\n          <div className=\"mb-4\">\n            <Flag className=\"w-12 h-12 mx-auto text-muted-foreground mb-2\" />\n            <h2 className=\"text-xl font-semibold mb-2\">Loading Issues</h2>\n            <p className=\"text-muted-foreground mb-4\">\n              {loadingTimeout \n                ? \"The game is taking too long to load. This might be due to database connection issues.\"\n                : \"There was an error loading the game details.\"\n              }\n            </p>\n            {(gameError || participantsError) && (\n              <p className=\"text-xs text-red-500 mb-4\">\n                Error: {gameError?.message || participantsError?.message}\n              </p>\n            )}\n          </div>\n          <div className=\"space-y-2\">\n            <Button onClick={() => window.location.reload()} className=\"w-full\">\n              <RefreshCw className=\"w-4 h-4 mr-2\" />\n              Refresh Page\n            </Button>\n            <Button variant=\"outline\" onClick={() => navigate('/')} className=\"w-full\">\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back to Home\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n  if (!game) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl mb-4\">Game not found</h1>\n          <p className=\"text-muted-foreground mb-4\">The game you're looking for doesn't exist or has been removed.</p>\n          <Button onClick={() => navigate('/')}>Go Home</Button>\n        </div>\n      </div>\n    );\n  }\n\n\n  const handleJoinLeave = async () => {\n    // Prevent multiple rapid clicks\n    if (actionLoading) return;\n    \n    // If user is not authenticated, show quick join modal\n    if (!user) {\n      setShowQuickJoin(true);\n      return;\n    }\n    \n    // Use the centralized toggle logic\n    toggleJoin(game);\n  };\n\n  const handleQuickJoinSuccess = async () => {\n    setShowQuickJoin(false);\n    // After successful signup, join the game\n    if (gameId && game) {\n      toggleJoin(game);\n    }\n  };\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  const handleChat = () => {\n    navigateToChat('game', gameId!);\n  };\n\n\n  const handleShare = async () => {\n    setShowInvite(true);\n  };\n\n  const handleDirections = () => {\n    const address = game.location || \"Location not specified\";\n    const encodedAddress = encodeURIComponent(address);\n    \n    // Try to open in native maps app first, fallback to Google Maps\n    const mapsUrl = `https://maps.google.com/maps?q=${encodedAddress}&t=m&z=16`;\n    \n    try {\n      // For mobile devices, try to open native maps\n      if (navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)) {\n        const nativeUrl = `maps://maps.google.com/maps?q=${encodedAddress}`;\n        window.location.href = nativeUrl;\n        \n        // Fallback to web maps if native doesn't open\n        setTimeout(() => {\n          window.open(mapsUrl, '_blank');\n        }, 1000);\n      } else {\n        window.open(mapsUrl, '_blank');\n      }\n      \n      toast.success('Opening directions...');\n    } catch (error) {\n      toast.error('Failed to open directions');\n    }\n  };\n\n  const handleEditGame = () => {\n    setEditFormData({\n      title: game.title,\n      description: game.description,\n      location: game.location,\n      duration: game.duration || 60,\n      maxPlayers: game.maxPlayers,\n      cost: game.cost\n    });\n    setShowEditDialog(true);\n  };\n\n  const handleSaveEdit = async () => {\n    if (!gameId) return;\n    \n    setEditActionLoading(true);\n    try {\n      await SupabaseService.updateGame(gameId, editFormData);\n      toast.success('Game updated successfully');\n      setShowEditDialog(false);\n      // Refresh the page to show updated data\n      window.location.reload();\n    } catch (error: any) {\n      toast.error('Failed to update game', {\n        description: error.message || 'Please try again later'\n      });\n    } finally {\n      setEditActionLoading(false);\n    }\n  };\n\n  const handleDeleteGame = async () => {\n    if (!gameId) return;\n    \n    setEditActionLoading(true);\n    try {\n      await SupabaseService.deleteGame(gameId, deleteReason);\n      toast.success('Game cancelled successfully');\n      setShowDeleteDialog(false);\n      navigate('/');\n    } catch (error: any) {\n      toast.error('Failed to cancel game', {\n        description: error.message || 'Please try again later'\n      });\n    } finally {\n      setEditActionLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10\">\n        <div className=\"flex items-center justify-between px-4 py-4\">\n          <div className=\"flex items-center gap-4\">\n            <Button \n              variant=\"ghost\" \n              size=\"icon\" \n              onClick={handleBack}\n              aria-label=\"Go back\"\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n            </Button>\n            <div role=\"text\" aria-label={`Event: ${game.title}. ${headerInfo.aria}`}>\n              <h1 className=\"text-xl font-semibold line-clamp-2\">{game.title}</h1>\n              <p className=\"text-sm text-muted-foreground\">{headerInfo.label}</p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button \n              variant=\"ghost\" \n              size=\"icon\" \n              onClick={handleShare}\n              data-action=\"share\"\n              aria-label=\"Share game\"\n              title=\"Share game (U)\"\n            >\n              <Share className=\"w-5 h-5\" />\n            </Button>\n            <DropdownMenu onOpenChange={(open) => console.log('Dropdown open state:', open)}>\n              <DropdownMenuTrigger asChild>\n                <div>\n                  <Button \n                    variant=\"ghost\" \n                    size=\"icon\"\n                    aria-label=\"Game options\"\n                    onClick={(e) => {\n                      console.log('Dropdown trigger clicked', e);\n                      e.stopPropagation();\n                    }}\n                    style={{ display: isGameCreator ? 'flex' : 'none' }}\n                  >\n                    <MoreVertical className=\"w-5 h-5\" />\n                  </Button>\n                </div>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"z-[99999] relative\">\n                <DropdownMenuItem onClick={(e) => {\n                  console.log('Edit game clicked');\n                  e.stopPropagation();\n                  handleEditGame();\n                }}>\n                  <Edit3 className=\"w-4 h-4 mr-2\" />\n                  Edit Game\n                </DropdownMenuItem>\n                <DropdownMenuItem \n                  onClick={(e) => {\n                    console.log('Delete game clicked');\n                    e.stopPropagation();\n                    setShowDeleteDialog(true);\n                  }}\n                  className=\"text-destructive focus:text-destructive\"\n                >\n                  <Trash2 className=\"w-4 h-4 mr-2\" />\n                  Cancel Game\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n            <Button \n              variant=\"ghost\" \n              size=\"icon\"\n              aria-label=\"Report game\"\n            >\n              <Flag className=\"w-5 h-5\" />\n            </Button>\n          </div>\n        </div>\n\n      </div>\n\n      <div className=\"px-4 py-6 space-y-6\" id=\"main-content\">\n        {/* Hero Image & Basic Info */}\n        <Card>\n          {game.imageUrl && (\n            <div className=\"relative\">\n              <div className=\"aspect-video overflow-hidden rounded-t-lg\">\n                <ImageWithFallback\n                  src={game.imageUrl}\n                  alt={`${game.sport} game`}\n                  className=\"w-full h-full object-cover\"\n                />\n              </div>\n              <div className=\"absolute top-4 right-4\">\n                <Badge className={`${game.sportColor} text-white border-none`}>\n                  {game.sport}\n                </Badge>\n              </div>\n            </div>\n          )}\n          {!game.imageUrl && (\n            <div className=\"p-4 border-b\">\n              <Badge className={`${game.sportColor} text-white border-none`}>\n                {game.sport}\n              </Badge>\n            </div>\n          )}\n          \n          <CardContent className=\"p-6\">\n            {/* Game Info Grid */}\n            <div className=\"grid grid-cols-2 gap-4 mb-6\">\n              <div className=\"flex items-center gap-3\">\n                <Calendar className=\"w-5 h-5 text-muted-foreground\" />\n                <div>\n                  <div>{calendarInfo.date}</div>\n                  <div className=\"text-sm text-muted-foreground\">{calendarInfo.time}</div>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-3\">\n                <Clock className=\"w-5 h-5 text-muted-foreground\" />\n                <div>\n                  <div>2 hours</div>\n                  <div className=\"text-sm text-muted-foreground\">Duration</div>\n                </div>\n              </div>\n              \n              \n              <div className=\"flex items-center gap-3\">\n                <DollarSign className=\"w-5 h-5 text-muted-foreground\" />\n                <div>\n                  <div>{game.cost}</div>\n                  <div className=\"text-sm text-muted-foreground\">Cost</div>\n                </div>\n              </div>\n            </div>\n\n            {/* Tags */}\n            <div className=\"flex flex-wrap gap-2 mb-6\">\n              {Array.isArray(tags) && tags.map((tag: string) => (\n                <Badge key={tag} variant=\"secondary\">{tag}</Badge>\n              ))}\n            </div>\n\n            {/* Join Button */}\n            <Button\n              onClick={handleJoinLeave}\n              disabled={(!game.isJoined && isFull) || actionLoading}\n              className=\"w-full h-12\"\n              variant={game.isJoined ? 'outline' : 'default'}\n              data-action=\"join-game\"\n              title={`${game.isJoined ? 'Leave' : 'Join'} game (J)`}\n            >\n              {actionLoading ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  {game.isJoined ? 'Leaving...' : 'Joining...'}\n                </>\n              ) : isFull && !game.isJoined ? (\n                'Game is Full'\n              ) : !user ? (\n                'Join Game - Sign Up'\n              ) : (\n                getButtonText(game)\n              )}\n            </Button>\n          </CardContent>\n        </Card>\n\n        {/* Location */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <MapPin className=\"w-5 h-5\" />\n              Location\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div>\n                <div>{game.location}</div>\n              </div>\n              \n              <div className=\"aspect-video bg-muted rounded-lg flex items-center justify-center\">\n                {(game.latitude && game.longitude) || game.location ? (\n                  <iframe\n                    src={`https://www.google.com/maps/embed/v1/place?key=${(import.meta as any).env?.VITE_GOOGLE_MAPS_API_KEY || ''}&q=${\n                      game.latitude && game.longitude \n                        ? `${game.latitude},${game.longitude}` \n                        : encodeURIComponent(game.location)\n                    }&zoom=15`}\n                    width=\"100%\"\n                    height=\"100%\"\n                    style={{ border: 0 }}\n                    allowFullScreen\n                    loading=\"lazy\"\n                    referrerPolicy=\"no-referrer-when-downgrade\"\n                    className=\"rounded-lg\"\n                    title=\"Game location map\"\n                  />\n                ) : (\n                  <div className=\"text-center text-muted-foreground\">\n                    <MapPin className=\"w-8 h-8 mx-auto mb-2\" />\n                    <p>Map not available</p>\n                  </div>\n                )}\n              </div>\n              \n              <Button \n                variant=\"outline\" \n                className=\"w-full\"\n                onClick={handleDirections}\n                data-action=\"directions\"\n                title=\"Get directions (L)\"\n              >\n                <Navigation className=\"w-4 h-4 mr-2\" />\n                Get Directions\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Weather */}\n        {((game.latitude && game.longitude) || game.location) && (\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                 Weather Forecast\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <WeatherInfo game={game} />\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Description */}\n        <Card>\n          <CardHeader>\n            <CardTitle>About This Game</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <p className={`text-sm leading-relaxed ${!showFullDescription ? 'line-clamp-3' : ''}`}>\n                {game.description}\n              </p>\n              {game.description.length > 150 && (\n                <Button \n                  variant=\"ghost\" \n                  size=\"sm\" \n                  onClick={() => setShowFullDescription(!showFullDescription)}\n                  className=\"p-0 h-auto\"\n                >\n                  {showFullDescription ? 'Show less' : 'Show more'}\n                </Button>\n              )}\n              \n              <div>\n                <h4 className=\"mb-2\">Requirements</h4>\n                <ul className=\"space-y-1\">\n                  {['Athletic shoes required', 'Bring water bottle', 'No experience necessary'].map((req, index) => (\n                    <li key={index} className=\"text-sm text-muted-foreground flex items-start gap-2\">\n                      <span className=\"w-1 h-1 bg-muted-foreground rounded-full mt-2 flex-shrink-0\"></span>\n                      {req}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Host Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Game Host</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <div className=\"flex items-center gap-3\">\n                  <ClickableAvatar\n                    userId={game.creatorId || game.creatorData?.id}\n                    src={game.creatorData?.avatar}\n                    alt={game.creatorData?.name || game.createdBy || 'Unknown'}\n                    size=\"md\"\n                  />\n                  <div>\n                    <button \n                      onClick={() => navigateToUser(game.creatorId || game.creatorData?.id)}\n                      className=\"hover:text-primary transition-colors cursor-pointer font-medium\"\n                      data-action=\"view-profile\"\n                    >\n                      {game.creatorData?.name || game.createdBy || 'Unknown'}\n                    </button>\n                    <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n                      <Star className=\"w-3 h-3 fill-current text-warning\" />\n                      {game.creatorData?.rating || '4.5'}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Players List */}\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n              <CardTitle>Players ({players.length}/{game.maxPlayers})</CardTitle>\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-sm text-muted-foreground\">Online now:</span>\n                <RealtimeAvatarStack roomName={`game-${gameId}`} />\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n                              {players.map((player, index) => (\n                <div key={player.id}>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <ClickableAvatar\n                        userId={player.id}\n                        src={player.avatar}\n                        alt={player.name}\n                        size=\"md\"\n                      />\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          <button \n                            onClick={() => {\n                              console.log(' Clicking on player:', player);\n                              navigateToUser(player.id);\n                            }}\n                            className=\"hover:text-primary transition-colors cursor-pointer font-medium\"\n                            data-action=\"view-profile\"\n                          >\n                            {player.name}\n                          </button>\n                          {player.isHost && (\n                            <Badge variant=\"secondary\" className=\"text-xs px-2 py-0\">Host</Badge>\n                          )}\n                        </div>\n                        <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n                          <Star className=\"w-3 h-3 fill-current text-warning\" />\n                          {player.rating}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  {index < players.length - 1 && <Separator className=\"mt-3\" />}\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Join Status Alert */}\n        {game.isJoined && (\n          <Alert className=\"border-success text-success-foreground\">\n            <AlertDescription>\n              You're joined! See you on the field!\n            </AlertDescription>\n          </Alert>\n        )}\n      </div>\n\n      {/* Game Chat */}\n      <div className=\"lg:col-span-4\">\n        <GameChat gameId={gameId!} />\n      </div>\n\n      {/* Quick Join Modal */}\n      <QuickJoinModal\n        isOpen={showQuickJoin}\n        onClose={() => setShowQuickJoin(false)}\n        gameTitle={game.title}\n        gameId={game.id}\n        onJoinSuccess={handleQuickJoinSuccess}\n      />\n\n      {/* Share Game Modal */}\n      <ShareGameModal\n        isOpen={showInvite}\n        onClose={() => setShowInvite(false)}\n        game={game}\n      />\n\n      {/* Edit Game Dialog */}\n      <Dialog open={showEditDialog} onOpenChange={setShowEditDialog}>\n        <DialogContent className=\"sm:max-w-[425px]\">\n          <DialogHeader>\n            <DialogTitle>Edit Game</DialogTitle>\n            <DialogDescription>\n              Make changes to your game. Participants will be notified of any updates.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"grid gap-4 py-4\">\n            <div className=\"space-y-2\">\n              <label htmlFor=\"edit-title\" className=\"text-sm font-medium\">\n                Title\n              </label>\n              <Input\n                id=\"edit-title\"\n                value={editFormData.title}\n                onChange={(e) => setEditFormData(prev => ({ ...prev, title: e.target.value }))}\n                placeholder=\"Game title\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <label htmlFor=\"edit-description\" className=\"text-sm font-medium\">\n                Description\n              </label>\n              <Textarea\n                id=\"edit-description\"\n                value={editFormData.description}\n                onChange={(e) => setEditFormData(prev => ({ ...prev, description: e.target.value }))}\n                placeholder=\"Game description\"\n                rows={3}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <label htmlFor=\"edit-location\" className=\"text-sm font-medium\">\n                Location\n              </label>\n              <Input\n                id=\"edit-location\"\n                value={editFormData.location}\n                onChange={(e) => setEditFormData(prev => ({ ...prev, location: e.target.value }))}\n                placeholder=\"Game location\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <label htmlFor=\"edit-duration\" className=\"text-sm font-medium\">\n                Duration (minutes)\n              </label>\n              <Input\n                id=\"edit-duration\"\n                type=\"number\"\n                min=\"15\"\n                max=\"480\"\n                value={editFormData.duration}\n                onChange={(e) => setEditFormData(prev => ({ ...prev, duration: parseInt(e.target.value) || 60 }))}\n                placeholder=\"60\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <label htmlFor=\"edit-maxPlayers\" className=\"text-sm font-medium\">\n                  Max Players\n                </label>\n                <Input\n                  id=\"edit-maxPlayers\"\n                  type=\"number\"\n                  min=\"2\"\n                  max=\"50\"\n                  value={editFormData.maxPlayers}\n                  onChange={(e) => setEditFormData(prev => ({ ...prev, maxPlayers: parseInt(e.target.value) || 0 }))}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <label htmlFor=\"edit-cost\" className=\"text-sm font-medium\">\n                  Cost\n                </label>\n                <Input\n                  id=\"edit-cost\"\n                  value={editFormData.cost}\n                  onChange={(e) => setEditFormData(prev => ({ ...prev, cost: e.target.value }))}\n                  placeholder=\"FREE or $10\"\n                />\n              </div>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowEditDialog(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleSaveEdit} disabled={editActionLoading}>\n              {editActionLoading ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  Saving...\n                </>\n              ) : (\n                'Save Changes'\n              )}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Delete Game Dialog */}\n      <Dialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n        <DialogContent className=\"sm:max-w-[425px]\">\n          <DialogHeader>\n            <DialogTitle>Cancel Game</DialogTitle>\n            <DialogDescription>\n              This action cannot be undone. All participants will be notified of the cancellation.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"grid gap-4 py-4\">\n            <div className=\"space-y-2\">\n              <label htmlFor=\"delete-reason\" className=\"text-sm font-medium\">\n                Reason for cancellation (optional)\n              </label>\n              <Textarea\n                id=\"delete-reason\"\n                value={deleteReason}\n                onChange={(e) => setDeleteReason(e.target.value)}\n                placeholder=\"Let participants know why the game is cancelled...\"\n                rows={3}\n              />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowDeleteDialog(false)}>\n              Keep Game\n            </Button>\n            <Button \n              variant=\"destructive\" \n              onClick={handleDeleteGame} \n              disabled={editActionLoading}\n            >\n              {editActionLoading ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  Cancelling...\n                </>\n              ) : (\n                'Cancel Game'\n              )}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Post Game Rating Modal */}\n      <PostGameRatingModal\n        isOpen={showRatingModal}\n        onClose={() => setShowRatingModal(false)}\n        gameId={gameId!}\n        gameTitle={game?.title || ''}\n        players={players}\n      />\n    </div>\n  );\n}\n\nexport default GameDetails;"],"names":["toDate","argument","argStr","Object","prototype","toString","call","Date","constructor","NaN","minutesInMonth","defaultOptions","getDefaultOptions","getTimezoneOffsetInMilliseconds","date","_date","utcDate","UTC","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","setUTCFullYear","compareAsc","dateLeft","dateRight","_dateLeft","_dateRight","diff","getTime","constructNow","value","constructFrom","now","isLastDayOfMonth","setHours","endOfDay","month","setFullYear","endOfMonth","differenceInMonths","sign","difference","Math","abs","differenceInCalendarMonths","result","setDate","setMonth","isLastMonthNotFull","Number","differenceInSeconds","options","differenceInMilliseconds","method","roundingMethod","number","trunc","formatDistanceLocale","lessThanXSeconds","one","other","xSeconds","halfAMinute","lessThanXMinutes","xMinutes","aboutXHours","xHours","xDays","aboutXWeeks","xWeeks","aboutXMonths","xMonths","aboutXYears","xYears","overXYears","almostXYears","buildFormatLongFn","args","width","String","defaultWidth","formats","formatLong","full","long","medium","short","time","dateTime","formatRelativeLocale","lastWeek","yesterday","today","tomorrow","nextWeek","buildLocalizeFn","valuesArray","context","formattingValues","defaultFormattingWidth","values","argumentCallback","buildMatchFn","string","matchPattern","matchPatterns","defaultMatchWidth","matchResult","match","matchedString","parsePatterns","defaultParseWidth","key","Array","isArray","array","predicate","length","findIndex","pattern","test","object","hasOwnProperty","findKey","valueCallback","rest","slice","enUS","code","formatDistance","token","count","tokenValue","replace","addSuffix","comparison","formatRelative","_baseDate","_options","localize","ordinalNumber","dirtyNumber","rem100","era","narrow","abbreviated","wide","quarter","day","dayPeriod","am","pm","midnight","noon","morning","afternoon","evening","night","parsePattern","parseInt","parseResult","any","index","weekStartsOn","firstWeekContainsDate","formatDistanceToNow","baseDate","locale","defaultLocale","isNaN","RangeError","localizeOptions","assign","seconds","offsetInSeconds","minutes","round","months","includeSeconds","hours","days","nearestMonth","monthsSinceStartOfYear","years","EnhancedGameChat","gameId","className","user","useAppStore","messages","setMessages","useState","newMessage","setNewMessage","isLoading","setIsLoading","isSending","setIsSending","isConnected","setIsConnected","onlineUsers","setOnlineUsers","Set","messagesEndRef","useRef","channelRef","scrollToBottom","useCallback","current","scrollIntoView","behavior","block","useEffect","async","data","messagesData","error","supabase","from","select","eq","order","ascending","storedMessages","localStorage","getItem","parsed","JSON","parse","transformedMessages","map","msg","id","game_id","user_id","message","created_at","name","users","full_name","username","avatar","avatar_url","loadMessages","channel","on","event","schema","table","filter","payload","messageData","new","single","newMsg","prev","some","setTimeout","state","presenceState","keys","newSet","delete","subscribe","status","track","online_at","toISOString","unsubscribe","sendMessage","trim","savedMessage","saveError","insert","alert","groupedMessages","useMemo","grouped","forEach","lastGroup","push","jsxs","Card","children","jsx","CardHeader","CardTitle","MessageSquare","cn","Users","size","CardContent","group","groupIndex","messageIndex","isOwnMessage","showHeader","Avatar","AvatarImage","src","AvatarFallback","charAt","toUpperCase","ref","Input","onChange","e","target","onKeyPress","shiftKey","preventDefault","placeholder","disabled","Button","onClick","Send","DropdownMenu","props","DropdownMenuPrimitive.Root","DropdownMenuTrigger","DropdownMenuPrimitive.Trigger","DropdownMenuContent","sideOffset","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuItem","inset","variant","DropdownMenuPrimitive.Item","Dialog","DialogPrimitive.Root","DialogPortal","DialogPrimitive.Portal","DialogOverlay","DialogPrimitive.Overlay","DialogContent","DialogPrimitive.Content","DialogPrimitive.Close","XIcon","DialogHeader","DialogFooter","DialogTitle","DialogPrimitive.Title","DialogDescription","DialogPrimitive.Description","QuickJoinModal","isOpen","onClose","gameTitle","onJoinSuccess","signUp","signInWithOAuth","useSimpleAuth","step","setStep","formData","setFormData","email","phone","loading","setLoading","setError","handleSocialLogin","provider","pendingGameId","toast","success","X","viewBox","fill","d","onSubmit","type","required","User","Mail","Phone","Alert","AlertDescription","ShareGameModal","game","copied","setCopied","shareUrl","window","location","origin","shareText","sport","handleCopyLink","navigator","clipboard","writeText","Share2","title","Badge","MapPin","Calendar","Clock","currentPlayers","maxPlayers","readOnly","Copy","Separator","share","text","url","subject","encodeURIComponent","body","cost","description","open","PostGameRatingModal","players","checkForNewAchievements","achievements","setAchievements","userStats","setUserStats","achievementsData","statsData","Promise","all","SupabaseService","getUserAchievements","getUserStats","loadAchievements","showAchievementToast","achievement","icon","points","duration","action","label","href","getAchievementProgress","stats","criteria","progress","total","min","games_played","games_hosted","total_play_time_minutes","last_activity","percentage","getAchievementRank","score","color","level","totalScore","reduce","userAchievement","currentRank","newAchievements","checkAndAwardAchievements","updatedAchievements","getNextAchievements","allAchievements","getAllAchievements","earnedIds","ua","achievement_id","has","is_active","sort","a","b","useAchievements","isSubmitting","setIsSubmitting","gameRating","setGameRating","overall","organization","skillLevel","fun","reviewText","wouldPlayAgain","recommendToOthers","playerRatings","setPlayerRatings","player","playerId","skill","sportsmanship","communication","feedback","StarRating","rating","onRatingChange","star","Star","updatePlayerRating","field","onOpenChange","Trophy","Textarea","checked","submitGameReview","overallRating","organizationRating","skillLevelRating","funRating","find","r","alt","isHost","validRatings","submitPlayerRating","ratedPlayerId","skillRating","sportsmanshipRating","communicationRating","feedbackText","CheckCircle","WeatherService","static","envConfig","get","temperatureUnit","updateInterval","includeHourlyForecast","rainThreshold","windThreshold","getCurrentWeather","lat","lng","this","API_KEY","getMockWeatherData","response","fetch","BASE_URL","ok","Error","json","transformWeatherData","getGameWeather","gameDateTime","formattedLat","parseFloat","toFixed","formattedLng","list","gameTime","windowStart","windowEnd","windowForecasts","forecast","forecastTime","dt","selectedForecast","closest","weatherSummary","analyzeWeatherWindow","getWeatherByZipcode","zipcode","extractZipcode","zipcodeMatch","split","primaryForecast","alerts","windowSummary","temps","f","main","temp","conditions","weather","precipitations","rain","snow","minTemp","maxTemp","max","maxPrecip","uniqueConditions","join","apiData","condition","precipitation","standardAlerts","generateWeatherAlerts","wind","speed","allAlerts","temperature","capitalizeWords","humidity","windSpeed","getWeatherIcon","isOutdoorFriendly","CONFIG","includes","Clear","Clouds","Rain","Drizzle","Thunderstorm","Snow","Mist","Fog","Haze","str","char","isConfigured","getWeatherRecommendation","WeatherInfo","setWeather","weatherData","latitude","longitude","googleApiKey","geocodeResponse","geocodeData","results","geometry","simpleResponse","simpleData","fallbackResponse","fallbackData","fallbackError","getWeatherData","GameDetails","navigate","useNavigate","useParams","gameError","useGame","participants","loadingPlayers","participantsError","useGameParticipants","toggleJoin","actionLoading","getButtonText","useGameJoinToggle","loadingTimeout","setLoadingTimeout","timeout","clearTimeout","navigateToUser","useDeepLinks","showFullDescription","setShowFullDescription","showQuickJoin","setShowQuickJoin","showInvite","setShowInvite","showEditDialog","setShowEditDialog","showDeleteDialog","setShowDeleteDialog","showRatingModal","setShowRatingModal","editActionLoading","setEditActionLoading","editFormData","setEditFormData","deleteReason","setDeleteReason","creator_id","headerInfo","formatEventHeader","aria","calendarInfo","formatCalendarInfo","isFull","tags","isGameCreator","creatorId","createdBy","isJoined","Loader2","Flag","reload","RefreshCw","ArrowLeft","role","Share","asChild","stopPropagation","style","display","MoreVertical","align","Edit3","Trash2","imageUrl","ImageWithFallback","sportColor","DollarSign","tag","Fragment","height","border","allowFullScreen","referrerPolicy","address","encodedAddress","mapsUrl","userAgent","nativeUrl","Navigation","req","ClickableAvatar","userId","creatorData","RealtimeAvatarStack","roomName","GameChat","htmlFor","rows","updateGame","deleteGame"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]}