{"version":3,"file":"SearchDiscovery-CDq_fyBX.js","sources":["../../node_modules/lucide-react/dist/esm/icons/sliders-horizontal.js","../../src/components/SearchDiscovery.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"21\", x2: \"14\", y1: \"4\", y2: \"4\", key: \"obuewd\" }],\n  [\"line\", { x1: \"10\", x2: \"3\", y1: \"4\", y2: \"4\", key: \"1q6298\" }],\n  [\"line\", { x1: \"21\", x2: \"12\", y1: \"12\", y2: \"12\", key: \"1iu8h1\" }],\n  [\"line\", { x1: \"8\", x2: \"3\", y1: \"12\", y2: \"12\", key: \"ntss68\" }],\n  [\"line\", { x1: \"21\", x2: \"16\", y1: \"20\", y2: \"20\", key: \"14d8ph\" }],\n  [\"line\", { x1: \"12\", x2: \"3\", y1: \"20\", y2: \"20\", key: \"m0wm8r\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"2\", y2: \"6\", key: \"14e1ph\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"10\", y2: \"14\", key: \"1i6ji0\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"18\", y2: \"22\", key: \"1lctlv\" }]\n];\nconst SlidersHorizontal = createLucideIcon(\"sliders-horizontal\", __iconNode);\n\nexport { __iconNode, SlidersHorizontal as default };\n//# sourceMappingURL=sliders-horizontal.js.map\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Badge } from './ui/badge';\nimport { ArrowLeft, Search, SlidersHorizontal, Clock, Users } from 'lucide-react';\nimport { useAppStore } from '../store/appStore';\nimport { useGames } from '../hooks/useGames';\nimport { UnifiedGameCard } from './UnifiedGameCard';\nimport { formatTimeString } from '../lib/dateUtils';\n\n\n\nconst sportFilters = [\n  { name: 'All Sports', value: 'all' },\n  { name: 'Basketball', value: 'basketball' },\n  { name: 'Soccer', value: 'soccer' },\n  { name: 'Tennis', value: 'tennis' },\n  { name: 'Pickleball', value: 'pickleball' },\n  { name: 'Volleyball', value: 'volleyball' },\n  { name: 'Flag Football', value: 'flag football' },\n  { name: 'Baseball', value: 'baseball' },\n  { name: 'Golf', value: 'golf' },\n  { name: 'Hockey', value: 'hockey' },\n  { name: 'Rugby', value: 'rugby' },\n];\n\n// Using UnifiedGameCard component for consistency\n\nfunction SearchDiscovery() {\n  const navigate = useNavigate();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedSport, setSelectedSport] = useState('all');\n  const [showFilters, setShowFilters] = useState(false);\n  // Use React Query for consistent data loading\n  const { data: games = [], isLoading: loading, error } = useGames();\n\n  const handleGameSelect = (gameId: string) => {\n    navigate(`/game/${gameId}`);\n  };\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  // Get sport color helper\n  const getSportColor = (sport: string) => {\n    const colors = {\n      'Basketball': 'bg-orange-500',\n      'Soccer': 'bg-green-500',\n      'Tennis': 'bg-yellow-500',\n      'Pickleball': 'bg-purple-500',\n      'Volleyball': 'bg-blue-500',\n      'Flag Football': 'bg-red-500',\n      'Baseball': 'bg-amber-600',\n      'Golf': 'bg-emerald-600',\n      'Hockey': 'bg-slate-600',\n      'Rugby': 'bg-indigo-600'\n    };\n    return colors[sport as keyof typeof colors] || 'bg-gray-500';\n  };\n\n  // Filter games\n  const filteredResults = games\n    .map(game => ({\n      ...game,\n      sportColor: getSportColor(game.sport),\n      imageUrl: game.imageUrl || '',\n      currentPlayers: game.currentPlayers || game.participants || 0,\n      maxPlayers: game.maxPlayers || game.maxParticipants || 0\n    }))\n    .filter(game => {\n      const matchesSearch = game.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                           game.sport.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                           game.location.toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesSport = selectedSport === 'all' || game.sport.toLowerCase() === selectedSport.toLowerCase();\n      return matchesSearch && matchesSport;\n    });\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10\">\n        <div className=\"flex items-center gap-4 px-4 py-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={handleBack}>\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n            <Input\n              id=\"search-games\"\n              name=\"search-games\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search games, sports, locations...\"\n              className=\"pl-10\"\n            />\n          </div>\n          <Button \n            variant=\"outline\" \n            size=\"icon\"\n            onClick={() => setShowFilters(!showFilters)}\n          >\n            <SlidersHorizontal className=\"w-4 h-4\" />\n          </Button>\n        </div>\n\n        {/* Filter Bar */}\n        {showFilters && (\n          <div className=\"px-4 pb-4 space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Sort by</label>\n                <select className=\"w-full p-2 border rounded-md\">\n                  <option value=\"distance\">Distance</option>\n                  <option value=\"time\">Time</option>\n                  <option value=\"players\">Players Needed</option>\n                  <option value=\"cost\">Cost</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Date</label>\n                <select className=\"w-full p-2 border rounded-md\">\n                  <option value=\"\">Any time</option>\n                  <option value=\"today\">Today</option>\n                  <option value=\"tomorrow\">Tomorrow</option>\n                  <option value=\"week\">This Week</option>\n                  <option value=\"month\">This Month</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Sport Filter Chips */}\n        <div className=\"px-4 pb-4\">\n          <div className=\"flex gap-2 overflow-x-auto pb-2\">\n            {sportFilters.map((sport) => (\n              <Badge\n                key={sport.value}\n                variant={selectedSport === sport.value ? \"default\" : \"outline\"}\n                className=\"cursor-pointer whitespace-nowrap\"\n                onClick={() => setSelectedSport(sport.value)}\n              >\n                {sport.name}\n              </Badge>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"px-4 py-6\">\n        {/* Results Header */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <h2 className=\"text-lg font-semibold\">\n              {filteredResults.length} games found\n            </h2>\n            {searchQuery && (\n              <p className=\"text-sm text-muted-foreground\">\n                Results for \"{searchQuery}\"\n              </p>\n            )}\n          </div>\n        </div>\n\n        {/* Results List */}\n        <div className=\"space-y-4\">\n          {filteredResults.map((game) => (\n            <UnifiedGameCard\n              key={game.id}\n              game={game}\n              variant=\"simple\"\n              onSelect={() => handleGameSelect(game.id)}\n            />\n          ))}\n        </div>\n\n        {filteredResults.length === 0 && (\n          <div className=\"text-center py-12\">\n            <div className=\"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4\">\n              <Search className=\"w-6 h-6 text-muted-foreground\" />\n            </div>\n            <h3 className=\"text-lg font-semibold mb-2\">No games found</h3>\n            <p className=\"text-muted-foreground mb-4\">\n              Try adjusting your search or filters\n            </p>\n            <Button variant=\"outline\" onClick={() => {\n              setSearchQuery('');\n              setSelectedSport('all');\n            }}>\n              Clear filters\n            </Button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default SearchDiscovery;"],"names":["__iconNode","SlidersHorizontal","createLucideIcon","sportFilters","SearchDiscovery","navigate","useNavigate","searchQuery","setSearchQuery","useState","selectedSport","setSelectedSport","showFilters","setShowFilters","games","loading","error","useGames","handleGameSelect","gameId","handleBack","getSportColor","sport","filteredResults","game","matchesSearch","matchesSport","jsxs","jsx","Button","ArrowLeft","Search","Input","e","Badge","UnifiedGameCard"],"mappings":"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","x_google_ignoreList":[0]}