import{e,u as a,j as t,r}from"./vendor-CVaDA-xz.js";import{t as i}from"./utils-u5u1pB88.js";function o(){const o=e(),s=a(),n=t(),c=r.useCallback((e,a)=>{const t=window.location.origin,r=new URL(`${t}/game/${e}`);return a&&Object.entries(a).forEach(([e,a])=>{a&&r.searchParams.set(e,a)}),r.toString()},[]),l=r.useCallback((e,a,t)=>{const r=window.location.origin,i=new URL(`${r}/chat/${e}/${a}`);return t&&Object.entries(t).forEach(([e,a])=>{a&&i.searchParams.set(e,a)}),i.toString()},[]),u=r.useCallback(e=>`${window.location.origin}/user/${e}`,[]),g=r.useCallback(async e=>{const a=c(e.id,{utm_source:"app_share",utm_medium:"native_share",utm_campaign:"game_invitation"}),t={title:`Join me for ${e.title}!`,description:`${e.sport} game at ${e.location} on ${e.date} at ${e.time}. Tap to join!`,url:a};try{return navigator.share&&navigator.canShare&&navigator.canShare(t)?(await navigator.share(t),i.success("Game shared successfully!"),!0):(await navigator.clipboard.writeText(a),i.success("Game link copied to clipboard!",{description:"Share with your friends",action:{label:"Share again",onClick:()=>g(e)}}),!0)}catch(r){return i.error("Failed to share game"),!1}},[c]),m=r.useCallback(async e=>{const a=u(e.id),t={title:`Check out ${e.name}'s TribeUp profile`,description:`${e.name}${e.rating?` (${e.rating}â­)`:""} is on TribeUp! Connect and play sports together.`,url:a};try{return navigator.share&&navigator.canShare&&navigator.canShare(t)?(await navigator.share(t),i.success("Profile shared successfully!"),!0):(await navigator.clipboard.writeText(a),i.success("Profile link copied to clipboard!"),!0)}catch(r){return i.error("Failed to share profile"),!1}},[u]),h=r.useCallback((e,a)=>{o(`/game/${e}`,{state:a})},[o]),p=r.useCallback((e,a,t)=>{o(`/chat/${e}/${a}`,{state:t})},[o]),d=r.useCallback((e,a)=>{o(`/user/${e}`,{state:a})},[o]),w=r.useCallback(()=>{const e=new URLSearchParams(s.search),a=(e.get("utm_source"),e.get("utm_medium"),e.get("utm_campaign"));if(s.pathname.startsWith("/game/")){n.gameId&&"game_invitation"===a&&i.success("Welcome to the game!",{description:"You were invited to join this game"})}if(s.pathname.startsWith("/chat/")){const a=e.get("message");a&&setTimeout(()=>{const e=document.querySelector('input[placeholder*="message" i]');e&&(e.value=decodeURIComponent(a),e.focus())},500)}},[s,n]),b=r.useCallback(e=>({"og:title":e.title,"og:description":e.description,"og:url":e.url,"og:image":e.image||`${window.location.origin}/og-image.png`,"og:type":"website","twitter:card":"summary_large_image","twitter:title":e.title,"twitter:description":e.description,"twitter:image":e.image||`${window.location.origin}/og-image.png`}),[]),f=r.useCallback(async()=>{try{return await navigator.clipboard.writeText(window.location.href),i.success("Link copied to clipboard!"),!0}catch(e){return i.error("Failed to copy link"),!1}},[]),$=r.useCallback(()=>{const e=s.pathname;return"/"===e?"home":"/search"===e?"search":"/create"===e?"create":"/profile"===e?"profile":e.startsWith("/game/")?"game":e.startsWith("/chat/")?"chat":e.startsWith("/user/")?"user_profile":e.startsWith("/settings")?"settings":"unknown"},[s.pathname]);return r.useEffect(()=>{w()},[w]),{generateGameUrl:c,generateChatUrl:l,generateUserUrl:u,shareGame:g,shareProfile:m,copyCurrentUrl:f,navigateToGame:h,navigateToChat:p,navigateToUser:d,generateMetaTags:b,getCurrentContext:$,currentPath:s.pathname,currentSearch:s.search,currentParams:n,currentState:s.state}}export{o as u};
//# sourceMappingURL=useDeepLinks-C_TpM2nu.js.map
