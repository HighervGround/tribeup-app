{"version":3,"file":"useGameJoinToggle-SYTumV-U.js","sources":["../../node_modules/lucide-react/dist/esm/icons/clock.js","../../src/hooks/useGameJoinToggle.ts"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"polyline\", { points: \"12 6 12 12 16 14\", key: \"68esgv\" }]\n];\nconst Clock = createLucideIcon(\"clock\", __iconNode);\n\nexport { __iconNode, Clock as default };\n//# sourceMappingURL=clock.js.map\n","import { useCallback } from 'react';\nimport { toast } from 'sonner';\nimport { useJoinGame, useLeaveGame } from './useGames';\n\ninterface Game {\n  id: string;\n  isJoined: boolean;\n  [key: string]: any;\n}\n\n/**\n * Custom hook to handle game join/leave toggle functionality\n * Eliminates duplication of join/leave logic across components\n */\nexport function useGameJoinToggle() {\n  const joinGameMutation = useJoinGame();\n  const leaveGameMutation = useLeaveGame();\n  \n  /**\n   * Toggle join/leave status for a game\n   * @param game - Game object with id and isJoined status\n   * @param e - Optional React MouseEvent to prevent propagation\n   */\n  const toggleJoin = useCallback((game: Game, e?: React.MouseEvent) => {\n    // Prevent event bubbling if provided (useful for cards)\n    e?.stopPropagation();\n    \n    console.log('ðŸŽ¯ toggleJoin called with game:', game.id, 'isJoined:', game.isJoined);\n    \n    if (game.isJoined) {\n      console.log('ðŸ”„ Attempting to leave game:', game.id);\n      leaveGameMutation.mutate(game.id, {\n        onSuccess: () => {\n          console.log('âœ… Leave game success callback');\n          toast.success('Left game successfully');\n        },\n        onError: (error) => {\n          console.error('âŒ Leave game error callback:', error);\n        }\n      });\n    } else {\n      console.log('ðŸ”„ Attempting to join game:', game.id);\n      joinGameMutation.mutate(game.id, {\n        onSuccess: () => {\n          console.log('âœ… Join game success callback');\n          toast.success('Joined game successfully!');\n        },\n        onError: (error) => {\n          console.error('âŒ Join game error callback:', error);\n        }\n      });\n    }\n  }, [joinGameMutation, leaveGameMutation]);\n  \n  /**\n   * Check if join/leave operations are currently loading\n   */\n  const isLoading = joinGameMutation.isPending || leaveGameMutation.isPending;\n  \n  /**\n   * Get the appropriate button text based on game state and loading\n   * @param game - Game object with isJoined status\n   * @returns Button text string\n   */\n  const getButtonText = useCallback((game: Game) => {\n    if (isLoading) return '...';\n    return game.isJoined ? 'Leave' : 'Join';\n  }, [isLoading]);\n  \n  /**\n   * Get appropriate button variant based on game state\n   * @param game - Game object with isJoined status\n   * @returns Button variant string\n   */\n  const getButtonVariant = useCallback((game: Game) => {\n    return game.isJoined ? 'outline' : 'default';\n  }, []);\n  \n  return {\n    toggleJoin,\n    isLoading,\n    getButtonText,\n    getButtonVariant,\n    // Individual mutation states for advanced use cases\n    isJoining: joinGameMutation.isPending,\n    isLeaving: leaveGameMutation.isPending,\n  };\n}\n"],"names":["__iconNode","Clock","createLucideIcon","useGameJoinToggle","joinGameMutation","useJoinGame","leaveGameMutation","useLeaveGame","toggleJoin","useCallback","game","e","toast","error","isLoading","getButtonText","getButtonVariant"],"mappings":"qIAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,EAAa,CACjB,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,KAAM,IAAK,SAAU,EACzD,CAAC,WAAY,CAAE,OAAQ,mBAAoB,IAAK,QAAQ,CAAE,CAC5D,EACMC,EAAQC,EAAiB,QAASF,CAAU,ECC3C,SAASG,GAAoB,CAClC,MAAMC,EAAmBC,EAAA,EACnBC,EAAoBC,EAAA,EAOpBC,EAAaC,EAAAA,YAAY,CAACC,EAAYC,IAAyB,CAEnEA,GAAG,gBAAA,EAEH,QAAQ,IAAI,kCAAmCD,EAAK,GAAI,YAAaA,EAAK,QAAQ,EAE9EA,EAAK,UACP,QAAQ,IAAI,+BAAgCA,EAAK,EAAE,EACnDJ,EAAkB,OAAOI,EAAK,GAAI,CAChC,UAAW,IAAM,CACf,QAAQ,IAAI,+BAA+B,EAC3CE,EAAM,QAAQ,wBAAwB,CACxC,EACA,QAAUC,GAAU,CAClB,QAAQ,MAAM,+BAAgCA,CAAK,CACrD,CAAA,CACD,IAED,QAAQ,IAAI,8BAA+BH,EAAK,EAAE,EAClDN,EAAiB,OAAOM,EAAK,GAAI,CAC/B,UAAW,IAAM,CACf,QAAQ,IAAI,8BAA8B,EAC1CE,EAAM,QAAQ,2BAA2B,CAC3C,EACA,QAAUC,GAAU,CAClB,QAAQ,MAAM,8BAA+BA,CAAK,CACpD,CAAA,CACD,EAEL,EAAG,CAACT,EAAkBE,CAAiB,CAAC,EAKlCQ,EAAYV,EAAiB,WAAaE,EAAkB,UAO5DS,EAAgBN,cAAaC,GAC7BI,EAAkB,MACfJ,EAAK,SAAW,QAAU,OAChC,CAACI,CAAS,CAAC,EAORE,EAAmBP,cAAaC,GAC7BA,EAAK,SAAW,UAAY,UAClC,CAAA,CAAE,EAEL,MAAO,CACL,WAAAF,EACA,UAAAM,EACA,cAAAC,EACA,iBAAAC,EAEA,UAAWZ,EAAiB,UAC5B,UAAWE,EAAkB,SAAA,CAEjC","x_google_ignoreList":[0]}