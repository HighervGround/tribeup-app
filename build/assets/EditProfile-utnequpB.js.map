{"version":3,"file":"EditProfile-utnequpB.js","sources":["../../node_modules/lucide-react/dist/esm/icons/save.js","../../node_modules/lucide-react/dist/esm/icons/upload.js","../../src/components/EditProfile.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n];\nconst Save = createLucideIcon(\"save\", __iconNode);\n\nexport { __iconNode, Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n];\nconst Upload = createLucideIcon(\"upload\", __iconNode);\n\nexport { __iconNode, Upload as default };\n//# sourceMappingURL=upload.js.map\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Textarea } from './ui/textarea';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Avatar, AvatarFallback, AvatarImage } from './ui/avatar';\nimport { Badge } from './ui/badge';\nimport { ArrowLeft, Save, Upload, X } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { useAppStore } from '../store/appStore';\n\ninterface ProfileFormData {\n  fullName: string;\n  username: string;\n  bio: string;\n  location: string;\n  avatarUrl: string;\n  sportsPreferences: string[];\n}\n\nconst availableSports = [\n  'Basketball', 'Soccer', 'Tennis', 'Volleyball', 'Football', \n  'Baseball', 'Swimming', 'Running', 'Cycling', 'Yoga'\n];\n\nexport function EditProfile() {\n  const navigate = useNavigate();\n  const { user, setUser } = useAppStore();\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState<ProfileFormData>({\n    fullName: '',\n    username: '',\n    bio: '',\n    location: '',\n    avatarUrl: '',\n    sportsPreferences: []\n  });\n  const [usernameError, setUsernameError] = useState(null as string | null);\n  const [checkingUsername, setCheckingUsername] = useState(false);\n  const [selectedFile, setSelectedFile] = useState(null as File | null);\n  const [previewUrl, setPreviewUrl] = useState('');\n  const [avatarError, setAvatarError] = useState(null as string | null);\n  const initialFormRef = React.useRef(null as ProfileFormData | null);\n\n  const BIO_MAX = 200;\n  const USERNAME_REGEX = /^[a-zA-Z0-9._-]{3,20}$/;\n\n  // Load current user data\n  useEffect(() => {\n    const loadUserData = async () => {\n      if (!user) {\n        navigate('/auth');\n        return;\n      }\n\n      try {\n        const userProfile = await SupabaseService.getUserProfile(user.id);\n        if (!userProfile) return;\n        const loaded: ProfileFormData = {\n          fullName: userProfile.name || '',\n          username: userProfile.username || '',\n          bio: userProfile.bio || '',\n          location: userProfile.location || '',\n          avatarUrl: userProfile.avatar || '',\n          sportsPreferences: Array.isArray(userProfile.preferences?.sports) ? userProfile.preferences.sports : []\n        };\n        setFormData(loaded);\n        initialFormRef.current = loaded;\n      } catch (error) {\n        console.error('Error loading user profile:', error);\n        toast.error('Failed to load profile data');\n      }\n    };\n    loadUserData();\n  }, [user, navigate]);\n\n  // Debounced username availability check while typing (top-level)\n  useEffect(() => {\n    let timer: any;\n    const uname = (formData.username || '').trim();\n    if (!uname) {\n      setUsernameError(null);\n      return;\n    }\n    if (!USERNAME_REGEX.test(uname)) {\n      setUsernameError('3-20 chars. Letters, numbers, dot, underscore, or hyphen.');\n      return;\n    }\n    // If unchanged vs current store user, skip\n    if (user?.username && user.username.trim().toLowerCase() === uname.toLowerCase()) {\n      setUsernameError(null);\n      return;\n    }\n    setCheckingUsername(true);\n    timer = setTimeout(async () => {\n      try {\n        const available = await SupabaseService.isUsernameAvailable(uname, user?.id);\n        setUsernameError(available ? null : 'Username is already taken');\n      } catch {\n        setUsernameError('Unable to validate username right now');\n      } finally {\n        setCheckingUsername(false);\n      }\n    }, 450);\n    return () => clearTimeout(timer);\n  }, [formData.username, user]);\n\n  const handleInputChange = (field: keyof ProfileFormData, value: string | string[]) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n    if (field === 'username') {\n      setUsernameError(null);\n    }\n    if (field === 'bio' && typeof value === 'string' && value.length > BIO_MAX) {\n      // hard limit in UI\n      setFormData(prev => ({ ...prev, bio: value.slice(0, BIO_MAX) }));\n    }\n  };\n\n  const handleSportToggle = (sport: string) => {\n    setFormData(prev => ({\n      ...prev,\n      sportsPreferences: prev.sportsPreferences.includes(sport)\n        ? prev.sportsPreferences.filter(s => s !== sport)\n        : [...prev.sportsPreferences, sport]\n    }));\n  };\n\n  const handleUsernameBlur = async () => {\n    if (!user) return;\n    const uname = (formData.username || '').trim();\n    if (!uname) return;\n    // client-side validation rules first\n    if (!USERNAME_REGEX.test(uname)) {\n      setUsernameError('3-20 chars. Letters, numbers, dot, underscore, or hyphen.');\n      return;\n    }\n    if (user.username && user.username.trim().toLowerCase() === uname.toLowerCase()) return;\n    try {\n      setCheckingUsername(true);\n      const available = await SupabaseService.isUsernameAvailable(uname, user.id);\n      if (!available) setUsernameError('Username is already taken');\n    } catch (e) {\n      setUsernameError('Unable to validate username right now');\n    } finally {\n      setCheckingUsername(false);\n    }\n  };\n\n  const handleFileChange = (e: any) => {\n    const file = e.target.files?.[0] || null;\n    setSelectedFile(file);\n    setAvatarError(null);\n    if (file) {\n      const validTypes = ['image/jpeg', 'image/png', 'image/webp', 'image/gif'];\n      const maxBytes = 5 * 1024 * 1024; // 5MB\n      if (!validTypes.includes(file.type)) {\n        setAvatarError('Please upload a JPG, PNG, WEBP, or GIF image.');\n        setSelectedFile(null);\n        return;\n      }\n      if (file.size > maxBytes) {\n        setAvatarError('Image is too large. Max size is 5 MB.');\n        setSelectedFile(null);\n        return;\n      }\n      const url = URL.createObjectURL(file);\n      setPreviewUrl(url);\n    } else {\n      setPreviewUrl('');\n    }\n  };\n\n  const handleSave = async () => {\n    if (!user) return;\n\n    setLoading(true);\n    try {\n      // Validate username availability before save\n      const uname = (formData.username || '').trim();\n      if (uname) {\n        if (!USERNAME_REGEX.test(uname)) {\n          setUsernameError('3-20 chars. Letters, numbers, dot, underscore, or hyphen.');\n          setLoading(false);\n          return;\n        }\n        const available = await SupabaseService.isUsernameAvailable(uname, user.id);\n        if (!available) {\n          setUsernameError('Username is already taken');\n          setLoading(false);\n          return;\n        }\n      }\n\n      // Upload avatar if a file is selected\n      let finalAvatarUrl = formData.avatarUrl;\n      if (selectedFile) {\n        finalAvatarUrl = await SupabaseService.uploadAvatar(selectedFile);\n      }\n\n      const updatedProfile = await SupabaseService.updateUserProfile(user.id, {\n        full_name: formData.fullName,\n        username: formData.username,\n        bio: formData.bio,\n        location: formData.location,\n        avatar_url: finalAvatarUrl,\n        sports_preferences: formData.sportsPreferences\n      });\n\n      // Update the user in the store\n      setUser(updatedProfile);\n      \n      toast.success('Profile updated successfully!');\n      navigate('/profile');\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      toast.error('Failed to update profile');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleBack = () => {\n    const isDirty = initialFormRef.current && JSON.stringify(initialFormRef.current) !== JSON.stringify(formData);\n    if (isDirty) {\n      const confirmLeave = window.confirm('Discard unsaved changes?');\n      if (!confirmLeave) return;\n    }\n    navigate('/profile');\n  };\n\n  // Warn on browser/tab close if form is dirty\n  useEffect(() => {\n    const isDirty = initialFormRef.current && JSON.stringify(initialFormRef.current) !== JSON.stringify(formData);\n    const beforeUnload = (e: BeforeUnloadEvent) => {\n      if (isDirty) {\n        e.preventDefault();\n        e.returnValue = '';\n      }\n    };\n    window.addEventListener('beforeunload', beforeUnload);\n    return () => window.removeEventListener('beforeunload', beforeUnload);\n  }, [formData]);\n\n  const isDirty = initialFormRef.current && JSON.stringify(initialFormRef.current) !== JSON.stringify(formData);\n\n  if (!user) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl mb-4\">Please sign in</h1>\n          <Button onClick={() => navigate('/auth')}>Sign In</Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 pt-12 pb-6\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={handleBack}>\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <h1 className=\"text-xl font-semibold\">Edit Profile</h1>\n        </div>\n        <Button \n          onClick={handleSave} \n          disabled={!isDirty || loading || checkingUsername || !!usernameError || !!avatarError || !formData.fullName || !formData.username}\n          className=\"flex items-center gap-2\"\n        >\n          <Save className=\"w-4 h-4\" />\n          {loading ? 'Saving...' : 'Save'}\n        </Button>\n      </div>\n\n      <div className=\"px-4 space-y-6\">\n        {/* Profile Picture */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Profile Picture</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex items-center gap-4\">\n              <Avatar className=\"w-20 h-20\">\n                {(previewUrl || formData.avatarUrl) && (\n                  <AvatarImage src={previewUrl || formData.avatarUrl} alt=\"Avatar preview\" />\n                )}\n                <AvatarFallback className=\"text-xl\">\n                  {formData.fullName ? formData.fullName.charAt(0).toUpperCase() : 'U'}\n                </AvatarFallback>\n              </Avatar>\n              <div className=\"flex-1\">\n                <Input\n                  placeholder=\"Avatar URL (optional)\"\n                  value={formData.avatarUrl}\n                  onChange={(e) => handleInputChange('avatarUrl', e.target.value)}\n                />\n                <div className=\"mt-3 flex items-center gap-3\">\n                  <Input type=\"file\" accept=\"image/*\" onChange={handleFileChange} />\n                  <Upload className=\"w-4 h-4 text-muted-foreground\" />\n                </div>\n                <p className=\"text-sm text-muted-foreground mt-1\">Enter a URL or upload an image</p>\n                {avatarError && (\n                  <p className=\"text-xs text-red-500 mt-1\" role=\"alert\" aria-live=\"polite\">{avatarError}</p>\n                )}\n                {/* Preview now shown inside Avatar above */}\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Basic Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Basic Information</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <label className=\"text-sm font-medium mb-2 block\">Full Name</label>\n              <Input\n                placeholder=\"Enter your full name\"\n                value={formData.fullName}\n                onChange={(e) => handleInputChange('fullName', e.target.value)}\n              />\n            </div>\n            \n            <div>\n              <label className=\"text-sm font-medium mb-2 block\">Username <span className=\"text-muted-foreground font-normal\">(3–20 chars)</span></label>\n              <Input\n                placeholder=\"Choose a username\"\n                value={formData.username}\n                onChange={(e) => handleInputChange('username', e.target.value)}\n                onBlur={handleUsernameBlur}\n                aria-describedby={\n                  usernameError ? 'username-error' : 'username-help'\n                }\n              />\n              {checkingUsername && (\n                <p className=\"text-xs text-muted-foreground mt-1\" aria-live=\"polite\">Checking availability…</p>\n              )}\n              {usernameError && (\n                <p id=\"username-error\" className=\"text-xs text-red-500 mt-1\" role=\"alert\" aria-live=\"polite\">{usernameError}</p>\n              )}\n              {!usernameError && !checkingUsername && formData.username && (\n                <p id=\"username-help\" className=\"text-xs text-muted-foreground mt-1\">Allowed: letters, numbers, dot, underscore, hyphen.</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"text-sm font-medium mb-2 block\">Location</label>\n              <Input\n                placeholder=\"City, State\"\n                value={formData.location}\n                onChange={(e) => handleInputChange('location', e.target.value)}\n              />\n            </div>\n\n            <div>\n              <label className=\"text-sm font-medium mb-2 block\">Bio <span className=\"text-muted-foreground font-normal\">(max {BIO_MAX} chars)</span></label>\n              <Textarea\n                placeholder=\"Tell us about yourself...\"\n                value={formData.bio}\n                onChange={(e) => handleInputChange('bio', e.target.value)}\n                rows={3}\n                maxLength={BIO_MAX}\n                aria-describedby=\"bio-counter\"\n              />\n              <div className=\"flex justify-end\">\n                <span id=\"bio-counter\" className={`text-xs ${formData.bio.length >= BIO_MAX ? 'text-red-500' : 'text-muted-foreground'}`}>{formData.bio.length}/{BIO_MAX}</span>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Sports Preferences */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Sports I Play</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-wrap gap-2\">\n              {availableSports.map((sport) => (\n                <Badge\n                  key={sport}\n                  variant={formData.sportsPreferences.includes(sport) ? \"default\" : \"secondary\"}\n                  className=\"cursor-pointer hover:opacity-80 transition-opacity\"\n                  onClick={() => handleSportToggle(sport)}\n                >\n                  {sport}\n                  {formData.sportsPreferences.includes(sport) && (\n                    <X className=\"w-3 h-3 ml-1\" />\n                  )}\n                </Badge>\n              ))}\n            </div>\n            <p className=\"text-sm text-muted-foreground mt-3\">\n              Click on sports to add or remove them from your preferences\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":["__iconNode","Save","createLucideIcon","Upload","availableSports","EditProfile","navigate","useNavigate","user","setUser","useAppStore","loading","setLoading","useState","formData","setFormData","usernameError","setUsernameError","checkingUsername","setCheckingUsername","selectedFile","setSelectedFile","previewUrl","setPreviewUrl","avatarError","setAvatarError","initialFormRef","React","BIO_MAX","USERNAME_REGEX","useEffect","userProfile","SupabaseService","loaded","error","toast","timer","uname","available","handleInputChange","field","value","prev","handleSportToggle","sport","s","handleUsernameBlur","handleFileChange","e","file","url","handleSave","finalAvatarUrl","updatedProfile","handleBack","isDirty","beforeUnload","jsxs","jsx","Button","ArrowLeft","Card","CardHeader","CardTitle","CardContent","Avatar","AvatarImage","AvatarFallback","Input","Textarea","Badge","X"],"mappings":"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","x_google_ignoreList":[0,1]}