import{c as M,a as F,r as g,t as f,i as oe,j as e,C,d as $,e as A,B as y,b as S,A as X,f as Z,u as ce,k as le,l as de,m as me,L as he,S as ue}from"./index-zpPBrtBy.js";import{B as L}from"./badge-CM47jYqT.js";import{A as R,a as H}from"./avatar-CkdZrFYG.js";import{S as xe}from"./separator-TfEeTsfl.js";import{I as fe}from"./ImageWithFallback-RervP0tJ.js";import{u as pe}from"./useDeepLinks-GPyraBsC.js";import{I as E}from"./input-2TDkEivg.js";import{X as ee}from"./x-Dbblapz3.js";import{U as ge}from"./user-DcRCUHQB.js";import{M as D}from"./mail-9-Tp5ZBK.js";import{C as K}from"./check-DmnxQ6qZ.js";import{M as je,F as ye}from"./message-circle-Cr0V2uJ7.js";import{U as se}from"./users-CKy2Cmhz.js";import{A as ve}from"./arrow-left-4l-hvJxO.js";import{S as Ne,a as O}from"./star-vGpgOBD6.js";import{K as we}from"./keyboard-CWeYjQag.js";import{C as be}from"./calendar-CbWUaCS6.js";import{M as q}from"./map-pin-CDKxPfsB.js";import{N as ke}from"./navigation-rC5eFexv.js";import"./index-CyN_7i2q.js";import"./index-BZhVO8Em.js";import"./index-KTgKYCyB.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Se=M("clock",Ce);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Y=M("copy",$e);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Pe=M("dollar-sign",Ae);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Te=M("phone",Me);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ge=M("share-2",Ie);function Le(){const{joinGame:r,leaveGame:s,updateGame:i,setLoading:a,setError:o}=F(),n=F(h=>h.games),m=g.useCallback(async h=>{const c=n.find(d=>d.id===h);if(!c)return f.error("Game not found"),!1;if(c.isJoined)return f("Already joined",{description:"You are already part of this game"}),!1;if(c.currentPlayers>=c.maxPlayers)return f.error("Game is full",{description:"This game has reached maximum capacity"}),!1;try{return a(!0),await new Promise(d=>setTimeout(d,800)),r(h),f.success("Joined game!",{description:`You're now part of ${c.title}`}),!0}catch{return o("Failed to join game"),f.error("Failed to join game",{description:"Please try again later"}),!1}finally{a(!1)}},[n,r,a,o]),x=g.useCallback(async h=>{const c=n.find(d=>d.id===h);if(!c)return f.error("Game not found"),!1;if(!c.isJoined)return f("Not joined",{description:"You are not part of this game"}),!1;try{return a(!0),await new Promise(d=>setTimeout(d,500)),s(h),f.success("Left game successfully",{description:`You've left ${c.title}`}),!0}catch{return o("Failed to leave game"),f.error("Failed to leave game",{description:"Please try again later"}),!1}finally{a(!1)}},[n,s,a,o]),u=g.useCallback(async h=>{const c=n.find(d=>d.id===h);return c?c.isJoined?await x(h):await m(h):!1},[n,m,x]),l=g.useCallback(async(h,c)=>{try{return a(!0),await new Promise(d=>setTimeout(d,1e3)),i(h,{description:`${c?`CANCELLED: ${c}`:"CANCELLED"}`}),f.success("Game cancelled",{description:c||"The game has been cancelled"}),!0}catch{return o("Failed to cancel game"),f.error("Failed to cancel game",{description:"Please try again later"}),!1}finally{a(!1)}},[i,a,o]);return{joinGame:m,leaveGame:x,toggleGameParticipation:u,cancelGame:l}}function Ee(r,s=!0){const i=g.useCallback(a=>{if(!s)return;const o=a.target;if(!((o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.contentEditable==="true")&&!["Escape","Enter"].includes(a.key)))for(const m of r){if(m.disabled)continue;const x=m.key.toLowerCase()===a.key.toLowerCase(),u=!!m.ctrlKey===a.ctrlKey,l=!!m.metaKey===a.metaKey,h=!!m.shiftKey===a.shiftKey,c=!!m.altKey===a.altKey;if(x&&u&&l&&h&&c){a.preventDefault(),a.stopPropagation();try{m.action()}catch(d){console.error("Error executing custom shortcut:",d)}break}}},[r,s]);g.useEffect(()=>{if(s)return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[s,i])}function Fe({isOpen:r,onClose:s,gameTitle:i,gameId:a,onJoinSuccess:o}){const{signUp:n,signInWithOAuth:m}=oe(),[x,u]=g.useState("signup"),[l,h]=g.useState({name:"",email:"",phone:""}),[c,d]=g.useState(!1),[w,N]=g.useState("");if(!r)return null;const k=async v=>{v.preventDefault(),d(!0),N("");try{await n(l.email,"temp-password-"+Date.now(),{name:l.name,email:l.email,phone:l.phone,pendingGameId:a}),u("verify"),f.success("Account created! Check your email to verify and join the game.")}catch(t){N(t.message)}finally{d(!1)}},P=async v=>{try{d(!0),await m(v,{pendingGameId:a}),f.success(`Signing in with ${v}...`),s()}catch(t){f.error(t.message||"Social login failed")}finally{d(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(C,{className:"w-full max-w-md",children:[e.jsxs($,{className:"flex flex-row items-center justify-between",children:[e.jsx(A,{className:"text-lg",children:x==="signup"?`Join "${i}"`:"Check Your Email"}),e.jsx(y,{variant:"ghost",size:"icon",onClick:s,children:e.jsx(ee,{className:"w-4 h-4"})})]}),e.jsx(S,{children:x==="signup"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(y,{variant:"outline",className:"w-full",onClick:()=>P("google"),disabled:c,children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs(y,{variant:"outline",className:"w-full",onClick:()=>P("apple"),disabled:c,children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"Continue with Apple"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:k,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(E,{type:"text",placeholder:"Your name",value:l.name,onChange:v=>h(t=>({...t,name:v.target.value})),required:!0,className:"pl-10"}),e.jsx(ge,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{type:"email",placeholder:"Email address",value:l.email,onChange:v=>h(t=>({...t,email:v.target.value})),required:!0,className:"pl-10"}),e.jsx(D,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{type:"tel",placeholder:"Phone (optional)",value:l.phone,onChange:v=>h(t=>({...t,phone:v.target.value})),className:"pl-10"}),e.jsx(Te,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),w&&e.jsx(X,{variant:"destructive",children:e.jsx(Z,{children:w})}),e.jsx(y,{type:"submit",className:"w-full",disabled:c,children:c?"Creating Account...":"Join Game"})]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"By joining, you agree to our Terms of Service and Privacy Policy"})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(D,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Check your email"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a verification link to ",e.jsx("strong",{children:l.email})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:['Click the link to verify your account and automatically join "',i,'"']})]}),e.jsx(y,{variant:"outline",onClick:s,className:"w-full",children:"Got it"})]})})]})})}function De({isOpen:r,onClose:s,gameTitle:i,gameId:a,gameDate:o,gameTime:n,gameLocation:m,sport:x}){const[u,l]=g.useState(!1),[h,c]=g.useState([]);if(!r)return null;const d=`${window.location.origin}/game/${a}`,w=`ðŸƒâ€â™‚ï¸ Join me for ${x}!

"${i}"
ðŸ“… ${o} at ${n}
ðŸ“ ${m}

Tap to RSVP: ${d}`,N=async()=>{try{await navigator.clipboard.writeText(d),l(!0),f.success("Link copied to clipboard!"),setTimeout(()=>l(!1),2e3)}catch{f.error("Failed to copy link")}},T=[{name:"Copy Link",icon:u?K:Y,action:N,description:"Copy shareable link",color:u?"text-green-600":"text-blue-600"},{name:"Share",icon:Ge,action:async()=>{if(navigator.share)try{await navigator.share({title:`Join me for ${x}!`,text:w,url:d}),f.success("Shared successfully!")}catch{N()}else N()},description:"Use device share menu",color:"text-purple-600"},{name:"Text Message",icon:je,action:()=>{const j=`sms:?body=${encodeURIComponent(w)}`;window.open(j,"_blank"),f.success("SMS app opened!")},description:"Send via SMS",color:"text-green-600"},{name:"Email",icon:D,action:()=>{const j=encodeURIComponent(`Join me for ${x} - ${i}`),I=encodeURIComponent(`Hi!

I'm organizing a ${x} game and would love for you to join!

${i}
ðŸ“… ${o} at ${n}
ðŸ“ ${m}

Click here to RSVP: ${d}

See you there!
`),G=`mailto:?subject=${j}&body=${I}`;window.open(G,"_blank"),f.success("Email app opened!")},description:"Send via email",color:"text-red-600"},{name:"WhatsApp",icon:se,action:()=>{const j=`https://wa.me/?text=${encodeURIComponent(w)}`;window.open(j,"_blank"),f.success("WhatsApp opened!")},description:"Share on WhatsApp",color:"text-green-500"}];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(C,{className:"w-full max-w-md",children:[e.jsxs($,{className:"flex flex-row items-center justify-between",children:[e.jsx(A,{className:"text-lg",children:"Invite Friends"}),e.jsx(y,{variant:"ghost",size:"icon",onClick:s,children:e.jsx(ee,{className:"w-4 h-4"})})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:"secondary",children:x}),e.jsx("h3",{className:"font-semibold text-sm",children:i})]}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxs("div",{children:["ðŸ“… ",o," at ",n]}),e.jsxs("div",{children:["ðŸ“ ",m]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Game Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{value:d,readOnly:!0,className:"text-xs"}),e.jsx(y,{variant:"outline",size:"icon",onClick:N,className:u?"text-green-600":"",children:u?e.jsx(K,{className:"w-4 h-4"}):e.jsx(Y,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium",children:"Quick Invite"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(j=>e.jsxs(y,{variant:"outline",className:"h-auto p-3 flex flex-col items-center gap-2",onClick:j.action,children:[e.jsx(j.icon,{className:`w-5 h-5 ${j.color}`}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs font-medium",children:j.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:j.description})]})]},j.name))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Message Preview"}),e.jsx("div",{className:"bg-muted/30 rounded-lg p-3 text-xs text-muted-foreground border-l-2 border-primary/20",children:w})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Anyone with the link can view and join this game"})]})]})})}class Q{static API_KEY="***REMOVED***";static BASE_URL="https://api.openweathermap.org/data/2.5";static CONFIG={temperatureUnit:"fahrenheit",updateInterval:3600,includeHourlyForecast:!0,rainThreshold:.1,windThreshold:15};static async getCurrentWeather(s,i){try{const a=await fetch(`${this.BASE_URL}/weather?lat=${s}&lon=${i}&appid=${this.API_KEY}&units=imperial`);if(!a.ok)throw new Error(`Weather API error: ${a.status}`);const o=await a.json();return this.transformWeatherData(o)}catch(a){return console.error("Error fetching weather:",a),this.getMockWeatherData()}}static async getGameWeather(s,i,a){try{const o=await fetch(`${this.BASE_URL}/forecast?lat=${s}&lon=${i}&appid=${this.API_KEY}&units=imperial`);if(!o.ok)throw new Error(`Weather API error: ${o.status}`);const n=await o.json(),m=a.getTime();let x=n.list[0],u=Math.abs(new Date(x.dt*1e3).getTime()-m);for(const l of n.list){const h=new Date(l.dt*1e3).getTime(),c=Math.abs(h-m);c<u&&(u=c,x=l)}return this.transformWeatherData(x)}catch(o){return console.error("Error fetching game weather:",o),this.getMockWeatherData()}}static transformWeatherData(s){const i=Math.round(s.main.temp),a=s.weather[0].main,o=s.weather[0].description,n=s.rain?.["1h"]||s.snow?.["1h"]||0;return{temperature:i,condition:a,description:this.capitalizeWords(o),humidity:s.main.humidity,windSpeed:Math.round(s.wind.speed),precipitation:n,icon:this.getWeatherIcon(a),isOutdoorFriendly:this.isOutdoorFriendly(a,i,n,s.wind.speed),alerts:this.generateWeatherAlerts(a,i,n,s.wind.speed)}}static isOutdoorFriendly(s,i,a,o){return!(i<40||i>95||a>this.CONFIG.rainThreshold||o>this.CONFIG.windThreshold||["Thunderstorm","Tornado","Squall"].includes(s))}static generateWeatherAlerts(s,i,a,o){const n=[];return i<50?n.push("ðŸ§¥ Dress warmly - temperature below 50Â°F"):i>85&&n.push("â˜€ï¸ Stay hydrated - high temperature expected"),a>this.CONFIG.rainThreshold&&n.push("ðŸŒ§ï¸ Rain expected - consider indoor backup plan"),o>12&&n.push("ðŸ’¨ Windy conditions - secure loose items"),s==="Thunderstorm"&&n.push("âš¡ Thunderstorm warning - move indoors immediately"),n}static getWeatherIcon(s){return{Clear:"â˜€ï¸",Clouds:"â˜ï¸",Rain:"ðŸŒ§ï¸",Drizzle:"ðŸŒ¦ï¸",Thunderstorm:"â›ˆï¸",Snow:"â„ï¸",Mist:"ðŸŒ«ï¸",Fog:"ðŸŒ«ï¸",Haze:"ðŸŒ«ï¸"}[s]||"ðŸŒ¤ï¸"}static capitalizeWords(s){return s.replace(/\b\w/g,i=>i.toUpperCase())}static getMockWeatherData(){return{temperature:72,condition:"Clear",description:"Clear Sky",humidity:65,windSpeed:8,precipitation:0,icon:"â˜€ï¸",isOutdoorFriendly:!0,alerts:[]}}static isConfigured(){return this.API_KEY!=="demo_key"&&this.API_KEY.length>0}static getWeatherRecommendation(s){return s.isOutdoorFriendly?s.temperature<60?"Cool weather - dress in layers and bring warm clothing.":s.temperature>80?"Warm weather - bring water and sun protection.":"Great weather for outdoor activities!":"Weather conditions may not be ideal for outdoor activities. Consider rescheduling or moving indoors."}}function V(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate())}function te(r,s){if(!r&&!s)return null;if(r&&!s){const i=new Date(r);return isNaN(i.getTime())?null:i}if(!r&&s){const i=new Date(s);return isNaN(i.getTime())?null:i}try{const[i,a,o]=r.split("-").map(Number);if(!i||!a||!o)throw new Error("bad date");let n=0,m=0;if(s){const u=s.trim().match(/^(\d{1,2})(?::(\d{2}))?\s*(AM|PM)?$/i);if(u){n=parseInt(u[1],10),m=u[2]?parseInt(u[2],10):0;const l=u[3]?.toUpperCase();l&&(l==="PM"&&n<12&&(n+=12),l==="AM"&&n===12&&(n=0))}}const x=new Date(i,a-1,o,n,m);return isNaN(x.getTime())?null:x}catch{return null}}function ae(r,s){return new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"2-digit"}).format(r)}function ie(r,s){return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(r)}function We(r,s,i){const a=new Date,o=te(r,s);if(!o){const N=r||"",k=s||"";return{label:[N,k].filter(Boolean).join(" Â· "),aria:`Event ${[N,k].filter(Boolean).join(" at ")}`,isPast:!1,isToday:!1,date:N,time:k}}const n=V(a),m=V(o),x=Math.round((m.getTime()-n.getTime())/864e5),u=s?ae(o):"";let l="",h=!1;x===0?(l="Today",h=!0):x===1?l="Tomorrow":l=ie(o);const c=[l,u].filter(Boolean).join(" Â· "),d=`Event ${l}${u?` at ${u}`:""}`,w=o.getTime()<a.getTime();return{label:c,aria:d,isPast:w,isToday:h,date:l,time:u}}function Je(r,s,i){const a=te(r,s);return a?{date:ie(a),time:ae(a)}:{date:r||"",time:s||""}}function Ue({game:r}){const[s,i]=g.useState(null),[a,o]=g.useState(!0);return g.useEffect(()=>{if(r.latitude&&r.longitude){const n=new Date(`${r.date} ${r.time}`);Q.getGameWeather(r.latitude,r.longitude,n).then(i).finally(()=>o(!1))}},[r.latitude,r.longitude,r.date,r.time]),a?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading weather..."}):s?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:s.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.temperature,"Â°F"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.description})]})]}),e.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[e.jsxs("div",{children:["Humidity: ",s.humidity,"%"]}),e.jsxs("div",{children:["Wind: ",s.windSpeed," mph"]})]})]}),s.alerts&&s.alerts.length>0&&e.jsx("div",{className:"space-y-1",children:s.alerts.map((n,m)=>e.jsx("div",{className:"text-xs bg-yellow-50 text-yellow-800 p-2 rounded",children:n},m))}),e.jsx("div",{className:"text-xs text-muted-foreground",children:Q.getWeatherRecommendation(s)})]}):e.jsx("div",{className:"text-sm text-muted-foreground",children:"Weather unavailable"})}function ls(){const r=ce(),{gameId:s}=le(),i=de(),a=me(),{user:o}=F(),{toggleGameParticipation:n}=Le(),{navigateToChat:m,navigateToUser:x}=pe(),[u,l]=g.useState(!1),[h,c]=g.useState([]),[d,w]=g.useState(!1),[N,k]=g.useState(!1),[P,v]=g.useState(!1),t=i.find(p=>p.id===s);if(g.useEffect(()=>{s&&(async()=>{w(!0);try{const b=await ue.getGameParticipants(s);c(b)}catch(b){console.error("Error loading players:",b),c([])}finally{w(!1)}})()},[s]),Ee([{key:"j",description:"Join/Leave game",action:()=>{t&&!a&&W()},disabled:!t||a},{key:"u",description:"Share game",action:()=>{t&&U()},disabled:!t},{key:"l",description:"Get directions",action:()=>{t&&z()},disabled:!t}]),!t)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl mb-4",children:"Game not found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The game you're looking for doesn't exist or has been removed."}),e.jsx(y,{onClick:()=>r("/"),children:"Go Home"})]})});const T=We(t.date,t.time),j=Je(t.date,t.time),I=t.currentPlayers>=t.maxPlayers,G=t.tags,W=async()=>{if(!o){k(!0);return}await n(t.id)},re=async()=>{k(!1),s&&await n(s)},ne=()=>{r(-1)},J=(p,b)=>{m("direct",p)},U=async()=>{v(!0)},z=()=>{const p=t.location||"Location not specified",b=encodeURIComponent(p),_=`https://maps.google.com/maps?q=${b}&t=m&z=16`;try{if(navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)){const B=`maps://maps.google.com/maps?q=${b}`;window.location.href=B,setTimeout(()=>{window.open(_,"_blank")},1e3)}else window.open(_,"_blank");f.success("Opening directions...")}catch{f.error("Failed to open directions")}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(y,{variant:"ghost",size:"icon",onClick:ne,"aria-label":"Go back",children:e.jsx(ve,{className:"w-5 h-5"})}),e.jsxs("div",{role:"text","aria-label":`Event: ${t.title}. ${T.aria}`,children:[e.jsx("h1",{className:"text-xl font-semibold line-clamp-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:T.label})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{variant:"ghost",size:"icon",onClick:U,"data-action":"share","aria-label":"Share game",title:"Share game (U)",children:e.jsx(Ne,{className:"w-5 h-5"})}),e.jsx(y,{variant:"ghost",size:"icon","aria-label":"Report game",children:e.jsx(ye,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"hidden lg:block px-4 pb-2",children:e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"w-3 h-3"}),"Shortcuts:"]}),e.jsx("span",{children:"J = Join/Leave"}),e.jsx("span",{children:"U = Share"}),e.jsx("span",{children:"L = Directions"}),e.jsx("span",{children:"? = All shortcuts"})]})})]}),e.jsxs("div",{className:"px-4 py-6 space-y-6",id:"main-content",children:[e.jsxs(C,{children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-video overflow-hidden rounded-t-lg",children:e.jsx(fe,{src:t.imageUrl,alt:`${t.sport} game`,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(L,{className:`${t.sportColor} text-white border-none`,children:t.sport})})]}),e.jsxs(S,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(be,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:j.date}),e.jsx("div",{className:"text-sm text-muted-foreground",children:j.time})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Se,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:"2 hours"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsxs("div",{children:[t.currentPlayers,"/",t.maxPlayers]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Players"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Pe,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:t.cost}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Cost"})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Array.isArray(G)&&G.map(p=>e.jsx(L,{variant:"secondary",children:p},p))}),e.jsx(y,{onClick:W,disabled:!t.isJoined&&I||a,className:"w-full h-12",variant:t.isJoined?"outline":"default","data-action":"join-game",title:`${t.isJoined?"Leave":"Join"} game (J)`,children:a?e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"w-4 h-4 mr-2 animate-spin"}),t.isJoined?"Leaving...":"Joining..."]}):I&&!t.isJoined?"Game is Full":t.isJoined?"Leave Game":o?"Join Game":"Join Game - Sign Up"})]})]}),e.jsxs(C,{children:[e.jsx($,{children:e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5"}),"Location"]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx("div",{children:t.location})}),e.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:t.latitude&&t.longitude?e.jsx("iframe",{src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyATPbnuTvpYDDY0vLrKy0IoS80A27rpq-4&q=${t.latitude},${t.longitude}&zoom=15`,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"rounded-lg",title:"Game location map"}):e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(q,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{children:"Map not available"})]})}),e.jsxs(y,{variant:"outline",className:"w-full",onClick:z,"data-action":"directions",title:"Get directions (L)",children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Get Directions"]})]})})]}),t.latitude&&t.longitude&&e.jsxs(C,{children:[e.jsx($,{children:e.jsx(A,{className:"flex items-center gap-2",children:"â˜€ï¸ Weather Forecast"})}),e.jsx(S,{children:e.jsx(Ue,{game:t})})]}),e.jsxs(C,{children:[e.jsx($,{children:e.jsx(A,{children:"About This Game"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm leading-relaxed ${u?"":"line-clamp-3"}`,children:t.description}),t.description.length>150&&e.jsx(y,{variant:"ghost",size:"sm",onClick:()=>l(!u),className:"p-0 h-auto",children:u?"Show less":"Show more"}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2",children:"Requirements"}),e.jsx("ul",{className:"space-y-1",children:["Athletic shoes required","Bring water bottle","No experience necessary"].map((p,b)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-2 flex-shrink-0"}),p]},b))})]})]})})]}),e.jsxs(C,{children:[e.jsx($,{children:e.jsx(A,{children:"Game Host"})}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>x("host1"),className:"flex items-center gap-3 hover:opacity-80 transition-opacity","data-action":"view-profile",children:[e.jsx(R,{children:e.jsx(H,{children:t.createdBy?.charAt(0)||"U"})}),e.jsxs("div",{children:[e.jsx("div",{children:t.createdBy||"Unknown"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(O,{className:"w-3 h-3 fill-current text-warning"}),"No rating yet"]})]})]})}),e.jsx(y,{variant:"outline",size:"sm",onClick:()=>J("host1",t.createdBy||"Host"),children:"Message"})]})})]}),e.jsxs(C,{children:[e.jsx($,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(A,{children:["Players (",h.length,"/",t.maxPlayers,")"]})})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:h.map((p,b)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{children:e.jsx(H,{children:p.avatar})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>x(p.id),className:"hover:text-primary transition-colors cursor-pointer",children:p.name}),p.isHost&&e.jsx(L,{variant:"secondary",className:"text-xs px-2 py-0",children:"Host"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(O,{className:"w-3 h-3 fill-current text-warning"}),p.rating]})]})]}),!p.isHost&&e.jsx(y,{variant:"ghost",size:"sm",onClick:()=>J(p.id,p.name),children:"Message"})]}),b<h.length-1&&e.jsx(xe,{className:"mt-3"})]},p.id))})})]}),t.isJoined&&e.jsx(X,{className:"border-success text-success-foreground",children:e.jsx(Z,{children:"You're joined! See you on the field!"})})]}),e.jsx(Fe,{isOpen:N,onClose:()=>k(!1),gameTitle:t.title,gameId:t.id,onJoinSuccess:re}),e.jsx(De,{isOpen:P,onClose:()=>v(!1),gameTitle:t.title,gameId:t.id,gameDate:j.date,gameTime:j.time,gameLocation:t.location,sport:t.sport})]})}export{ls as GameDetails,ls as default};
//# sourceMappingURL=GameDetails-DPF2ByDS.js.map
