import{c as _,j as e,h as k,B as i,u as U,r as w,n as E,R as I,C as D,b as W,t as h}from"./index-BQ6ii6ap.js";import{B as G}from"./badge-Ct05bC3n.js";import{B as j}from"./bell-BgKROPNi.js";import{C as A}from"./calendar-DfB3bsKk.js";import{M}from"./message-square-DgiHm0A7.js";import{C as P}from"./circle-check-big-CT_HhTbB.js";import{u as Y}from"./useNotifications-CiNmUc2F.js";import{u as V}from"./useDeepLinks-DJ-Okr9P.js";import{A as F}from"./arrow-left-CLFA-20t.js";import{S as H}from"./settings-Tb13Fvao.js";import{C as J}from"./check-2oMoiy8X.js";import{U as b}from"./users-gHhITmMd.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],O=_("check-check",K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],C=_("trash-2",Q);function X({icon:t,title:p,description:n,action:l,className:d,size:m="md"}){const c={sm:"py-8 px-4",md:"py-12 px-6",lg:"py-16 px-8"},f={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"};return e.jsxs("div",{className:k("flex flex-col items-center justify-center text-center",c[m],d),children:[t&&e.jsx("div",{className:k("text-muted-foreground mb-4 flex items-center justify-center",f[m]),children:t}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:p}),n&&e.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:n}),l&&e.jsx(i,{onClick:l.onClick,variant:l.variant||"default",children:l.label})]})}function Z({filter:t}){const n=(()=>{switch(t){case"unread":return{title:"All caught up!",description:"You have no unread notifications. You're all up to date!",icon:e.jsx(P,{className:"w-8 h-8"})};case"messages":return{title:"No message notifications",description:"You haven't received any message notifications recently.",icon:e.jsx(M,{className:"w-8 h-8"})};case"games":return{title:"No game notifications",description:"No game updates, reminders, or join requests at the moment.",icon:e.jsx(A,{className:"w-8 h-8"})};default:return{title:"No notifications",description:"When you receive notifications, they'll appear here. Stay tuned for updates!",icon:e.jsx(j,{className:"w-8 h-8"})}}})();return e.jsx(X,{icon:n.icon,title:n.title,description:n.description,size:"md"})}const ee=t=>{switch(t){case"new_message":return e.jsx(M,{className:"w-5 h-5 text-blue-500"});case"game_reminder":return e.jsx(A,{className:"w-5 h-5 text-orange-500"});case"game_update":return e.jsx(b,{className:"w-5 h-5 text-green-500"});case"join_request":return e.jsx(b,{className:"w-5 h-5 text-purple-500"});case"system":return e.jsx(j,{className:"w-5 h-5 text-gray-500"});default:return e.jsx(j,{className:"w-5 h-5 text-gray-500"})}},se=t=>{switch(t){case"new_message":return"bg-blue-500/10 border-blue-500/20";case"game_reminder":return"bg-orange-500/10 border-orange-500/20";case"game_update":return"bg-green-500/10 border-green-500/20";case"join_request":return"bg-purple-500/10 border-purple-500/20";case"system":return"bg-gray-500/10 border-gray-500/20";default:return"bg-muted/50 border-border"}};function he(){const t=U(),{navigateToGame:p,navigateToChat:n,navigateToUser:l}=V(),[d,m]=w.useState(!1),[c,f]=w.useState("all"),{notifications:g,unreadCount:u,markAsRead:N,markAllAsRead:z,deleteNotification:S,clearAll:R}=Y(),y=g.filter(s=>{switch(c){case"unread":return!s.read;case"messages":return s.type==="new_message";case"games":return["game_reminder","game_update","join_request"].includes(s.type);default:return!0}}),q=async s=>{if(s.read||N(s.id),s.actionUrl){const r=s.actionUrl;if(r.startsWith("/game/")){const a=r.split("/")[2];p(a)}else if(r.startsWith("/chat/")){const a=r.split("/"),o=a[2],x=a[3];n(o,x)}else if(r.startsWith("/user/")){const a=r.split("/")[2];l(a)}else t(r)}},B=async()=>{m(!0),await new Promise(s=>setTimeout(s,1e3)),m(!1),h.success("Notifications refreshed")},L=()=>{z(),h.success("All notifications marked as read")},T=()=>{R(),h.success("All notifications cleared")},$=s=>{const a=new Date().getTime()-s.getTime(),o=Math.floor(a/6e4),x=Math.floor(o/60),v=Math.floor(x/24);return o<1?"Just now":o<60?`${o}m ago`:x<24?`${x}h ago`:v<7?`${v}d ago`:s.toLocaleDateString()};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>t(-1),"aria-label":"Go back",children:e.jsx(F,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl",children:"Notifications"}),u>0&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[u," unread notification",u!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:B,disabled:d,"aria-label":"Refresh notifications",children:d?e.jsx(E,{size:"sm"}):e.jsx(I,{className:"w-4 h-4"})}),e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>t("/settings/notifications"),"aria-label":"Notification settings",children:e.jsx(H,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{key:"all",label:"All",count:g.length},{key:"unread",label:"Unread",count:u},{key:"games",label:"Games",count:g.filter(s=>["game_reminder","game_update","join_request"].includes(s.type)).length}].map(s=>e.jsxs("button",{onClick:()=>f(s.key),className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all whitespace-nowrap ${c===s.key?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[e.jsx("span",{children:s.label}),s.count>0&&e.jsx(G,{variant:c===s.key?"secondary":"outline",className:"text-xs min-w-[20px] h-5",children:s.count})]},s.key))})}),g.length>0&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"flex gap-2",children:[u>0&&e.jsxs(i,{variant:"outline",size:"sm",onClick:L,className:"text-xs",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Mark All Read"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:T,className:"text-xs text-destructive hover:text-destructive",children:[e.jsx(C,{className:"w-3 h-3 mr-1"}),"Clear All"]})]})})]}),e.jsx("div",{className:"px-4 py-6",id:"main-content",children:d?e.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((s,r)=>e.jsx("div",{className:"h-20 bg-muted/50 rounded-lg animate-pulse"},r))},"loading"):y.length===0?e.jsx("div",{children:e.jsx(Z,{filter:c})},"empty"):e.jsx("div",{className:"space-y-3",children:y.map((s,r)=>e.jsx("div",{children:e.jsx(D,{className:`cursor-pointer transition-all hover:shadow-md ${s.read?"":"border-l-4 border-l-primary"} ${se(s.type)}`,onClick:()=>q(s),children:e.jsx(W,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:ee(s.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`font-medium ${s.read?"text-muted-foreground":"text-foreground"}`,children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:s.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:$(s.timestamp)}),!s.read&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[!s.read&&e.jsx(i,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),N(s.id),h.success("Marked as read")},"aria-label":"Mark as read",className:"h-8 w-8 p-0",children:e.jsx(J,{className:"w-3 h-3"})}),e.jsx(i,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),S(s.id),h.success("Notification deleted")},"aria-label":"Delete notification",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsx(C,{className:"w-3 h-3"})})]})]})})]})})})},s.id))},"notifications")})]})}export{he as NotificationCenter,he as default};
//# sourceMappingURL=NotificationCenter-CBQ6kzxd.js.map
