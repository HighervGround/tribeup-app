{"version":3,"file":"AuthCallback-BO6faO4I.js","sources":["../../src/pages/AuthCallback.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { supabase } from '../lib/supabase';\nimport { toast } from 'sonner';\nimport { Loader2 } from 'lucide-react';\n\nexport function AuthCallback() {\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const handleAuthCallback = async () => {\n      try {\n        const { data, error } = await supabase.auth.getSession();\n        \n        if (error) {\n          console.error('Auth callback error:', error);\n          toast.error('Authentication failed');\n          navigate('/auth');\n          return;\n        }\n\n        if (data.session) {\n          // Check for pending game join\n          const pendingGameId = localStorage.getItem('pendingGameJoin');\n          if (pendingGameId) {\n            navigate(`/game/${pendingGameId}`);\n          } else {\n            navigate('/');\n          }\n        } else {\n          navigate('/auth');\n        }\n      } catch (error) {\n        console.error('Auth callback error:', error);\n        toast.error('Authentication failed');\n        navigate('/auth');\n      }\n    };\n\n    handleAuthCallback();\n  }, [navigate]);\n\n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center\">\n      <div className=\"text-center space-y-4\">\n        <Loader2 className=\"w-8 h-8 animate-spin mx-auto\" />\n        <h2 className=\"text-xl font-semibold\">Completing sign in...</h2>\n        <p className=\"text-muted-foreground\">Please wait while we set up your account</p>\n      </div>\n    </div>\n  );\n}\n"],"names":["AuthCallback","navigate","useNavigate","useEffect","data","error","supabase","toast","pendingGameId","jsxs","jsx","Loader2"],"mappings":"2IAMO,SAASA,GAAe,CAC7B,MAAMC,EAAWC,EAAA,EAEjBC,OAAAA,EAAAA,UAAU,IAAM,EACa,SAAY,CACrC,GAAI,CACF,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAA,EAAU,MAAMC,EAAS,KAAK,WAAA,EAE5C,GAAID,EAAO,CACT,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CE,EAAM,MAAM,uBAAuB,EACnCN,EAAS,OAAO,EAChB,MACF,CAEA,GAAIG,EAAK,QAAS,CAEhB,MAAMI,EAAgB,aAAa,QAAQ,iBAAiB,EAE1DP,EADEO,EACO,SAASA,CAAa,GAEtB,GAFwB,CAIrC,MACEP,EAAS,OAAO,CAEpB,OAASI,EAAO,CACd,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CE,EAAM,MAAM,uBAAuB,EACnCN,EAAS,OAAO,CAClB,CACF,GAEA,CACF,EAAG,CAACA,CAAQ,CAAC,QAGV,MAAA,CAAI,UAAU,8DACb,SAAAQ,EAAAA,KAAC,MAAA,CAAI,UAAU,wBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAQ,UAAU,8BAAA,CAA+B,EAClDD,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,wBAAqB,EAC3DA,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,0CAAA,CAAwC,CAAA,CAAA,CAC/E,CAAA,CACF,CAEJ"}