{"version":3,"file":"SearchDiscovery-CiYU1Goh.js","sources":["../../node_modules/lucide-react/dist/esm/icons/sliders-horizontal.js","../../src/hooks/useLocation.ts","../../src/components/SearchDiscovery.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"21\", x2: \"14\", y1: \"4\", y2: \"4\", key: \"obuewd\" }],\n  [\"line\", { x1: \"10\", x2: \"3\", y1: \"4\", y2: \"4\", key: \"1q6298\" }],\n  [\"line\", { x1: \"21\", x2: \"12\", y1: \"12\", y2: \"12\", key: \"1iu8h1\" }],\n  [\"line\", { x1: \"8\", x2: \"3\", y1: \"12\", y2: \"12\", key: \"ntss68\" }],\n  [\"line\", { x1: \"21\", x2: \"16\", y1: \"20\", y2: \"20\", key: \"14d8ph\" }],\n  [\"line\", { x1: \"12\", x2: \"3\", y1: \"20\", y2: \"20\", key: \"m0wm8r\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"2\", y2: \"6\", key: \"14e1ph\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"10\", y2: \"14\", key: \"1i6ji0\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"18\", y2: \"22\", key: \"1lctlv\" }]\n];\nconst SlidersHorizontal = createLucideIcon(\"sliders-horizontal\", __iconNode);\n\nexport { __iconNode, SlidersHorizontal as default };\n//# sourceMappingURL=sliders-horizontal.js.map\n","import { useState, useEffect, useCallback, useRef } from 'react';\nimport { toast } from 'sonner';\n\nexport interface LocationCoordinates {\n  latitude: number;\n  longitude: number;\n  accuracy?: number;\n  altitude?: number;\n  heading?: number;\n  speed?: number;\n}\n\nexport interface LocationState {\n  currentLocation: LocationCoordinates | null;\n  isLoading: boolean;\n  error: string | null;\n  permission: 'granted' | 'denied' | 'prompt' | 'unknown';\n  lastUpdated: Date | null;\n}\n\nexport interface MapBounds {\n  north: number;\n  south: number;\n  east: number;\n  west: number;\n}\n\ninterface UseLocationOptions {\n  enableHighAccuracy?: boolean;\n  timeout?: number;\n  maximumAge?: number;\n  watchPosition?: boolean;\n  autoRequest?: boolean;\n}\n\n// Utility functions for location calculations\nexport function calculateDistance(\n  lat1: number,\n  lon1: number,\n  lat2: number,\n  lon2: number\n): number {\n  const R = 6371; // Earth's radius in kilometers\n  const dLat = toRadians(lat2 - lat1);\n  const dLon = toRadians(lon2 - lon1);\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(toRadians(lat1)) * Math.cos(toRadians(lat2)) *\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c; // Distance in kilometers\n}\n\nexport function toRadians(degrees: number): number {\n  return degrees * (Math.PI / 180);\n}\n\nexport function formatDistance(distance: number, unit: 'km' | 'mi' = 'km'): string {\n  if (unit === 'mi') {\n    distance = distance * 0.621371; // Convert km to miles\n  }\n  \n  if (distance < 1) {\n    return unit === 'km' \n      ? `${Math.round(distance * 1000)}m`\n      : `${Math.round(distance * 5280)}ft`;\n  }\n  \n  return `${distance.toFixed(1)}${unit}`;\n}\n\nexport function isWithinBounds(\n  location: LocationCoordinates,\n  bounds: MapBounds\n): boolean {\n  return (\n    location.latitude >= bounds.south &&\n    location.latitude <= bounds.north &&\n    location.longitude >= bounds.west &&\n    location.longitude <= bounds.east\n  );\n}\n\nexport function getBoundsFromCenter(\n  center: LocationCoordinates,\n  radiusKm: number\n): MapBounds {\n  const latOffset = radiusKm / 111; // Approximate: 1 degree lat = 111 km\n  const lonOffset = radiusKm / (111 * Math.cos(toRadians(center.latitude)));\n  \n  return {\n    north: center.latitude + latOffset,\n    south: center.latitude - latOffset,\n    east: center.longitude + lonOffset,\n    west: center.longitude - lonOffset\n  };\n}\n\nexport function useLocation(options: UseLocationOptions = {}) {\n  const {\n    enableHighAccuracy = true,\n    timeout = 10000,\n    maximumAge = 60000,\n    watchPosition = false,\n    autoRequest = true\n  } = options;\n\n  const [state, setState] = useState<LocationState>({\n    currentLocation: null,\n    isLoading: false,\n    error: null,\n    permission: 'unknown',\n    lastUpdated: null\n  });\n\n  const watchIdRef = useRef<number | null>(null);\n  const requestInProgressRef = useRef(false);\n\n  // Check if geolocation is supported\n  const isSupported = 'geolocation' in navigator;\n\n  // Check current permission status\n  const checkPermission = useCallback(async () => {\n    if (!isSupported) {\n      setState(prev => ({ ...prev, permission: 'denied', error: 'Geolocation not supported' }));\n      return 'denied';\n    }\n\n    try {\n      if ('permissions' in navigator) {\n        const permission = await navigator.permissions.query({ name: 'geolocation' });\n        setState(prev => ({ ...prev, permission: permission.state as any }));\n        return permission.state;\n      }\n    } catch (error) {\n      console.warn('Permission API not supported');\n    }\n\n    return 'unknown';\n  }, [isSupported]);\n\n  // Request location permission and get current position\n  const requestLocation = useCallback(async (): Promise<LocationCoordinates | null> => {\n    if (!isSupported) {\n      toast.error('Location services are not supported by your browser');\n      return null;\n    }\n\n    if (requestInProgressRef.current) {\n      return null;\n    }\n\n    requestInProgressRef.current = true;\n    setState(prev => ({ ...prev, isLoading: true, error: null }));\n\n    return new Promise((resolve) => {\n      const geoOptions: PositionOptions = {\n        enableHighAccuracy,\n        timeout,\n        maximumAge\n      };\n\n      const successCallback = (position: GeolocationPosition) => {\n        const location: LocationCoordinates = {\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n          accuracy: position.coords.accuracy,\n          altitude: position.coords.altitude || undefined,\n          heading: position.coords.heading || undefined,\n          speed: position.coords.speed || undefined\n        };\n\n        setState(prev => ({\n          ...prev,\n          currentLocation: location,\n          isLoading: false,\n          error: null,\n          permission: 'granted',\n          lastUpdated: new Date()\n        }));\n\n        requestInProgressRef.current = false;\n        resolve(location);\n      };\n\n      const errorCallback = (error: GeolocationPositionError) => {\n        let errorMessage = 'Failed to get location';\n        let permission: LocationState['permission'] = 'unknown';\n\n        switch (error.code) {\n          case error.PERMISSION_DENIED:\n            errorMessage = 'Location access denied by user';\n            permission = 'denied';\n            toast.error('Please enable location access to find nearby games');\n            break;\n          case error.POSITION_UNAVAILABLE:\n            errorMessage = 'Location information unavailable';\n            break;\n          case error.TIMEOUT:\n            errorMessage = 'Location request timed out';\n            break;\n        }\n\n        setState(prev => ({\n          ...prev,\n          isLoading: false,\n          error: errorMessage,\n          permission\n        }));\n\n        requestInProgressRef.current = false;\n        resolve(null);\n      };\n\n      navigator.geolocation.getCurrentPosition(\n        successCallback,\n        errorCallback,\n        geoOptions\n      );\n    });\n  }, [isSupported, enableHighAccuracy, timeout, maximumAge]);\n\n  // Start watching position\n  const startWatching = useCallback(() => {\n    if (!isSupported || watchIdRef.current !== null) {\n      return;\n    }\n\n    const geoOptions: PositionOptions = {\n      enableHighAccuracy,\n      timeout,\n      maximumAge\n    };\n\n    const successCallback = (position: GeolocationPosition) => {\n      const location: LocationCoordinates = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy,\n        altitude: position.coords.altitude || undefined,\n        heading: position.coords.heading || undefined,\n        speed: position.coords.speed || undefined\n      };\n\n      setState(prev => ({\n        ...prev,\n        currentLocation: location,\n        lastUpdated: new Date()\n      }));\n    };\n\n    const errorCallback = (error: GeolocationPositionError) => {\n      console.error('Location watch error:', error);\n    };\n\n    watchIdRef.current = navigator.geolocation.watchPosition(\n      successCallback,\n      errorCallback,\n      geoOptions\n    );\n  }, [isSupported, enableHighAccuracy, timeout, maximumAge]);\n\n  // Stop watching position\n  const stopWatching = useCallback(() => {\n    if (watchIdRef.current !== null) {\n      navigator.geolocation.clearWatch(watchIdRef.current);\n      watchIdRef.current = null;\n    }\n  }, []);\n\n  // Clear location data\n  const clearLocation = useCallback(() => {\n    setState(prev => ({\n      ...prev,\n      currentLocation: null,\n      error: null,\n      lastUpdated: null\n    }));\n  }, []);\n\n  // Get distance to a location\n  const getDistanceTo = useCallback((\n    target: LocationCoordinates,\n    unit: 'km' | 'mi' = 'km'\n  ): number | null => {\n    if (!state.currentLocation) return null;\n    \n    const distance = calculateDistance(\n      state.currentLocation.latitude,\n      state.currentLocation.longitude,\n      target.latitude,\n      target.longitude\n    );\n    \n    return unit === 'mi' ? distance * 0.621371 : distance;\n  }, [state.currentLocation]);\n\n  // Get formatted distance to a location\n  const getFormattedDistanceTo = useCallback((\n    target: LocationCoordinates,\n    unit: 'km' | 'mi' = 'km'\n  ): string | null => {\n    const distance = getDistanceTo(target, unit);\n    return distance ? formatDistance(distance, unit) : null;\n  }, [getDistanceTo]);\n\n  // Check if a location is nearby\n  const isNearby = useCallback((\n    target: LocationCoordinates,\n    radiusKm: number = 5\n  ): boolean => {\n    const distance = getDistanceTo(target, 'km');\n    return distance !== null && distance <= radiusKm;\n  }, [getDistanceTo]);\n\n  // Initialize\n  useEffect(() => {\n    checkPermission();\n    \n    if (autoRequest) {\n      requestLocation();\n    }\n    \n    if (watchPosition) {\n      startWatching();\n    }\n\n    return () => {\n      stopWatching();\n    };\n  }, [checkPermission, requestLocation, startWatching, stopWatching, autoRequest, watchPosition]);\n\n  return {\n    // State\n    ...state,\n    isSupported,\n    \n    // Actions\n    requestLocation,\n    clearLocation,\n    startWatching,\n    stopWatching,\n    \n    // Utilities\n    getDistanceTo,\n    getFormattedDistanceTo,\n    isNearby,\n    calculateDistance: (lat1: number, lon1: number, lat2: number, lon2: number) => \n      calculateDistance(lat1, lon1, lat2, lon2),\n    formatDistance,\n    getBoundsFromCenter: (radiusKm: number) => \n      state.currentLocation ? getBoundsFromCenter(state.currentLocation, radiusKm) : null\n  };\n}\n\n// Hook for managing map state\nexport function useMapState() {\n  const [mapCenter, setMapCenter] = useState<LocationCoordinates | null>(null);\n  const [mapZoom, setMapZoom] = useState(13);\n  const [selectedLocation, setSelectedLocation] = useState<LocationCoordinates | null>(null);\n  const [isMapLoaded, setIsMapLoaded] = useState(false);\n\n  const centerOnLocation = useCallback((location: LocationCoordinates, zoom?: number) => {\n    setMapCenter(location);\n    if (zoom !== undefined) {\n      setMapZoom(zoom);\n    }\n  }, []);\n\n  const selectLocation = useCallback((location: LocationCoordinates) => {\n    setSelectedLocation(location);\n  }, []);\n\n  const clearSelection = useCallback(() => {\n    setSelectedLocation(null);\n  }, []);\n\n  return {\n    mapCenter,\n    mapZoom,\n    selectedLocation,\n    isMapLoaded,\n    setMapCenter,\n    setMapZoom,\n    setSelectedLocation,\n    setIsMapLoaded,\n    centerOnLocation,\n    selectLocation,\n    clearSelection\n  };\n}","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { useLocation } from '../hooks/useLocation';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Badge } from './ui/badge';\nimport { ArrowLeft, Search, SlidersHorizontal, MapPin, Clock, Users } from 'lucide-react';\nimport { useAppStore } from '../store/appStore';\nimport { calculateDistance, formatDistance } from '../hooks/useLocation';\nimport { formatTimeString } from '../lib/dateUtils';\n\n\n\nconst sportFilters = [\n  { name: 'All Sports', value: 'all' },\n  { name: 'Basketball', value: 'basketball' },\n  { name: 'Soccer', value: 'soccer' },\n  { name: 'Tennis', value: 'tennis' },\n  { name: 'Pickleball', value: 'pickleball' },\n  { name: 'Volleyball', value: 'volleyball' },\n  { name: 'Flag Football', value: 'flag football' },\n  { name: 'Baseball', value: 'baseball' },\n  { name: 'Golf', value: 'golf' },\n  { name: 'Hockey', value: 'hockey' },\n  { name: 'Rugby', value: 'rugby' },\n];\n\n// Simple GameCard component\n// Simple GameCard component\nfunction SimpleGameCard({ game, onSelect }: { game: any; onSelect: () => void }) {\n  const { joinGame, leaveGame } = useAppStore();\n\n  const handleJoinClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (game.isJoined) {\n      leaveGame(game.id);\n    } else {\n      joinGame(game.id);\n    }\n  };\n\n  const handleCardClick = () => {\n    onSelect();\n  };\n\n  return (\n    <div \n      className=\"bg-card rounded-lg p-4 border border-border cursor-pointer hover:shadow-md transition-shadow\"\n      onClick={handleCardClick}\n    >\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex-1 pr-4\">\n          <h3 className=\"font-semibold text-lg\">{game.title}</h3>\n          <p className=\"text-sm text-muted-foreground\">{game.sport}</p>\n        </div>\n        <div className=\"text-right flex-shrink-0\">\n          <div className=\"text-sm font-medium\">{game.cost}</div>\n          <div className=\"text-xs text-muted-foreground\">\n            {game.currentPlayers}/{game.maxPlayers} players\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"space-y-2 text-sm\">\n        <div className=\"flex items-center gap-2\">\n          <MapPin className=\"w-4 h-4 text-muted-foreground\" />\n          <span>{game.location}</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Users className=\"w-4 h-4 text-muted-foreground\" />\n          <span>{game.currentPlayers}/{game.maxPlayers} players</span>\n        </div>\n        {game.distance && (\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-muted-foreground\">üìè</span>\n            <span>{game.distance}</span>\n          </div>\n        )}\n        <div className=\"flex items-center gap-2\">\n          <Clock className=\"w-4 h-4 text-muted-foreground\" />\n          <span>{game.date} at {formatTimeString(game.time)}</span>\n        </div>\n      </div>\n      \n      <p className=\"text-sm text-muted-foreground mt-3\">{game.description}</p>\n      \n      <div className=\"flex items-center justify-between mt-3\">\n        {game.isJoined ? (\n          <span className=\"inline-block bg-success/20 text-success dark:bg-success/30 dark:text-success text-xs px-2 py-1 rounded\">\n            Joined ‚úì\n          </span>\n        ) : (\n          <div></div>\n        )}\n        \n        <button\n          onClick={handleJoinClick}\n          className={`px-3 py-1 rounded text-sm font-medium transition-colors ${\n            game.isJoined \n              ? 'bg-destructive/20 text-destructive dark:bg-destructive/30 dark:text-destructive hover:bg-destructive/30 dark:hover:bg-destructive/40' \n              : 'bg-primary text-primary-foreground hover:bg-primary/90'\n          }`}\n        >\n          {game.isJoined ? 'Leave' : 'Join'}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport function SearchDiscovery() {\n  const navigate = useNavigate();\n  const { currentLocation, isLoading: locationLoading, requestLocation } = useLocation();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedSport, setSelectedSport] = useState('all');\n  const [showFilters, setShowFilters] = useState(false);\n  const [selectedView, setSelectedView] = useState<'list' | 'map'>('list');\n  const [games, setGames] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  // Load games from Supabase\n  useEffect(() => {\n    const loadGames = async () => {\n      setLoading(true);\n      try {\n        const gamesData = await SupabaseService.getGames();\n        setGames(gamesData);\n      } catch (error) {\n        console.error('Error loading games:', error);\n        setGames([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadGames();\n  }, []);\n\n  const handleGameSelect = (gameId: string) => {\n    navigate(`/game/${gameId}`);\n  };\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  // Get sport color helper\n  const getSportColor = (sport: string) => {\n    const colors = {\n      'Basketball': 'bg-orange-500',\n      'Soccer': 'bg-green-500',\n      'Tennis': 'bg-yellow-500',\n      'Pickleball': 'bg-purple-500',\n      'Volleyball': 'bg-blue-500',\n      'Flag Football': 'bg-red-500',\n      'Baseball': 'bg-amber-600',\n      'Golf': 'bg-emerald-600',\n      'Hockey': 'bg-slate-600',\n      'Rugby': 'bg-indigo-600'\n    };\n    return colors[sport as keyof typeof colors] || 'bg-gray-500';\n  };\n\n  // Calculate distances and filter games\n  const filteredResults = games\n    .map(game => {\n      // Calculate distance if we have location data\n      let distance = 'Unknown distance';\n      if (currentLocation && game.latitude && game.longitude) {\n        const distanceKm = calculateDistance(\n          currentLocation.latitude,\n          currentLocation.longitude,\n          game.latitude,\n          game.longitude\n        );\n        distance = formatDistance(distanceKm);\n      }\n      \n      return {\n        ...game,\n        distance,\n        sportColor: getSportColor(game.sport),\n        imageUrl: game.imageUrl || '',\n        currentPlayers: game.currentPlayers || game.participants || 0,\n        maxPlayers: game.maxPlayers || game.maxParticipants || 0\n      };\n    })\n    .filter(game => {\n      const matchesSearch = game.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                           game.sport.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                           game.location.toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesSport = selectedSport === 'all' || game.sport.toLowerCase() === selectedSport.toLowerCase();\n      return matchesSearch && matchesSport;\n    });\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10\">\n        <div className=\"flex items-center gap-4 px-4 py-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={handleBack}>\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n            <Input\n              id=\"search-games\"\n              name=\"search-games\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search games, sports, locations...\"\n              className=\"pl-10\"\n            />\n          </div>\n          <Button \n            variant=\"outline\" \n            size=\"icon\"\n            onClick={() => setShowFilters(!showFilters)}\n          >\n            <SlidersHorizontal className=\"w-4 h-4\" />\n          </Button>\n        </div>\n\n        {/* Filter Bar */}\n        {showFilters && (\n          <div className=\"px-4 pb-4 space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Sort by</label>\n                <select className=\"w-full p-2 border rounded-md\">\n                  <option value=\"distance\">Distance</option>\n                  <option value=\"time\">Time</option>\n                  <option value=\"players\">Players Needed</option>\n                  <option value=\"cost\">Cost</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Date</label>\n                <select className=\"w-full p-2 border rounded-md\">\n                  <option value=\"\">Any time</option>\n                  <option value=\"today\">Today</option>\n                  <option value=\"tomorrow\">Tomorrow</option>\n                  <option value=\"week\">This Week</option>\n                  <option value=\"month\">This Month</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Sport Filter Chips */}\n        <div className=\"px-4 pb-4\">\n          <div className=\"flex gap-2 overflow-x-auto pb-2\">\n            {sportFilters.map((sport) => (\n              <Badge\n                key={sport.value}\n                variant={selectedSport === sport.value ? \"default\" : \"outline\"}\n                className=\"cursor-pointer whitespace-nowrap\"\n                onClick={() => setSelectedSport(sport.value)}\n              >\n                {sport.name}\n              </Badge>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"px-4 py-6\">\n        {/* View Toggle */}\n        <div className=\"flex gap-2 mb-6\">\n          <Button\n            variant={selectedView === 'list' ? 'default' : 'outline'}\n            size=\"sm\"\n            onClick={() => setSelectedView('list')}\n          >\n            List View\n          </Button>\n          <Button\n            variant={selectedView === 'map' ? 'default' : 'outline'}\n            size=\"sm\"\n            onClick={() => setSelectedView('map')}\n          >\n            Map View\n          </Button>\n        </div>\n\n        {selectedView === 'list' ? (\n          <div className=\"space-y-6\">\n            {/* Results Header */}\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-lg font-semibold\">\n                  {filteredResults.length} games found\n                </h2>\n                {searchQuery && (\n                  <p className=\"text-sm text-muted-foreground\">\n                    Results for \"{searchQuery}\"\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {/* Results List */}\n            <div className=\"space-y-4\">\n              {filteredResults.map((game) => (\n                <SimpleGameCard\n                  key={game.id}\n                  game={game}\n                  onSelect={() => handleGameSelect(game.id)}\n                />\n              ))}\n            </div>\n\n            {filteredResults.length === 0 && (\n              <div className=\"text-center py-12\">\n                <div className=\"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <Search className=\"w-6 h-6 text-muted-foreground\" />\n                </div>\n                <h3 className=\"text-lg font-semibold mb-2\">No games found</h3>\n                <p className=\"text-muted-foreground mb-4\">\n                  Try adjusting your search or filters\n                </p>\n                <Button variant=\"outline\" onClick={() => {\n                  setSearchQuery('');\n                  setSelectedSport('all');\n                }}>\n                  Clear filters\n                </Button>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            {/* Map View Content */}\n            <div className=\"bg-card rounded-lg p-4\">\n              <h3 className=\"text-lg font-semibold mb-4\">Games Near You</h3>\n              {currentLocation ? (\n                <div className=\"relative\">\n                  <div className=\"aspect-video bg-muted rounded-lg flex items-center justify-center\">\n                    {filteredResults.length > 0 ? (\n                      <iframe\n                        src={`https://www.google.com/maps/embed/v1/view?key=${(import.meta as any).env?.VITE_GOOGLE_MAPS_API_KEY || ''}&center=${currentLocation.latitude},${currentLocation.longitude}&zoom=12&maptype=roadmap`}\n                        width=\"100%\"\n                        height=\"100%\"\n                        style={{ border: 0 }}\n                        allowFullScreen\n                        loading=\"lazy\"\n                        referrerPolicy=\"no-referrer-when-downgrade\"\n                        className=\"rounded-lg\"\n                        title=\"Games map view\"\n                      />\n                    ) : (\n                      <div className=\"text-center text-muted-foreground\">\n                        <MapPin className=\"w-8 h-8 mx-auto mb-2\" />\n                        <p>No games with locations found</p>\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"absolute top-2 right-2 bg-background/90 backdrop-blur-sm rounded-md px-2 py-1 text-xs\">\n                    üìç You ‚Ä¢ üéÆ {filteredResults.length} Games\n                  </div>\n                </div>\n              ) : (\n                <div className=\"w-full h-64 md:h-80 bg-muted rounded-lg flex flex-col items-center justify-center border\">\n                  <div className=\"text-4xl mb-2\">üìç</div>\n                  <p className=\"text-muted-foreground text-center\">\n                    Allow location access to see games on map\n                  </p>\n                  <Button \n                    onClick={requestLocation}\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"mt-2\"\n                    disabled={locationLoading}\n                  >\n                    {locationLoading ? 'Requesting...' : 'Enable Location'}\n                  </Button>\n                </div>\n              )}\n\n              {/* Games List with Map Numbers */}\n              {currentLocation && filteredResults.length > 0 && (\n                <div className=\"mt-4 space-y-3\">\n                  <h4 className=\"text-sm font-medium text-muted-foreground\">Games on Map</h4>\n                  {filteredResults\n                    .filter(game => game.latitude && game.longitude)\n                    .slice(0, 10)\n                    .map((game, index) => (\n                      <div \n                        key={game.id}\n                        className=\"flex items-center gap-3 p-3 bg-background rounded-lg border cursor-pointer hover:bg-muted/50 transition-colors\"\n                        onClick={() => handleGameSelect(game.id)}\n                      >\n                        <div className=\"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center text-xs font-bold\">\n                          {index + 1}\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <h5 className=\"font-medium truncate\">{game.title}</h5>\n                            <Badge variant=\"secondary\" className=\"text-xs\">\n                              {game.sport}\n                            </Badge>\n                          </div>\n                          <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                            <div className=\"flex items-center gap-1\">\n                              <Clock className=\"w-3 h-3\" />\n                              {formatTimeString(game.time)}\n                            </div>\n                            <div className=\"flex items-center gap-1\">\n                              <Users className=\"w-3 h-3\" />\n                              {game.currentPlayers || 0}/{game.maxPlayers}\n                            </div>\n                            <div className=\"flex items-center gap-1\">\n                              <MapPin className=\"w-3 h-3\" />\n                              {currentLocation && game.latitude && game.longitude ? \n                                formatDistance(calculateDistance(\n                                  currentLocation.latitude, \n                                  currentLocation.longitude, \n                                  game.latitude, \n                                  game.longitude\n                                )) : \n                                'Distance unknown'\n                              }\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":["__iconNode","SlidersHorizontal","createLucideIcon","calculateDistance","lat1","lon1","lat2","lon2","dLat","toRadians","dLon","a","degrees","formatDistance","distance","unit","getBoundsFromCenter","center","radiusKm","latOffset","lonOffset","useLocation","options","enableHighAccuracy","timeout","maximumAge","watchPosition","autoRequest","state","setState","useState","watchIdRef","useRef","requestInProgressRef","isSupported","checkPermission","useCallback","prev","permission","requestLocation","resolve","geoOptions","successCallback","position","location","errorCallback","error","errorMessage","toast","startWatching","stopWatching","clearLocation","getDistanceTo","target","getFormattedDistanceTo","isNearby","useEffect","sportFilters","SimpleGameCard","game","onSelect","joinGame","leaveGame","useAppStore","handleJoinClick","e","handleCardClick","jsxs","jsx","MapPin","Users","Clock","formatTimeString","SearchDiscovery","navigate","useNavigate","currentLocation","locationLoading","searchQuery","setSearchQuery","selectedSport","setSelectedSport","showFilters","setShowFilters","selectedView","setSelectedView","games","setGames","loading","setLoading","gamesData","SupabaseService","handleGameSelect","gameId","handleBack","getSportColor","sport","filteredResults","distanceKm","matchesSearch","matchesSport","Button","ArrowLeft","Search","Input","Badge","index"],"mappings":"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","x_google_ignoreList":[0]}