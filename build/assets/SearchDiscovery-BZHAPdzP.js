import{c as q,r as l,t as O,b as xe,j as e,L as W,C as X,d as Z,B as k,u as he,S as pe}from"./index-3epMmfls.js";import{I as be}from"./input-PfIi_0B7.js";import{B as V}from"./badge-C_rgUuBs.js";import{E as fe}from"./empty-state-mseCNgv4.js";import{M as _}from"./map-pin-CNbSvTkM.js";import{U as J}from"./users-Bd4F9qKI.js";import{C as ge}from"./clock-DWSpJpqs.js";import{D as je}from"./dollar-sign-B98sUyRL.js";import{P as ve}from"./plus-Biz5PT2r.js";import{A as ye}from"./arrow-left-D4YHF6bY.js";import{S as Q}from"./search-B7AzSDIn.js";import"./bell-Cbg-6A2h.js";import"./calendar-Csow8gpw.js";import"./message-square-CcO8hfC9.js";import"./circle-check-big-BbOKgJBG.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],we=q("crosshair",Ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ce=q("layers",ke);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M5 12h14",key:"1ays0h"}]],Me=q("minus",Le);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ze=q("rotate-ccw",Se);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],Ee=q("sliders-horizontal",Pe);function U(a,n,u,d){const y=G(u-a),r=G(d-n),m=Math.sin(y/2)*Math.sin(y/2)+Math.cos(G(a))*Math.cos(G(u))*Math.sin(r/2)*Math.sin(r/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}function G(a){return a*(Math.PI/180)}function Y(a,n="km"){return n==="mi"&&(a=a*.621371),a<1?n==="km"?`${Math.round(a*1e3)}m`:`${Math.round(a*5280)}ft`:`${a.toFixed(1)}${n}`}function Ie(a,n){const u=n/111,d=n/(111*Math.cos(G(a.latitude)));return{north:a.latitude+u,south:a.latitude-u,east:a.longitude+d,west:a.longitude-d}}function ee(a={}){const{enableHighAccuracy:n=!0,timeout:u=1e4,maximumAge:d=6e4,watchPosition:j=!1,autoRequest:y=!0}=a,[r,m]=l.useState({currentLocation:null,isLoading:!1,error:null,permission:"unknown",lastUpdated:null}),N=l.useRef(null),L=l.useRef(!1),g="geolocation"in navigator,c=l.useCallback(async()=>{if(!g)return m(s=>({...s,permission:"denied",error:"Geolocation not supported"})),"denied";try{if("permissions"in navigator){const s=await navigator.permissions.query({name:"geolocation"});return m(o=>({...o,permission:s.state})),s.state}}catch{console.warn("Permission API not supported")}return"unknown"},[g]),M=l.useCallback(async()=>g?L.current?null:(L.current=!0,m(s=>({...s,isLoading:!0,error:null})),new Promise(s=>{const o={enableHighAccuracy:n,timeout:u,maximumAge:d},i=b=>{const v={latitude:b.coords.latitude,longitude:b.coords.longitude,accuracy:b.coords.accuracy,altitude:b.coords.altitude||void 0,heading:b.coords.heading||void 0,speed:b.coords.speed||void 0};m(C=>({...C,currentLocation:v,isLoading:!1,error:null,permission:"granted",lastUpdated:new Date})),L.current=!1,s(v)},x=b=>{let v="Failed to get location",C="unknown";switch(b.code){case b.PERMISSION_DENIED:v="Location access denied by user",C="denied",O.error("Please enable location access to find nearby games");break;case b.POSITION_UNAVAILABLE:v="Location information unavailable";break;case b.TIMEOUT:v="Location request timed out";break}m(F=>({...F,isLoading:!1,error:v,permission:C})),L.current=!1,s(null)};navigator.geolocation.getCurrentPosition(i,x,o)})):(O.error("Location services are not supported by your browser"),null),[g,n,u,d]),z=l.useCallback(()=>{if(!g||N.current!==null)return;const s={enableHighAccuracy:n,timeout:u,maximumAge:d},o=x=>{const b={latitude:x.coords.latitude,longitude:x.coords.longitude,accuracy:x.coords.accuracy,altitude:x.coords.altitude||void 0,heading:x.coords.heading||void 0,speed:x.coords.speed||void 0};m(v=>({...v,currentLocation:b,lastUpdated:new Date}))},i=x=>{console.error("Location watch error:",x)};N.current=navigator.geolocation.watchPosition(o,i,s)},[g,n,u,d]),P=l.useCallback(()=>{N.current!==null&&(navigator.geolocation.clearWatch(N.current),N.current=null)},[]),h=l.useCallback(()=>{m(s=>({...s,currentLocation:null,error:null,lastUpdated:null}))},[]),f=l.useCallback((s,o="km")=>{if(!r.currentLocation)return null;const i=U(r.currentLocation.latitude,r.currentLocation.longitude,s.latitude,s.longitude);return o==="mi"?i*.621371:i},[r.currentLocation]),S=l.useCallback((s,o="km")=>{const i=f(s,o);return i?Y(i,o):null},[f]),p=l.useCallback((s,o=5)=>{const i=f(s,"km");return i!==null&&i<=o},[f]);return l.useEffect(()=>(c(),y&&M(),j&&z(),()=>{P()}),[c,M,z,P,y,j]),{...r,isSupported:g,requestLocation:M,clearLocation:h,startWatching:z,stopWatching:P,getDistanceTo:f,getFormattedDistanceTo:S,isNearby:p,calculateDistance:(s,o,i,x)=>U(s,o,i,x),formatDistance:Y,getBoundsFromCenter:s=>r.currentLocation?Ie(r.currentLocation,s):null}}function Re({games:a=[],selectedGameId:n,onGameSelect:u,onLocationSelect:d,showCurrentLocation:j=!0,showGameMarkers:y=!0,allowLocationSelection:r=!1,center:m,zoom:N=13,className:L=""}){const g=xe(),{currentLocation:c,isLoading:M,error:z,requestLocation:P}=ee(),[h,f]=l.useState(m||c||{latitude:29.6516,longitude:-82.3248}),[S,p]=l.useState(N),[s,o]=l.useState(!1),[i,x]=l.useState(null),[b,v]=l.useState(null),[C,F]=l.useState(!1),se=l.useRef(null),A=(a.length>0?a:g).map(t=>({id:t.id,title:t.title,sport:t.sport,location:{latitude:t.latitude||h.latitude+(Math.random()-.5)*.01,longitude:t.longitude||h.longitude+(Math.random()-.5)*.01},locationName:t.location,date:t.date,time:t.time,players:t.currentPlayers||t.players,maxPlayers:t.maxPlayers,cost:t.cost,difficulty:t.difficulty}));l.useEffect(()=>{c&&!m&&f(c)},[c,m]),l.useEffect(()=>{const t=setTimeout(()=>{o(!0)},1e3);return()=>clearTimeout(t)},[]);const te=l.useCallback(()=>{c?(f(c),p(15),O.success("Centered on your location")):P()},[c,P]),ae=l.useCallback(t=>{f(t.location),p(16),u&&u(t.id)},[u]),le=l.useCallback(t=>{if(!r)return;const w=t.currentTarget.getBoundingClientRect(),E=t.clientX-w.left,T=t.clientY-w.top,I=Math.pow(2,S-10)*1e3,$=h.latitude+(T-w.height/2)*-.001/I,D=h.longitude+(E-w.width/2)*.001/I,R={latitude:$,longitude:D};x(R),d&&d(R)},[r,h,S,d]),ne=l.useCallback(t=>{if(!r||t.touches.length!==1)return;const w=t.currentTarget.getBoundingClientRect(),E=t.touches[0],T=E.clientX-w.left,I=E.clientY-w.top,$=Math.pow(2,S-10)*1e3,D=h.latitude+(I-w.height/2)*-.001/$,R=h.longitude+(T-w.width/2)*.001/$,B={latitude:D,longitude:R};x(B),d&&d(B)},[r,h,S,d]),oe=l.useCallback(()=>{p(t=>Math.min(t+1,18))},[]),re=l.useCallback(()=>{p(t=>Math.max(t-1,1))},[]),ce=l.useCallback(()=>{c&&f(c),p(13),x(null)},[c]),ie=t=>({Basketball:"bg-sport-basketball",Soccer:"bg-sport-soccer",Tennis:"bg-sport-tennis",Volleyball:"bg-sport-volleyball",Football:"bg-sport-football",Baseball:"bg-sport-baseball"})[t]||"bg-primary";return z?e.jsx("div",{className:`relative ${L}`,children:e.jsx(fe,{icon:e.jsx(_,{className:"w-16 h-16"}),title:"Location Access Required",description:"Please enable location access to view the map and find nearby games.",action:{label:"Enable Location",onClick:P}})}):e.jsxs("div",{className:`relative overflow-hidden rounded-lg ${L}`,children:[e.jsxs("div",{ref:se,className:`relative w-full h-full min-h-[300px] md:min-h-[400px] cursor-crosshair transition-all duration-300 ${C?"bg-gray-800":"bg-green-100"}`,onClick:le,onTouchEnd:ne,role:"application","aria-label":"Interactive map showing games and locations",children:[(!s||M)&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50 backdrop-blur-sm z-10",children:e.jsx(W,{size:"lg",text:"Loading map..."})}),e.jsx("div",{className:`absolute inset-0 opacity-30 ${C?"bg-gradient-to-br from-gray-900 via-gray-700 to-gray-800":"bg-gradient-to-br from-green-200 via-blue-100 to-green-300"}`,style:{backgroundImage:C?"radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%)":'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%239C92AC" fill-opacity="0.1"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")'}}),j&&c&&e.jsx("div",{className:"absolute z-20",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow-lg"}),e.jsx("div",{className:"absolute inset-0 w-4 h-4 bg-blue-500 rounded-full animate-ping opacity-30"}),e.jsx("div",{className:"absolute -top-1 -left-1 w-6 h-6 bg-blue-500/20 rounded-full animate-pulse"})]})}),y&&A.map((t,w)=>{const E=n===t.id,T=b===t.id,I=c?U(c.latitude,c.longitude,t.location.latitude,t.location.longitude):null,$=t.location.latitude-h.latitude,D=t.location.longitude-h.longitude,R=Math.pow(2,S-10)*1e3,B=50+D*R,de=50-$*R,ue=Math.max(8,Math.min(92,B)),H=Math.max(8,Math.min(92,de));return e.jsx("div",{className:"absolute z-10 cursor-pointer",style:{left:`${ue}%`,top:`${H}%`},onClick:me=>{me.stopPropagation(),ae(t)},onMouseEnter:()=>v(t.id),onMouseLeave:()=>v(null),children:e.jsxs("div",{className:`relative ${E||T?"z-30":"z-10"}`,children:[e.jsx("div",{className:`
                  w-8 h-8 rounded-full border-2 border-white shadow-lg flex items-center justify-center
                  ${ie(t.sport)} ${E?"ring-2 ring-primary":""}
                  transition-all duration-200
                `,children:e.jsx(J,{className:"w-4 h-4 text-white"})}),(E||T)&&e.jsx("div",{className:`absolute z-40 ${H>70?"bottom-full mb-2":"top-full mt-2"} left-1/2 transform -translate-x-1/2`,children:e.jsx(X,{className:"w-64 max-w-[calc(100vw-2rem)] shadow-lg border-2 bg-background/95 backdrop-blur-sm",children:e.jsx(Z,{className:"p-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium truncate",children:t.title}),e.jsx(V,{variant:"secondary",className:"text-xs flex-shrink-0",children:t.sport})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ge,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:t.time})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"w-3 h-3"}),e.jsxs("span",{children:[t.players,"/",t.maxPlayers]})]}),t.cost!=="Free"&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(je,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:t.cost})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:"truncate mr-2",children:t.locationName}),I&&e.jsxs("span",{className:"flex-shrink-0",children:[Y(I)," away"]})]})]})})})})]})},t.id)}),i&&r&&e.jsx("div",{className:"absolute z-20",style:{left:"60%",top:"45%",transform:"translate(-50%, -50%)"},children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(_,{className:"w-8 h-8 text-destructive drop-shadow-lg"}),e.jsx("div",{className:"mt-1 px-2 py-1 bg-white rounded shadow text-xs",children:"Selected Location"})]})})]}),e.jsxs("div",{className:"absolute top-2 right-2 md:top-4 md:right-4 flex flex-col gap-1 md:gap-2 z-30",children:[e.jsx(k,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:()=>F(!C),"aria-label":C?"Switch to map view":"Switch to satellite view",children:e.jsx(Ce,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(k,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:oe,"aria-label":"Zoom in",children:e.jsx(ve,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsx(k,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:re,"aria-label":"Zoom out",children:e.jsx(Me,{className:"w-3 h-3 md:w-4 md:h-4"})})]}),e.jsx(k,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:te,disabled:M,"aria-label":"Center on current location",children:M?e.jsx(W,{size:"sm"}):e.jsx(we,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsx(k,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:ce,"aria-label":"Reset map view",children:e.jsx(ze,{className:"w-3 h-3 md:w-4 md:h-4"})})]}),e.jsx("div",{className:"absolute bottom-2 left-2 md:bottom-4 md:left-4 z-30",children:e.jsx(X,{className:"bg-background/95 backdrop-blur-sm",children:e.jsx(Z,{className:"p-2 md:p-3",children:e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsx("div",{className:"font-medium mb-1 md:mb-2 text-xs md:text-sm",children:"Legend"}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[e.jsx("div",{className:"w-2 h-2 md:w-3 md:h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-xs",children:"You"})]}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[e.jsx("div",{className:"w-2 h-2 md:w-3 md:h-3 bg-primary rounded-full"}),e.jsx("span",{className:"text-xs",children:"Games"})]}),i&&e.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[e.jsx(_,{className:"w-2 h-2 md:w-3 md:h-3 text-destructive"}),e.jsx("span",{className:"text-xs",children:"Selected"})]})]})})})}),y&&A.length>0&&e.jsx("div",{className:"absolute top-2 left-2 md:top-4 md:left-4 z-30",children:e.jsxs(V,{variant:"secondary",className:"bg-background/95 backdrop-blur-sm text-xs",children:[A.length," game",A.length!==1?"s":""]})})]})}const Te=[{name:"All Sports",value:"all"},{name:"Basketball",value:"basketball"},{name:"Soccer",value:"soccer"},{name:"Tennis",value:"tennis"},{name:"Pickleball",value:"pickleball"},{name:"Volleyball",value:"volleyball"},{name:"Football",value:"football"},{name:"Baseball",value:"baseball"}];function K({game:a,onSelect:n}){return e.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border cursor-pointer hover:shadow-md transition-shadow",onClick:n,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.sport})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:a.cost}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.currentPlayers,"/",a.maxPlayers," players"]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"ðŸ“"}),e.jsx("span",{children:a.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"ðŸ•’"}),e.jsxs("span",{children:[a.date," at ",a.time]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"ðŸ“"}),e.jsx("span",{children:a.distance})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:a.description}),a.isJoined&&e.jsx("div",{className:"mt-3",children:e.jsx("span",{className:"inline-block bg-success/20 text-success dark:bg-success/30 dark:text-success text-xs px-2 py-1 rounded",children:"Joined âœ“"})})]})}function Je(){const a=he(),{currentLocation:n,isLoading:u,requestLocation:d}=ee(),[j,y]=l.useState(""),[r,m]=l.useState("all"),[N,L]=l.useState(!1),[g,c]=l.useState("list"),[M,z]=l.useState([]),[P,h]=l.useState(!1);l.useEffect(()=>{(async()=>{h(!0);try{const o=await pe.getGames();z(o)}catch(o){console.error("Error loading games:",o),z([])}finally{h(!1)}})()},[]);const f=s=>{a(`/game/${s}`)},S=()=>{a(-1)},p=M.filter(s=>{const o=s.title.toLowerCase().includes(j.toLowerCase())||s.sport.toLowerCase().includes(j.toLowerCase())||s.location.toLowerCase().includes(j.toLowerCase()),i=r==="all"||s.sport.toLowerCase()===r.toLowerCase();return o&&i});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[e.jsx(k,{variant:"ghost",size:"icon",onClick:S,children:e.jsx(ye,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(be,{value:j,onChange:s=>y(s.target.value),placeholder:"Search games, sports, locations...",className:"pl-10"})]}),e.jsx(k,{variant:"outline",size:"icon",onClick:()=>L(!N),children:e.jsx(Ee,{className:"w-4 h-4"})})]}),N&&e.jsx("div",{className:"px-4 pb-4 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Sort by"}),e.jsxs("select",{className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"distance",children:"Distance"}),e.jsx("option",{value:"time",children:"Time"}),e.jsx("option",{value:"players",children:"Players Needed"}),e.jsx("option",{value:"cost",children:"Cost"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Date"}),e.jsxs("select",{className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"",children:"Any time"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"tomorrow",children:"Tomorrow"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"})]})]})]})}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Te.map(s=>e.jsx(V,{variant:r===s.value?"default":"outline",className:"cursor-pointer whitespace-nowrap",onClick:()=>m(s.value),children:s.name},s.value))})})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx(k,{variant:g==="list"?"default":"outline",size:"sm",onClick:()=>c("list"),children:"List View"}),e.jsx(k,{variant:g==="map"?"default":"outline",size:"sm",onClick:()=>c("map"),children:"Map View"})]}),g==="list"?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold",children:[p.length," games found"]}),j&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:['Results for "',j,'"']})]})}),e.jsx("div",{className:"space-y-4",children:p.map(s=>e.jsxs("div",{className:"relative",children:[e.jsx(K,{game:s,onSelect:()=>f(s.id)}),e.jsx("div",{className:"absolute top-4 left-4 bg-background/95 backdrop-blur-sm rounded px-2 py-1",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:s.distance})})]},s.id))}),p.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Q,{className:"w-6 h-6 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No games found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),e.jsx(k,{variant:"outline",onClick:()=>{y(""),m("all")},children:"Clear filters"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Games Near You"}),n?e.jsxs("div",{className:"relative",children:[e.jsx(Re,{games:p.map(s=>({id:s.id,title:s.title,sport:s.sport,location:{latitude:s.latitude||n.latitude+(Math.random()-.5)*.01,longitude:s.longitude||n.longitude+(Math.random()-.5)*.01},locationName:s.location,date:s.date,time:s.time,players:s.currentPlayers||s.players,maxPlayers:s.maxPlayers,cost:s.cost,difficulty:s.difficulty})),center:n,zoom:13,className:"h-64 md:h-80",showCurrentLocation:!0,showGameMarkers:!0,onGameSelect:f}),e.jsxs("div",{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm rounded-md px-2 py-1 text-xs",children:["ðŸ“ You â€¢ ðŸŽ® ",p.length," Games"]})]}):e.jsxs("div",{className:"w-full h-64 md:h-80 bg-muted rounded-lg flex flex-col items-center justify-center border",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ“"}),e.jsx("p",{className:"text-muted-foreground text-center",children:"Allow location access to see games on map"}),e.jsx(k,{onClick:d,variant:"outline",size:"sm",className:"mt-2",disabled:u,children:u?"Requesting...":"Enable Location"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"text-lg font-semibold",children:[p.length," games in map area"]})}),p.map(s=>e.jsx(K,{game:s,onSelect:()=>f(s.id)},s.id))]})]})]})]})}export{Je as SearchDiscovery};
//# sourceMappingURL=SearchDiscovery-BZHAPdzP.js.map
