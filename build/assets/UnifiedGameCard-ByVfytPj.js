import{j as e}from"./ui-Bz49QZar.js";import{e as s,r as t}from"./vendor-CVaDA-xz.js";import{C as a,b as r,a as i,B as l}from"./index-C1rAQj-O.js";import{u as n,C as o,R as d}from"./realtime-avatar-stack-BHG7GsXc.js";import{I as c}from"./ImageWithFallback-BlIlvXsa.js";import{f as m}from"./dateUtils-ByixnkWz.js";import{i as x,g as u,j as h,k as g}from"./utils-e0hEqRVR.js";function j({game:j,variant:p="simple",showImage:f=!1,showJoinButton:v=!0,onSelect:N,onJoinLeave:b}){const[y,w]=t.useState(!1),{handleCardClick:k,handleJoinClick:C,isLoading:J,getButtonText:P,getButtonVariant:$,getCategoryBadge:S,getPlayerCount:B,getJoinStatus:L}=function(e,t={}){const a=s(),r=n(),i=e.currentPlayers>=e.maxPlayers;return{handleCardClick:()=>{t.onSelect?t.onSelect(e.id):a(`/game/${e.id}`)},handleJoinClick:s=>{s.stopPropagation(),t.onJoinLeave?t.onJoinLeave(e.id):r.toggleJoin(e,s)},...r,getCategoryBadge:()=>"today"===e.category?{text:"Today",className:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300"}:"tomorrow"===e.category?{text:"Tomorrow",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}:null,isFull:i,getPlayerCount:()=>`${e.currentPlayers}/${e.maxPlayers} players`,getJoinStatus:()=>e.isJoined?{text:"Joined âœ“",className:"bg-success/20 text-success dark:bg-success/30 dark:text-success text-xs px-2 py-1 rounded"}:null,game:e}}(j,{onSelect:N,onJoinLeave:b});return"full"===p?e.jsx("div",{onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:e.jsxs(a,{className:"overflow-hidden cursor-pointer transition-all duration-200 ease-out "+(y?"shadow-medium":"shadow-subtle"),onClick:k,children:[e.jsxs("div",{className:"relative overflow-hidden",children:[j.imageUrl?e.jsx("div",{className:"aspect-video overflow-hidden",children:e.jsx(c,{src:j.imageUrl,alt:j.sport,className:"w-full h-full object-cover transition-transform duration-300 ease-out"})}):e.jsx("div",{className:"h-16 bg-gradient-to-r from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsx(r,{variant:"secondary",className:"text-sm",children:j.sport})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent transition-opacity duration-200 "+(y?"opacity-10":"opacity-0")}),e.jsxs("div",{className:"absolute top-3 left-3 bg-background/95 backdrop-blur-sm rounded-lg px-3 py-2 min-w-[80px]",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(x,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:j.date})]}),e.jsx("div",{className:"text-sm font-medium",children:j.time})]}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(r,{className:`${j.sportColor||"bg-primary"} text-white border-none`,children:j.sport})}),j.isJoined&&e.jsx("div",{className:"absolute bottom-3 right-3 w-6 h-6 bg-success rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:j.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:j.location})]})]}),j.host&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(o,{userId:j.host.id,src:j.host.avatar,alt:j.host.name,size:"sm"}),e.jsxs("span",{className:"text-muted-foreground",children:["Hosted by ",j.host.name]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{children:B()})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{roomName:`game-${j.id}`}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"online"})]})]}),v&&e.jsx(l,{size:"sm",variant:$(j),onClick:C,className:"transition-all duration-200",disabled:J||j.currentPlayers>=j.maxPlayers&&!j.isJoined,children:j.currentPlayers>=j.maxPlayers&&!j.isJoined?"Game Full":P(j)})]})]})})]})}):e.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border cursor-pointer hover:shadow-md transition-shadow",onClick:k,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:j.title}),S()&&e.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full font-medium ${S()?.className}`,children:S()?.text})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:j.sport}),j.host&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[e.jsx(o,{userId:j.host.id,src:j.host.avatar,alt:j.host.name,size:"sm"}),e.jsxs("span",{className:"text-muted-foreground",children:["Hosted by ",j.host.name]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[j.cost&&e.jsx("div",{className:"text-sm font-medium",children:j.cost}),e.jsx("div",{className:"text-xs text-muted-foreground",children:B()})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:j.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:B()}),e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.jsx(d,{roomName:`game-${j.id}`}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"online"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:[j.date," at ",m(j.time)]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:j.description}),v&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[L()?e.jsx("span",{className:`inline-block ${L()?.className}`,children:L()?.text}):e.jsx("div",{}),e.jsx("button",{onClick:C,disabled:J,className:"px-3 py-1 rounded text-sm font-medium transition-colors "+(J?"opacity-50 cursor-not-allowed":j.isJoined?"bg-destructive/20 text-destructive dark:bg-destructive/30 dark:text-destructive hover:bg-destructive/30 dark:hover:bg-destructive/40":"bg-primary text-primary-foreground hover:bg-primary/90"),children:P(j)})]})]})}export{j as U};
//# sourceMappingURL=UnifiedGameCard-ByVfytPj.js.map
