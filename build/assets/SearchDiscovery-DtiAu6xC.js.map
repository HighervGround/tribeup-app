{"version":3,"file":"SearchDiscovery-DtiAu6xC.js","sources":["../../node_modules/lucide-react/dist/esm/icons/crosshair.js","../../node_modules/lucide-react/dist/esm/icons/layers.js","../../node_modules/lucide-react/dist/esm/icons/minus.js","../../node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../node_modules/lucide-react/dist/esm/icons/sliders-horizontal.js","../../src/hooks/useLocation.ts","../../src/components/MapView.tsx","../../src/components/SearchDiscovery.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"22\", x2: \"18\", y1: \"12\", y2: \"12\", key: \"l9bcsi\" }],\n  [\"line\", { x1: \"6\", x2: \"2\", y1: \"12\", y2: \"12\", key: \"13hhkx\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"6\", y2: \"2\", key: \"10w3f3\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"22\", y2: \"18\", key: \"15g9kq\" }]\n];\nconst Crosshair = createLucideIcon(\"crosshair\", __iconNode);\n\nexport { __iconNode, Crosshair as default };\n//# sourceMappingURL=crosshair.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z\",\n      key: \"zw3jo\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12\",\n      key: \"1wduqc\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17\",\n      key: \"kqbvx6\"\n    }\n  ]\n];\nconst Layers = createLucideIcon(\"layers\", __iconNode);\n\nexport { __iconNode, Layers as default };\n//# sourceMappingURL=layers.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }]];\nconst Minus = createLucideIcon(\"minus\", __iconNode);\n\nexport { __iconNode, Minus as default };\n//# sourceMappingURL=minus.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n];\nconst RotateCcw = createLucideIcon(\"rotate-ccw\", __iconNode);\n\nexport { __iconNode, RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"21\", x2: \"14\", y1: \"4\", y2: \"4\", key: \"obuewd\" }],\n  [\"line\", { x1: \"10\", x2: \"3\", y1: \"4\", y2: \"4\", key: \"1q6298\" }],\n  [\"line\", { x1: \"21\", x2: \"12\", y1: \"12\", y2: \"12\", key: \"1iu8h1\" }],\n  [\"line\", { x1: \"8\", x2: \"3\", y1: \"12\", y2: \"12\", key: \"ntss68\" }],\n  [\"line\", { x1: \"21\", x2: \"16\", y1: \"20\", y2: \"20\", key: \"14d8ph\" }],\n  [\"line\", { x1: \"12\", x2: \"3\", y1: \"20\", y2: \"20\", key: \"m0wm8r\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"2\", y2: \"6\", key: \"14e1ph\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"10\", y2: \"14\", key: \"1i6ji0\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"18\", y2: \"22\", key: \"1lctlv\" }]\n];\nconst SlidersHorizontal = createLucideIcon(\"sliders-horizontal\", __iconNode);\n\nexport { __iconNode, SlidersHorizontal as default };\n//# sourceMappingURL=sliders-horizontal.js.map\n","import { useState, useEffect, useCallback, useRef } from 'react';\nimport { toast } from 'sonner';\n\nexport interface LocationCoordinates {\n  latitude: number;\n  longitude: number;\n  accuracy?: number;\n  altitude?: number;\n  heading?: number;\n  speed?: number;\n}\n\nexport interface LocationState {\n  currentLocation: LocationCoordinates | null;\n  isLoading: boolean;\n  error: string | null;\n  permission: 'granted' | 'denied' | 'prompt' | 'unknown';\n  lastUpdated: Date | null;\n}\n\nexport interface MapBounds {\n  north: number;\n  south: number;\n  east: number;\n  west: number;\n}\n\ninterface UseLocationOptions {\n  enableHighAccuracy?: boolean;\n  timeout?: number;\n  maximumAge?: number;\n  watchPosition?: boolean;\n  autoRequest?: boolean;\n}\n\n// Utility functions for location calculations\nexport function calculateDistance(\n  lat1: number,\n  lon1: number,\n  lat2: number,\n  lon2: number\n): number {\n  const R = 6371; // Earth's radius in kilometers\n  const dLat = toRadians(lat2 - lat1);\n  const dLon = toRadians(lon2 - lon1);\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(toRadians(lat1)) * Math.cos(toRadians(lat2)) *\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c; // Distance in kilometers\n}\n\nexport function toRadians(degrees: number): number {\n  return degrees * (Math.PI / 180);\n}\n\nexport function formatDistance(distance: number, unit: 'km' | 'mi' = 'km'): string {\n  if (unit === 'mi') {\n    distance = distance * 0.621371; // Convert km to miles\n  }\n  \n  if (distance < 1) {\n    return unit === 'km' \n      ? `${Math.round(distance * 1000)}m`\n      : `${Math.round(distance * 5280)}ft`;\n  }\n  \n  return `${distance.toFixed(1)}${unit}`;\n}\n\nexport function isWithinBounds(\n  location: LocationCoordinates,\n  bounds: MapBounds\n): boolean {\n  return (\n    location.latitude >= bounds.south &&\n    location.latitude <= bounds.north &&\n    location.longitude >= bounds.west &&\n    location.longitude <= bounds.east\n  );\n}\n\nexport function getBoundsFromCenter(\n  center: LocationCoordinates,\n  radiusKm: number\n): MapBounds {\n  const latOffset = radiusKm / 111; // Approximate: 1 degree lat = 111 km\n  const lonOffset = radiusKm / (111 * Math.cos(toRadians(center.latitude)));\n  \n  return {\n    north: center.latitude + latOffset,\n    south: center.latitude - latOffset,\n    east: center.longitude + lonOffset,\n    west: center.longitude - lonOffset\n  };\n}\n\nexport function useLocation(options: UseLocationOptions = {}) {\n  const {\n    enableHighAccuracy = true,\n    timeout = 10000,\n    maximumAge = 60000,\n    watchPosition = false,\n    autoRequest = true\n  } = options;\n\n  const [state, setState] = useState<LocationState>({\n    currentLocation: null,\n    isLoading: false,\n    error: null,\n    permission: 'unknown',\n    lastUpdated: null\n  });\n\n  const watchIdRef = useRef<number | null>(null);\n  const requestInProgressRef = useRef(false);\n\n  // Check if geolocation is supported\n  const isSupported = 'geolocation' in navigator;\n\n  // Check current permission status\n  const checkPermission = useCallback(async () => {\n    if (!isSupported) {\n      setState(prev => ({ ...prev, permission: 'denied', error: 'Geolocation not supported' }));\n      return 'denied';\n    }\n\n    try {\n      if ('permissions' in navigator) {\n        const permission = await navigator.permissions.query({ name: 'geolocation' });\n        setState(prev => ({ ...prev, permission: permission.state as any }));\n        return permission.state;\n      }\n    } catch (error) {\n      console.warn('Permission API not supported');\n    }\n\n    return 'unknown';\n  }, [isSupported]);\n\n  // Request location permission and get current position\n  const requestLocation = useCallback(async (): Promise<LocationCoordinates | null> => {\n    if (!isSupported) {\n      toast.error('Location services are not supported by your browser');\n      return null;\n    }\n\n    if (requestInProgressRef.current) {\n      return null;\n    }\n\n    requestInProgressRef.current = true;\n    setState(prev => ({ ...prev, isLoading: true, error: null }));\n\n    return new Promise((resolve) => {\n      const geoOptions: PositionOptions = {\n        enableHighAccuracy,\n        timeout,\n        maximumAge\n      };\n\n      const successCallback = (position: GeolocationPosition) => {\n        const location: LocationCoordinates = {\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n          accuracy: position.coords.accuracy,\n          altitude: position.coords.altitude || undefined,\n          heading: position.coords.heading || undefined,\n          speed: position.coords.speed || undefined\n        };\n\n        setState(prev => ({\n          ...prev,\n          currentLocation: location,\n          isLoading: false,\n          error: null,\n          permission: 'granted',\n          lastUpdated: new Date()\n        }));\n\n        requestInProgressRef.current = false;\n        resolve(location);\n      };\n\n      const errorCallback = (error: GeolocationPositionError) => {\n        let errorMessage = 'Failed to get location';\n        let permission: LocationState['permission'] = 'unknown';\n\n        switch (error.code) {\n          case error.PERMISSION_DENIED:\n            errorMessage = 'Location access denied by user';\n            permission = 'denied';\n            toast.error('Please enable location access to find nearby games');\n            break;\n          case error.POSITION_UNAVAILABLE:\n            errorMessage = 'Location information unavailable';\n            break;\n          case error.TIMEOUT:\n            errorMessage = 'Location request timed out';\n            break;\n        }\n\n        setState(prev => ({\n          ...prev,\n          isLoading: false,\n          error: errorMessage,\n          permission\n        }));\n\n        requestInProgressRef.current = false;\n        resolve(null);\n      };\n\n      navigator.geolocation.getCurrentPosition(\n        successCallback,\n        errorCallback,\n        geoOptions\n      );\n    });\n  }, [isSupported, enableHighAccuracy, timeout, maximumAge]);\n\n  // Start watching position\n  const startWatching = useCallback(() => {\n    if (!isSupported || watchIdRef.current !== null) {\n      return;\n    }\n\n    const geoOptions: PositionOptions = {\n      enableHighAccuracy,\n      timeout,\n      maximumAge\n    };\n\n    const successCallback = (position: GeolocationPosition) => {\n      const location: LocationCoordinates = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy,\n        altitude: position.coords.altitude || undefined,\n        heading: position.coords.heading || undefined,\n        speed: position.coords.speed || undefined\n      };\n\n      setState(prev => ({\n        ...prev,\n        currentLocation: location,\n        lastUpdated: new Date()\n      }));\n    };\n\n    const errorCallback = (error: GeolocationPositionError) => {\n      console.error('Location watch error:', error);\n    };\n\n    watchIdRef.current = navigator.geolocation.watchPosition(\n      successCallback,\n      errorCallback,\n      geoOptions\n    );\n  }, [isSupported, enableHighAccuracy, timeout, maximumAge]);\n\n  // Stop watching position\n  const stopWatching = useCallback(() => {\n    if (watchIdRef.current !== null) {\n      navigator.geolocation.clearWatch(watchIdRef.current);\n      watchIdRef.current = null;\n    }\n  }, []);\n\n  // Clear location data\n  const clearLocation = useCallback(() => {\n    setState(prev => ({\n      ...prev,\n      currentLocation: null,\n      error: null,\n      lastUpdated: null\n    }));\n  }, []);\n\n  // Get distance to a location\n  const getDistanceTo = useCallback((\n    target: LocationCoordinates,\n    unit: 'km' | 'mi' = 'km'\n  ): number | null => {\n    if (!state.currentLocation) return null;\n    \n    const distance = calculateDistance(\n      state.currentLocation.latitude,\n      state.currentLocation.longitude,\n      target.latitude,\n      target.longitude\n    );\n    \n    return unit === 'mi' ? distance * 0.621371 : distance;\n  }, [state.currentLocation]);\n\n  // Get formatted distance to a location\n  const getFormattedDistanceTo = useCallback((\n    target: LocationCoordinates,\n    unit: 'km' | 'mi' = 'km'\n  ): string | null => {\n    const distance = getDistanceTo(target, unit);\n    return distance ? formatDistance(distance, unit) : null;\n  }, [getDistanceTo]);\n\n  // Check if a location is nearby\n  const isNearby = useCallback((\n    target: LocationCoordinates,\n    radiusKm: number = 5\n  ): boolean => {\n    const distance = getDistanceTo(target, 'km');\n    return distance !== null && distance <= radiusKm;\n  }, [getDistanceTo]);\n\n  // Initialize\n  useEffect(() => {\n    checkPermission();\n    \n    if (autoRequest) {\n      requestLocation();\n    }\n    \n    if (watchPosition) {\n      startWatching();\n    }\n\n    return () => {\n      stopWatching();\n    };\n  }, [checkPermission, requestLocation, startWatching, stopWatching, autoRequest, watchPosition]);\n\n  return {\n    // State\n    ...state,\n    isSupported,\n    \n    // Actions\n    requestLocation,\n    clearLocation,\n    startWatching,\n    stopWatching,\n    \n    // Utilities\n    getDistanceTo,\n    getFormattedDistanceTo,\n    isNearby,\n    calculateDistance: (lat1: number, lon1: number, lat2: number, lon2: number) => \n      calculateDistance(lat1, lon1, lat2, lon2),\n    formatDistance,\n    getBoundsFromCenter: (radiusKm: number) => \n      state.currentLocation ? getBoundsFromCenter(state.currentLocation, radiusKm) : null\n  };\n}\n\n// Hook for managing map state\nexport function useMapState() {\n  const [mapCenter, setMapCenter] = useState<LocationCoordinates | null>(null);\n  const [mapZoom, setMapZoom] = useState(13);\n  const [selectedLocation, setSelectedLocation] = useState<LocationCoordinates | null>(null);\n  const [isMapLoaded, setIsMapLoaded] = useState(false);\n\n  const centerOnLocation = useCallback((location: LocationCoordinates, zoom?: number) => {\n    setMapCenter(location);\n    if (zoom !== undefined) {\n      setMapZoom(zoom);\n    }\n  }, []);\n\n  const selectLocation = useCallback((location: LocationCoordinates) => {\n    setSelectedLocation(location);\n  }, []);\n\n  const clearSelection = useCallback(() => {\n    setSelectedLocation(null);\n  }, []);\n\n  return {\n    mapCenter,\n    mapZoom,\n    selectedLocation,\n    isMapLoaded,\n    setMapCenter,\n    setMapZoom,\n    setSelectedLocation,\n    setIsMapLoaded,\n    centerOnLocation,\n    selectLocation,\n    clearSelection\n  };\n}","import React, { useState, useEffect, useRef, useCallback } from 'react';\n\nimport { Button } from './ui/button';\nimport { Card, CardContent } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { LoadingSpinner } from './ui/loading-spinner';\nimport { EmptyState } from './ui/empty-state';\nimport { \n  MapPin, \n  Navigation, \n  Crosshair, \n  Layers, \n  Plus, \n  Minus,\n  RotateCcw,\n  Filter,\n  Users,\n  Clock,\n  DollarSign\n} from 'lucide-react';\nimport { useLocation, LocationCoordinates, calculateDistance, formatDistance } from '../hooks/useLocation';\nimport { useGames } from '../store/appStore';\nimport { toast } from 'sonner';\n\nexport interface MapGame {\n  id: string;\n  title: string;\n  sport: string;\n  location: LocationCoordinates;\n  locationName: string;\n  date: string;\n  time: string;\n  players: number;\n  maxPlayers: number;\n  cost: string;\n  difficulty: string;\n}\n\ninterface MapViewProps {\n  games?: MapGame[];\n  selectedGameId?: string;\n  onGameSelect?: (gameId: string) => void;\n  onLocationSelect?: (location: LocationCoordinates) => void;\n  showCurrentLocation?: boolean;\n  showGameMarkers?: boolean;\n  allowLocationSelection?: boolean;\n  center?: LocationCoordinates;\n  zoom?: number;\n  className?: string;\n}\n\n// Simple map implementation (in a real app, you'd use Google Maps, Mapbox, etc.)\nexport function MapView({\n  games = [],\n  selectedGameId,\n  onGameSelect,\n  onLocationSelect,\n  showCurrentLocation = true,\n  showGameMarkers = true,\n  allowLocationSelection = false,\n  center,\n  zoom = 13,\n  className = ''\n}: MapViewProps) {\n  const allGames = useGames();\n  const {\n    currentLocation,\n    isLoading: locationLoading,\n    error: locationError,\n    requestLocation,\n    getFormattedDistanceTo\n  } = useLocation();\n\n  const [mapCenter, setMapCenter] = useState<LocationCoordinates>(\n    center || currentLocation || { latitude: 29.6516, longitude: -82.3248 } // Gainesville, FL\n  );\n  const [mapZoom, setMapZoom] = useState(zoom);\n  const [isMapLoaded, setIsMapLoaded] = useState(false);\n  const [selectedLocation, setSelectedLocation] = useState<LocationCoordinates | null>(null);\n  const [hoveredGameId, setHoveredGameId] = useState<string | null>(null);\n  const [showSatellite, setShowSatellite] = useState(false);\n\n  const mapRef = useRef<HTMLDivElement>(null);\n\n  // Convert store games to map games\n  const mapGames: MapGame[] = games.length > 0 ? games : allGames.map(game => ({\n    id: game.id,\n    title: game.title,\n    sport: game.sport,\n    location: {\n      latitude: 29.6516 + (Math.random() - 0.5) * 0.1, // Random locations around Gainesville\n      longitude: -82.3248 + (Math.random() - 0.5) * 0.1\n    },\n    locationName: game.location,\n    date: game.date,\n    time: game.time,\n    players: game.players,\n    maxPlayers: game.maxPlayers,\n    cost: game.cost,\n    difficulty: game.difficulty\n  }));\n\n  // Update map center when current location changes\n  useEffect(() => {\n    if (currentLocation && !center) {\n      setMapCenter(currentLocation);\n    }\n  }, [currentLocation, center]);\n\n  // Simulate map loading\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsMapLoaded(true);\n    }, 1000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  const centerOnCurrentLocation = useCallback(() => {\n    if (currentLocation) {\n      setMapCenter(currentLocation);\n      setMapZoom(15);\n      toast.success('Centered on your location');\n    } else {\n      requestLocation();\n    }\n  }, [currentLocation, requestLocation]);\n\n  const centerOnGame = useCallback((game: MapGame) => {\n    setMapCenter(game.location);\n    setMapZoom(16);\n    if (onGameSelect) {\n      onGameSelect(game.id);\n    }\n  }, [onGameSelect]);\n\n  const handleMapClick = useCallback((event: React.MouseEvent<HTMLDivElement>) => {\n    if (!allowLocationSelection) return;\n\n    const rect = event.currentTarget.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    // Convert pixel coordinates to lat/lng (simplified)\n    const lat = mapCenter.latitude + (y - rect.height / 2) * -0.001;\n    const lng = mapCenter.longitude + (x - rect.width / 2) * 0.001;\n\n    const location = { latitude: lat, longitude: lng };\n    setSelectedLocation(location);\n\n    if (onLocationSelect) {\n      onLocationSelect(location);\n    }\n  }, [allowLocationSelection, mapCenter, onLocationSelect]);\n\n  const zoomIn = useCallback(() => {\n    setMapZoom(prev => Math.min(prev + 1, 18));\n  }, []);\n\n  const zoomOut = useCallback(() => {\n    setMapZoom(prev => Math.max(prev - 1, 1));\n  }, []);\n\n  const resetView = useCallback(() => {\n    if (currentLocation) {\n      setMapCenter(currentLocation);\n    }\n    setMapZoom(13);\n    setSelectedLocation(null);\n  }, [currentLocation]);\n\n  const getSportColor = (sport: string): string => {\n    const colors = {\n      'Basketball': 'bg-sport-basketball',\n      'Soccer': 'bg-sport-soccer', \n      'Tennis': 'bg-sport-tennis',\n      'Volleyball': 'bg-sport-volleyball',\n      'Football': 'bg-sport-football',\n      'Baseball': 'bg-sport-baseball'\n    };\n    return colors[sport as keyof typeof colors] || 'bg-primary';\n  };\n\n  if (locationError) {\n    return (\n      <div className={`relative ${className}`}>\n        <EmptyState\n          icon={<MapPin className=\"w-16 h-16\" />}\n          title=\"Location Access Required\"\n          description=\"Please enable location access to view the map and find nearby games.\"\n          action={{\n            label: \"Enable Location\",\n            onClick: requestLocation\n          }}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className={`relative overflow-hidden rounded-lg ${className}`}>\n      {/* Map Container */}\n      <div\n        ref={mapRef}\n        className={`relative w-full h-full min-h-[400px] cursor-crosshair transition-all duration-300 ${\n          showSatellite ? 'bg-gray-800' : 'bg-green-100'\n        }`}\n        onClick={handleMapClick}\n        role=\"application\"\n        aria-label=\"Interactive map showing games and locations\"\n      >\n        {/* Loading State */}\n        {(!isMapLoaded || locationLoading) && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-muted/50 backdrop-blur-sm z-10\">\n            <LoadingSpinner size=\"lg\" text=\"Loading map...\" />\n          </div>\n        )}\n\n        {/* Map Background Pattern */}\n        <div \n          className={`absolute inset-0 opacity-30 ${\n            showSatellite \n              ? 'bg-gradient-to-br from-gray-900 via-gray-700 to-gray-800' \n              : 'bg-gradient-to-br from-green-200 via-blue-100 to-green-300'\n          }`}\n          style={{\n            backgroundImage: showSatellite \n              ? 'radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%)'\n              : 'url(\"data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%239C92AC\" fill-opacity=\"0.1\"%3E%3Ccircle cx=\"30\" cy=\"30\" r=\"2\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")'\n          }}\n        />\n\n        {/* Current Location Marker */}\n        {showCurrentLocation && currentLocation && (\n          <div\n            className=\"absolute z-20\"\n            style={{\n              left: '50%',\n              top: '50%',\n              transform: 'translate(-50%, -50%)'\n            }}\n          >\n            <div className=\"relative\">\n              <div className=\"w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow-lg\" />\n              <div className=\"absolute inset-0 w-4 h-4 bg-blue-500 rounded-full animate-ping opacity-30\" />\n            </div>\n          </div>\n        )}\n\n        {/* Game Markers */}\n        {showGameMarkers && mapGames.map((game, index) => {\n          const isSelected = selectedGameId === game.id;\n          const isHovered = hoveredGameId === game.id;\n          const distance = currentLocation ? calculateDistance(\n            currentLocation.latitude,\n            currentLocation.longitude,\n            game.location.latitude,\n            game.location.longitude\n          ) : null;\n\n          return (\n            <div\n              key={game.id}\n              className=\"absolute z-10 cursor-pointer\"\n              style={{\n                left: `${45 + index * 8}%`, // Spread markers across map\n                top: `${40 + index * 6}%`\n              }}\n              onClick={(e) => {\n                e.stopPropagation();\n                centerOnGame(game);\n              }}\n              onMouseEnter={() => setHoveredGameId(game.id)}\n              onMouseLeave={() => setHoveredGameId(null)}\n            >\n              <div className={`relative ${isSelected || isHovered ? 'z-30' : 'z-10'}`}>\n                {/* Marker */}\n                <div className={`\n                  w-8 h-8 rounded-full border-2 border-white shadow-lg flex items-center justify-center\n                  ${getSportColor(game.sport)} ${isSelected ? 'ring-2 ring-primary' : ''}\n                  transition-all duration-200\n                `}>\n                  <Users className=\"w-4 h-4 text-white\" />\n                </div>\n\n                {/* Game Info Popup */}\n                {(isSelected || isHovered) && (\n                  <div\n                    className=\"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2\"\n                  >\n                    <Card className=\"w-64 shadow-lg border-2\">\n                      <CardContent className=\"p-3\">\n                        <div className=\"space-y-2\">\n                          <div className=\"flex items-center justify-between\">\n                            <h4 className=\"font-medium truncate\">{game.title}</h4>\n                            <Badge variant=\"secondary\" className=\"text-xs\">\n                              {game.sport}\n                            </Badge>\n                          </div>\n                          \n                          <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n                            <div className=\"flex items-center gap-1\">\n                              <Clock className=\"w-3 h-3\" />\n                              {game.time}\n                            </div>\n                            <div className=\"flex items-center gap-1\">\n                              <Users className=\"w-3 h-3\" />\n                              {game.players}/{game.maxPlayers}\n                            </div>\n                            {game.cost !== 'Free' && (\n                              <div className=\"flex items-center gap-1\">\n                                <DollarSign className=\"w-3 h-3\" />\n                                {game.cost}\n                              </div>\n                            )}\n                          </div>\n\n                          <div className=\"flex items-center justify-between\">\n                            <span className=\"text-xs text-muted-foreground\">\n                              {game.locationName}\n                            </span>\n                            {distance && (\n                              <span className=\"text-xs text-muted-foreground\">\n                                {formatDistance(distance)} away\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n\n        {/* Selected Location Marker */}\n        {selectedLocation && allowLocationSelection && (\n          <div\n            className=\"absolute z-20\"\n            style={{\n              left: '60%',\n              top: '45%',\n              transform: 'translate(-50%, -50%)'\n            }}\n          >\n            <div className=\"flex flex-col items-center\">\n              <MapPin className=\"w-8 h-8 text-destructive drop-shadow-lg\" />\n              <div className=\"mt-1 px-2 py-1 bg-white rounded shadow text-xs\">\n                Selected Location\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Map Controls */}\n      <div className=\"absolute top-4 right-4 flex flex-col gap-2 z-30\">\n        {/* Layer Toggle */}\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"bg-background/95 backdrop-blur-sm\"\n          onClick={() => setShowSatellite(!showSatellite)}\n          aria-label={showSatellite ? \"Switch to map view\" : \"Switch to satellite view\"}\n        >\n          <Layers className=\"w-4 h-4\" />\n        </Button>\n\n        {/* Zoom Controls */}\n        <div className=\"flex flex-col gap-1\">\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"bg-background/95 backdrop-blur-sm\"\n            onClick={zoomIn}\n            aria-label=\"Zoom in\"\n          >\n            <Plus className=\"w-4 h-4\" />\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"bg-background/95 backdrop-blur-sm\"\n            onClick={zoomOut}\n            aria-label=\"Zoom out\"\n          >\n            <Minus className=\"w-4 h-4\" />\n          </Button>\n        </div>\n\n        {/* Current Location */}\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"bg-background/95 backdrop-blur-sm\"\n          onClick={centerOnCurrentLocation}\n          disabled={locationLoading}\n          aria-label=\"Center on current location\"\n        >\n          {locationLoading ? (\n            <LoadingSpinner size=\"sm\" />\n          ) : (\n            <Crosshair className=\"w-4 h-4\" />\n          )}\n        </Button>\n\n        {/* Reset View */}\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"bg-background/95 backdrop-blur-sm\"\n          onClick={resetView}\n          aria-label=\"Reset map view\"\n        >\n          <RotateCcw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n\n      {/* Map Legend */}\n      <div className=\"absolute bottom-4 left-4 z-30\">\n        <Card className=\"bg-background/95 backdrop-blur-sm\">\n          <CardContent className=\"p-3\">\n            <div className=\"text-xs space-y-1\">\n              <div className=\"font-medium mb-2\">Legend</div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-3 h-3 bg-blue-500 rounded-full\" />\n                <span>Your Location</span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-3 h-3 bg-primary rounded-full\" />\n                <span>Games</span>\n              </div>\n              {selectedLocation && (\n                <div className=\"flex items-center gap-2\">\n                  <MapPin className=\"w-3 h-3 text-destructive\" />\n                  <span>Selected</span>\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Game Count Badge */}\n      {showGameMarkers && mapGames.length > 0 && (\n        <div className=\"absolute top-4 left-4 z-30\">\n          <Badge variant=\"secondary\" className=\"bg-background/95 backdrop-blur-sm\">\n            {mapGames.length} game{mapGames.length !== 1 ? 's' : ''} shown\n          </Badge>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default MapView;","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { useGeolocation } from '../hooks/useGeolocation';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Badge } from './ui/badge';\nimport { ArrowLeft, Search, SlidersHorizontal } from 'lucide-react';\nimport { MapView } from './MapView';\n\n\n\nconst sportFilters = [\n  { name: 'All Sports', value: 'all' },\n  { name: 'Basketball', value: 'basketball' },\n  { name: 'Soccer', value: 'soccer' },\n  { name: 'Tennis', value: 'tennis' },\n  { name: 'Pickleball', value: 'pickleball' },\n  { name: 'Volleyball', value: 'volleyball' },\n  { name: 'Football', value: 'football' },\n  { name: 'Baseball', value: 'baseball' },\n];\n\n// Simple GameCard component\nfunction SimpleGameCard({ game, onSelect }: { game: any; onSelect: () => void }) {\n  return (\n    <div \n      className=\"bg-card rounded-lg p-4 border border-border cursor-pointer hover:shadow-md transition-shadow\"\n      onClick={onSelect}\n    >\n      <div className=\"flex items-start justify-between mb-3\">\n        <div>\n          <h3 className=\"font-semibold text-lg\">{game.title}</h3>\n          <p className=\"text-sm text-muted-foreground\">{game.sport}</p>\n        </div>\n        <div className=\"text-right\">\n          <div className=\"text-sm font-medium\">{game.cost}</div>\n          <div className=\"text-xs text-muted-foreground\">\n            {game.currentPlayers}/{game.maxPlayers} players\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"space-y-2 text-sm\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-muted-foreground\">üìç</span>\n          <span>{game.location}</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-muted-foreground\">üïí</span>\n          <span>{game.date} at {game.time}</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-muted-foreground\">üìè</span>\n          <span>{game.distance}</span>\n        </div>\n      </div>\n      \n      <p className=\"text-sm text-muted-foreground mt-3\">{game.description}</p>\n      \n      {game.isJoined && (\n        <div className=\"mt-3\">\n          <span className=\"inline-block bg-success/20 text-success dark:bg-success/30 dark:text-success text-xs px-2 py-1 rounded\">\n            Joined ‚úì\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport function SearchDiscovery() {\n  const navigate = useNavigate();\n  const { latitude: userLat, longitude: userLng } = useGeolocation();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedSport, setSelectedSport] = useState('all');\n  const [showFilters, setShowFilters] = useState(false);\n  const [selectedView, setSelectedView] = useState<'list' | 'map'>('list');\n  const [games, setGames] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  // Load games from Supabase\n  useEffect(() => {\n    const loadGames = async () => {\n      setLoading(true);\n      try {\n        const gamesData = await SupabaseService.getGames();\n        setGames(gamesData);\n      } catch (error) {\n        console.error('Error loading games:', error);\n        setGames([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadGames();\n  }, []);\n\n  const handleGameSelect = (gameId: string) => {\n    navigate(`/game/${gameId}`);\n  };\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  const filteredResults = games.filter(game => {\n    const matchesSearch = game.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                         game.sport.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                         game.location.toLowerCase().includes(searchQuery.toLowerCase());\n    const matchesSport = selectedSport === 'all' || game.sport.toLowerCase() === selectedSport.toLowerCase();\n    return matchesSearch && matchesSport;\n  });\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10\">\n        <div className=\"flex items-center gap-4 px-4 py-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={handleBack}>\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n            <Input\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search games, sports, locations...\"\n              className=\"pl-10\"\n            />\n          </div>\n          <Button \n            variant=\"outline\" \n            size=\"icon\"\n            onClick={() => setShowFilters(!showFilters)}\n          >\n            <SlidersHorizontal className=\"w-4 h-4\" />\n          </Button>\n        </div>\n\n        {/* Filter Bar */}\n        {showFilters && (\n          <div className=\"px-4 pb-4 space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Sort by</label>\n                <select className=\"w-full p-2 border rounded-md\">\n                  <option value=\"distance\">Distance</option>\n                  <option value=\"time\">Time</option>\n                  <option value=\"players\">Players Needed</option>\n                  <option value=\"cost\">Cost</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Date</label>\n                <select className=\"w-full p-2 border rounded-md\">\n                  <option value=\"\">Any time</option>\n                  <option value=\"today\">Today</option>\n                  <option value=\"tomorrow\">Tomorrow</option>\n                  <option value=\"week\">This Week</option>\n                  <option value=\"month\">This Month</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Sport Filter Chips */}\n        <div className=\"px-4 pb-4\">\n          <div className=\"flex gap-2 overflow-x-auto pb-2\">\n            {sportFilters.map((sport) => (\n              <Badge\n                key={sport.value}\n                variant={selectedSport === sport.value ? \"default\" : \"outline\"}\n                className=\"cursor-pointer whitespace-nowrap\"\n                onClick={() => setSelectedSport(sport.value)}\n              >\n                {sport.name}\n              </Badge>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"px-4 py-6\">\n        {/* View Toggle */}\n        <div className=\"flex gap-2 mb-6\">\n          <Button\n            variant={selectedView === 'list' ? 'default' : 'outline'}\n            size=\"sm\"\n            onClick={() => setSelectedView('list')}\n          >\n            List View\n          </Button>\n          <Button\n            variant={selectedView === 'map' ? 'default' : 'outline'}\n            size=\"sm\"\n            onClick={() => setSelectedView('map')}\n          >\n            Map View\n          </Button>\n        </div>\n\n        {selectedView === 'list' ? (\n          <div className=\"space-y-6\">\n            {/* Results Header */}\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-lg font-semibold\">\n                  {filteredResults.length} games found\n                </h2>\n                {searchQuery && (\n                  <p className=\"text-sm text-muted-foreground\">\n                    Results for \"{searchQuery}\"\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {/* Results List */}\n            <div className=\"space-y-4\">\n              {filteredResults.map((game) => (\n                <div key={game.id} className=\"relative\">\n                  <SimpleGameCard \n                    game={game} \n                    onSelect={() => handleGameSelect(game.id)}\n                  />\n                  <div className=\"absolute top-4 left-4 bg-background/95 backdrop-blur-sm rounded px-2 py-1\">\n                    <span className=\"text-xs text-muted-foreground\">{game.distance}</span>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {filteredResults.length === 0 && (\n              <div className=\"text-center py-12\">\n                <div className=\"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <Search className=\"w-6 h-6 text-muted-foreground\" />\n                </div>\n                <h3 className=\"text-lg font-semibold mb-2\">No games found</h3>\n                <p className=\"text-muted-foreground mb-4\">\n                  Try adjusting your search or filters\n                </p>\n                <Button variant=\"outline\" onClick={() => {\n                  setSearchQuery('');\n                  setSelectedSport('all');\n                }}>\n                  Clear filters\n                </Button>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            {/* Map View Content */}\n            <div className=\"bg-card rounded-lg p-4\">\n              <h3 className=\"text-lg font-semibold mb-4\">Games Near You</h3>\n              {userLat && userLng ? (\n                <div className=\"relative\">\n                  <MapView\n                    games={filteredResults.map(game => ({\n                      id: game.id,\n                      title: game.title,\n                      sport: game.sport,\n                      location: {\n                        latitude: game.latitude || userLat + (Math.random() - 0.5) * 0.01,\n                        longitude: game.longitude || userLng + (Math.random() - 0.5) * 0.01\n                      },\n                      locationName: game.location,\n                      date: game.date,\n                      time: game.time,\n                      players: game.players,\n                      maxPlayers: game.maxPlayers,\n                      cost: game.cost,\n                      difficulty: game.difficulty\n                    }))}\n                    center={{ latitude: userLat, longitude: userLng }}\n                    zoom={13}\n                    className=\"h-64\"\n                    showCurrentLocation={true}\n                    showGameMarkers={true}\n                  />\n                  <div className=\"absolute top-2 right-2 bg-background/90 backdrop-blur-sm rounded-md px-2 py-1 text-xs\">\n                    üìç You ‚Ä¢ üéÆ Games\n                  </div>\n                </div>\n              ) : (\n                <div className=\"w-full h-64 bg-muted rounded-lg flex flex-col items-center justify-center border\">\n                  <div className=\"text-4xl mb-2\">üìç</div>\n                  <p className=\"text-muted-foreground text-center\">\n                    Allow location access to see games on map\n                  </p>\n                  <button \n                    onClick={() => navigator.geolocation?.getCurrentPosition(() => window.location.reload())}\n                    className=\"mt-2 text-sm text-primary hover:underline\"\n                  >\n                    Enable Location\n                  </button>\n                </div>\n              )}\n            </div>\n            \n            {/* Game List Below Map */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold\">\n                  {filteredResults.length} games in map area\n                </h3>\n              </div>\n              {filteredResults.map((game) => (\n                <SimpleGameCard\n                  key={game.id}\n                  game={game}\n                  onSelect={() => handleGameSelect(game.id)}\n                />\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":["__iconNode","Crosshair","createLucideIcon","Layers","Minus","RotateCcw","SlidersHorizontal","calculateDistance","lat1","lon1","lat2","lon2","dLat","toRadians","dLon","a","degrees","formatDistance","distance","unit","getBoundsFromCenter","center","radiusKm","latOffset","lonOffset","useLocation","options","enableHighAccuracy","timeout","maximumAge","watchPosition","autoRequest","state","setState","useState","watchIdRef","useRef","requestInProgressRef","isSupported","checkPermission","useCallback","prev","permission","requestLocation","resolve","geoOptions","successCallback","position","location","errorCallback","error","errorMessage","toast","startWatching","stopWatching","clearLocation","getDistanceTo","target","getFormattedDistanceTo","isNearby","useEffect","MapView","games","selectedGameId","onGameSelect","onLocationSelect","showCurrentLocation","showGameMarkers","allowLocationSelection","zoom","className","allGames","useGames","currentLocation","locationLoading","locationError","mapCenter","setMapCenter","mapZoom","setMapZoom","isMapLoaded","setIsMapLoaded","selectedLocation","setSelectedLocation","hoveredGameId","setHoveredGameId","showSatellite","setShowSatellite","mapRef","mapGames","game","timer","centerOnCurrentLocation","centerOnGame","handleMapClick","event","rect","x","y","lat","lng","zoomIn","zoomOut","resetView","getSportColor","sport","jsx","EmptyState","MapPin","jsxs","LoadingSpinner","index","isSelected","isHovered","e","Users","Card","CardContent","Badge","Clock","DollarSign","Button","Plus","sportFilters","SimpleGameCard","onSelect","SearchDiscovery","navigate","useNavigate","userLat","userLng","useGeolocation","searchQuery","setSearchQuery","selectedSport","setSelectedSport","showFilters","setShowFilters","selectedView","setSelectedView","setGames","loading","setLoading","gamesData","SupabaseService","handleGameSelect","gameId","handleBack","filteredResults","matchesSearch","matchesSport","ArrowLeft","Search","Input"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}