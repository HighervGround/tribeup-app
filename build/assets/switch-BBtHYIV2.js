import{r as s,x as I,p as C,j as h,h as x}from"./index-CLSPCKxk.js";import{c as A}from"./index-CnRpI5Qk.js";import{u as y}from"./index-DIHSqDeb.js";import{P as R}from"./index--ToWHCIa.js";function T(e,r,{checkForDefaultPrevented:t=!0}={}){return function(o){if(e?.(o),t===!1||!o.defaultPrevented)return r?.(o)}}var H=I[" useInsertionEffect ".trim().toString()]||y;function M({prop:e,defaultProp:r,onChange:t=()=>{},caller:c}){const[o,a,u]=U({defaultProp:r,onChange:t}),n=e!==void 0,d=n?e:o;{const i=s.useRef(e!==void 0);s.useEffect(()=>{const l=i.current;l!==n&&console.warn(`${c} is changing from ${l?"controlled":"uncontrolled"} to ${n?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),i.current=n},[n,c])}const f=s.useCallback(i=>{if(n){const l=O(i)?i(e):i;l!==e&&u.current?.(l)}else a(i)},[n,e,a,u]);return[d,f]}function U({defaultProp:e,onChange:r}){const[t,c]=s.useState(e),o=s.useRef(t),a=s.useRef(r);return H(()=>{a.current=r},[r]),s.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,c,a]}function O(e){return typeof e=="function"}function $(e){const r=s.useRef({value:e,previous:e});return s.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}function L(e){const[r,t]=s.useState(void 0);return y(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});const c=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,n;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;u=f.inlineSize,n=f.blockSize}else u=e.offsetWidth,n=e.offsetHeight;t({width:u,height:n})});return c.observe(e,{box:"border-box"}),()=>c.unobserve(e)}else t(void 0)},[e]),r}var S="Switch",[W,Y]=A(S),[q,D]=W(S),E=s.forwardRef((e,r)=>{const{__scopeSwitch:t,name:c,checked:o,defaultChecked:a,required:u,disabled:n,value:d="on",onCheckedChange:f,form:i,...l}=e,[p,b]=s.useState(null),w=C(r,m=>b(m)),g=s.useRef(!1),k=p?i||!!p.closest("form"):!0,[v,B]=M({prop:o,defaultProp:a??!1,onChange:f,caller:S});return h.jsxs(q,{scope:t,checked:v,disabled:n,children:[h.jsx(R.button,{type:"button",role:"switch","aria-checked":v,"aria-required":u,"data-state":_(v),"data-disabled":n?"":void 0,disabled:n,value:d,...l,ref:w,onClick:T(e.onClick,m=>{B(N=>!N),k&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),k&&h.jsx(j,{control:p,bubbles:!g.current,name:c,value:d,checked:v,required:u,disabled:n,form:i,style:{transform:"translateX(-100%)"}})]})});E.displayName=S;var P="SwitchThumb",z=s.forwardRef((e,r)=>{const{__scopeSwitch:t,...c}=e,o=D(P,t);return h.jsx(R.span,{"data-state":_(o.checked),"data-disabled":o.disabled?"":void 0,...c,ref:r})});z.displayName=P;var F="SwitchBubbleInput",j=s.forwardRef(({__scopeSwitch:e,control:r,checked:t,bubbles:c=!0,...o},a)=>{const u=s.useRef(null),n=C(u,a),d=$(t),f=L(r);return s.useEffect(()=>{const i=u.current;if(!i)return;const l=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(l,"checked").set;if(d!==t&&b){const w=new Event("click",{bubbles:c});b.call(i,t),i.dispatchEvent(w)}},[d,t,c]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:n,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});j.displayName=F;function _(e){return e?"checked":"unchecked"}var X=E,G=z;function Z({className:e,...r}){return h.jsx(X,{"data-slot":"switch",className:x("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:h.jsx(G,{"data-slot":"switch-thumb",className:x("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}export{Z as S,M as a,$ as b,T as c,L as u};
//# sourceMappingURL=switch-BBtHYIV2.js.map
