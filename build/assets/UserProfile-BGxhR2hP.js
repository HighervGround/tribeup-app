import{j as e}from"./ui-Bz49QZar.js";import{e as s,r as a}from"./vendor-CVaDA-xz.js";import{u as t,B as i,C as l,a as r,f as c,g as n,h as d,c as m,d as o,b as x}from"./index-C1rAQj-O.js";import{T as h,a as j,b as u,c as p}from"./tabs-2Rw60kq6.js";import{u as v,a as f,b as g}from"./useUserProfile-I0Es53RK.js";import{A as N}from"./AchievementBadge-CxNhMtEW.js";import{f as b}from"./dateUtils-ByixnkWz.js";import{i as y,g as w,l as S,m as P}from"./utils-e0hEqRVR.js";import"./data-BwpJIDKS.js";function A(){const A=s(),{user:C}=t(),[k,G]=a.useState("overview"),{data:H,isLoading:L}=v(C?.id||""),{data:U=[],isLoading:_}=f(C?.id||"",5),{data:z=[],isLoading:B}=g(C?.id||""),D=L||_||B,M=a.useMemo(()=>[{label:"Games Played",value:H?.totalGamesPlayed?.toString()||"0",icon:y},{label:"Games Hosted",value:H?.totalGamesHosted?.toString()||"0",icon:w},{label:"Achievements",value:z.length.toString(),icon:S}],[H,z]),T=a.useMemo(()=>U.map(e=>({id:e.games?.id||e.id,title:e.games?.title||e.title,sport:e.games?.sport||e.sport,date:e.games?.date||e.date,time:e.games?.time||e.time,location:e.games?.location||e.location,isHost:(e.games?.creator_id||e.creator_id)===C?.id})),[U,C?.id]),V=C?.name||"User Profile",E=C?.username?`@${C.username}`:"@user",I=C?.bio||"Sports enthusiast â€¢ Always up for a game!",J=C?.avatar||"",O=C?.preferences?.sports||["Basketball","Soccer","Tennis","Volleyball"],R=!(C?.name&&C?.email);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 pt-12 pb-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Profile"}),e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>A("/settings"),children:e.jsx(P,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-4 space-y-6",children:[e.jsx(l,{children:e.jsxs(r,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(c,{className:"w-16 h-16",children:[e.jsx(n,{src:J,alt:V}),e.jsx(d,{className:"text-xl",children:V.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold",children:V}),e.jsx("p",{className:"text-muted-foreground",children:E}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:I})]})]}),e.jsx(i,{variant:"outline",className:"w-full",onClick:()=>A("/profile/edit"),children:"Edit Profile"}),R&&e.jsx(i,{variant:"outline",className:"w-full mt-2",onClick:()=>A("/onboarding"),children:"Complete Profile"})]})}),e.jsxs(l,{children:[e.jsx(m,{children:e.jsx(o,{children:"Stats"})}),e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:M.map(s=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(s.icon,{className:"w-5 h-5 text-primary"})}),e.jsx("div",{className:"text-2xl font-semibold",children:s.value}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.label})]},s.label))})})]}),e.jsxs(l,{children:[e.jsx(m,{children:e.jsx(o,{children:"Sports I Play"})}),e.jsx(r,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:O.map(s=>e.jsx(x,{variant:"secondary",children:s},s))})})]}),e.jsxs(h,{value:k,onValueChange:G,children:[e.jsxs(j,{className:"grid w-full grid-cols-2",children:[e.jsx(u,{value:"overview",children:"Overview"}),e.jsx(u,{value:"achievements",children:"Achievements"})]}),e.jsx(p,{value:"overview",className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(m,{children:e.jsx(o,{children:"Recent Games"})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:D?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Loading recent games..."})]}):T.length>0?T.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:s.title}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(s.date).toLocaleDateString()," at ",b(s.time)]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.isHost&&e.jsx(x,{variant:"secondary",className:"text-xs",children:"Host"}),e.jsx(x,{variant:"outline",children:s.sport})]})]},s.id||a)):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(y,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No recent games"}),e.jsx("p",{className:"text-sm",children:"Join your first game to see it here!"})]})})})]})}),e.jsx(p,{value:"achievements",className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(m,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"My Achievements (",z.length,")"]})}),e.jsx(r,{children:z.length>0?e.jsx(N,{achievements:z.map(e=>({...e.achievements,earned_at:e.earned_at})),maxDisplay:12,size:"md",layout:"card",showScore:!0}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(S,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No achievements yet"}),e.jsx("p",{className:"text-sm",children:"Play games to unlock your first achievement!"})]})})]})})]})]})]})}export{A as default};
//# sourceMappingURL=UserProfile-BGxhR2hP.js.map
