import{j as e}from"./ui-CuzVkv4o.js";import{r as y}from"./vendor-Dit9F4CM.js";import{c as $,j as w,B as i,p as f,u as B,q as U,r as E,R as I,d as D,C as W,a as G,t as P}from"./index-D8qAyT0h.js";import{C}from"./calendar-Dnyhi4sR.js";import{M as _}from"./message-square-pivzAhjq.js";import{C as Y}from"./circle-check-big-CcC9bgFa.js";import{u as F}from"./useDeepLinks-MwwUYIcW.js";import{A as J}from"./arrow-left-COLykocJ.js";import{S as H}from"./settings-BeDTd13k.js";import{T as b}from"./trash-2-CLeul3xH.js";import{C as K}from"./check-CniAUXzJ.js";import{U as k}from"./users-D1NbQ7Un.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Q=$("check-check",O);function V({icon:t,title:h,description:n,action:l,className:d,size:m="md"}){const c={sm:"py-8 px-4",md:"py-12 px-6",lg:"py-16 px-8"},g={sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"};return e.jsxs("div",{className:w("flex flex-col items-center justify-center text-center",c[m],d),children:[t&&e.jsx("div",{className:w("text-muted-foreground mb-4 flex items-center justify-center",g[m]),children:t}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:h}),n&&e.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:n}),l&&e.jsx(i,{onClick:l.onClick,variant:l.variant||"default",children:l.label})]})}function X({filter:t}){const n=(()=>{switch(t){case"unread":return{title:"All caught up!",description:"You have no unread notifications. You're all up to date!",icon:e.jsx(Y,{className:"w-8 h-8"})};case"messages":return{title:"No message notifications",description:"You haven't received any message notifications recently.",icon:e.jsx(_,{className:"w-8 h-8"})};case"games":return{title:"No game notifications",description:"No game updates, reminders, or join requests at the moment.",icon:e.jsx(C,{className:"w-8 h-8"})};default:return{title:"No notifications",description:"When you receive notifications, they'll appear here. Stay tuned for updates!",icon:e.jsx(f,{className:"w-8 h-8"})}}})();return e.jsx(V,{icon:n.icon,title:n.title,description:n.description,size:"md"})}const Z=t=>{switch(t){case"new_message":return e.jsx(_,{className:"w-5 h-5 text-blue-500"});case"game_reminder":return e.jsx(C,{className:"w-5 h-5 text-orange-500"});case"game_update":return e.jsx(k,{className:"w-5 h-5 text-green-500"});case"join_request":return e.jsx(k,{className:"w-5 h-5 text-purple-500"});case"system":return e.jsx(f,{className:"w-5 h-5 text-gray-500"});default:return e.jsx(f,{className:"w-5 h-5 text-gray-500"})}},ee=t=>{switch(t){case"new_message":return"bg-blue-500/10 border-blue-500/20";case"game_reminder":return"bg-orange-500/10 border-orange-500/20";case"game_update":return"bg-green-500/10 border-green-500/20";case"join_request":return"bg-purple-500/10 border-purple-500/20";case"system":return"bg-gray-500/10 border-gray-500/20";default:return"bg-muted/50 border-border"}};function xe(){const t=B(),{navigateToGame:h,navigateToChat:n,navigateToUser:l}=F(),[d,m]=y.useState(!1),[c,g]=y.useState("all"),{notifications:p,unreadCount:u,markAsRead:j,markAllAsRead:A,deleteNotification:z,clearAll:S}=U(),N=p.filter(s=>{switch(c){case"unread":return!s.read;case"messages":return s.type==="new_message";case"games":return["game_reminder","game_update","join_request"].includes(s.type);default:return!0}}),q=async s=>{if(s.read||j(s.id),s.actionUrl){const r=s.actionUrl;if(r.startsWith("/game/")){const a=r.split("/")[2];h(a)}else if(r.startsWith("/chat/")){const a=r.split("/"),o=a[2],x=a[3];n(o,x)}else if(r.startsWith("/user/")){const a=r.split("/")[2];l(a)}else t(r)}},M=async()=>{m(!0),await new Promise(s=>setTimeout(s,1e3)),m(!1),P.success("Notifications refreshed")},R=()=>{A()},T=()=>{S()},L=s=>{const a=new Date().getTime()-s.getTime(),o=Math.floor(a/6e4),x=Math.floor(o/60),v=Math.floor(x/24);return o<1?"Just now":o<60?`${o}m ago`:x<24?`${x}h ago`:v<7?`${v}d ago`:s.toLocaleDateString()};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>t(-1),"aria-label":"Go back",children:e.jsx(J,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl",children:"Notifications"}),u>0&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[u," unread notification",u!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:M,disabled:d,"aria-label":"Refresh notifications",children:d?e.jsx(E,{size:"sm"}):e.jsx(I,{className:"w-4 h-4"})}),e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>t("/settings/notifications"),"aria-label":"Notification settings",children:e.jsx(H,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{key:"all",label:"All",count:p.length},{key:"unread",label:"Unread",count:u},{key:"games",label:"Games",count:p.filter(s=>["game_reminder","game_update","join_request"].includes(s.type)).length}].map(s=>e.jsxs("button",{onClick:()=>g(s.key),className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all whitespace-nowrap ${c===s.key?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[e.jsx("span",{children:s.label}),s.count>0&&e.jsx(D,{variant:c===s.key?"secondary":"outline",className:"text-xs min-w-[20px] h-5",children:s.count})]},s.key))})}),p.length>0&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"flex gap-2",children:[u>0&&e.jsxs(i,{variant:"outline",size:"sm",onClick:R,className:"text-xs",children:[e.jsx(Q,{className:"w-3 h-3 mr-1"}),"Mark All Read"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:T,className:"text-xs text-destructive hover:text-destructive",children:[e.jsx(b,{className:"w-3 h-3 mr-1"}),"Clear All"]})]})})]}),e.jsx("div",{className:"px-4 py-6",id:"main-content",children:d?e.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((s,r)=>e.jsx("div",{className:"h-20 bg-muted/50 rounded-lg animate-pulse"},r))},"loading"):N.length===0?e.jsx("div",{children:e.jsx(X,{filter:c})},"empty"):e.jsx("div",{className:"space-y-3",children:N.map((s,r)=>e.jsx("div",{children:e.jsx(W,{className:`cursor-pointer transition-all hover:shadow-md ${s.read?"":"border-l-4 border-l-primary"} ${ee(s.type)}`,onClick:()=>q(s),children:e.jsx(G,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:Z(s.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`font-medium ${s.read?"text-muted-foreground":"text-foreground"}`,children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:s.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:L(s.timestamp)}),!s.read&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[!s.read&&e.jsx(i,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),j(s.id)},"aria-label":"Mark as read",className:"h-8 w-8 p-0",children:e.jsx(K,{className:"w-3 h-3"})}),e.jsx(i,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),z(s.id)},"aria-label":"Delete notification",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsx(b,{className:"w-3 h-3"})})]})]})})]})})})},s.id))},"notifications")})]})}export{xe as default};
//# sourceMappingURL=NotificationCenter-CJz0mzR9.js.map
