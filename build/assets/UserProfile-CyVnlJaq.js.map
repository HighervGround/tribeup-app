{"version":3,"file":"UserProfile-CyVnlJaq.js","sources":["../../src/components/AchievementBadge.tsx","../../src/components/AchievementProgressIndicator.tsx","../../src/components/UserProfile.tsx"],"sourcesContent":["import React from 'react';\nimport { Badge } from './ui/badge';\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from './ui/tooltip';\nimport { Trophy, Star, Crown, Target, Handshake, User } from 'lucide-react';\n\ninterface Achievement {\n  id: string;\n  name: string;\n  description: string;\n  icon: string;\n  category: string;\n  points: number;\n  earned_at?: string;\n}\n\ninterface AchievementBadgeProps {\n  achievement: Achievement;\n  size?: 'sm' | 'md' | 'lg';\n  showTooltip?: boolean;\n  variant?: 'default' | 'outline' | 'secondary';\n}\n\nconst getAchievementIcon = (iconName: string) => {\n  switch (iconName) {\n    case 'trophy':\n      return 'ðŸ†';\n    case 'star':\n      return 'â­';\n    case 'handshake':\n      return 'ðŸ¤';\n    case 'runner':\n      return 'ðŸƒ';\n    case 'crown':\n      return 'ðŸ‘‘';\n    default:\n      return 'ðŸŽ¯';\n  }\n};\n\nconst getCategoryIcon = (category: string) => {\n  switch (category) {\n    case 'engagement':\n      return <Target className=\"w-3 h-3\" />;\n    case 'milestone':\n      return <Trophy className=\"w-3 h-3\" />;\n    case 'hosting':\n      return <Crown className=\"w-3 h-3\" />;\n    case 'social':\n      return <Star className=\"w-3 h-3\" />;\n    default:\n      return <Trophy className=\"w-3 h-3\" />;\n  }\n};\n\nconst getCategoryColor = (category: string) => {\n  switch (category) {\n    case 'engagement':\n      return 'bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900 dark:text-blue-300';\n    case 'milestone':\n      return 'bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900 dark:text-yellow-300';\n    case 'hosting':\n      return 'bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900 dark:text-purple-300';\n    case 'social':\n      return 'bg-green-100 text-green-700 border-green-200 dark:bg-green-900 dark:text-green-300';\n    default:\n      return 'bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-900 dark:text-gray-300';\n  }\n};\n\nexport function AchievementBadge({ \n  achievement, \n  size = 'md', \n  showTooltip = true,\n  variant = 'default'\n}: AchievementBadgeProps) {\n  const sizeClasses = {\n    sm: 'text-xs px-1.5 py-0.5 gap-1',\n    md: 'text-xs px-2 py-1 gap-1.5',\n    lg: 'text-sm px-3 py-1.5 gap-2'\n  };\n\n  const badgeContent = (\n    <Badge \n      variant={variant}\n      className={`\n        ${sizeClasses[size]} \n        ${variant === 'default' ? getCategoryColor(achievement.category) : ''}\n        inline-flex items-center font-medium\n      `}\n    >\n      <span className=\"text-lg\">{getAchievementIcon(achievement.icon)}</span>\n      <span className=\"truncate max-w-[100px]\">{achievement.name}</span>\n      {size === 'lg' && (\n        <span className=\"text-xs opacity-75\">+{achievement.points}</span>\n      )}\n    </Badge>\n  );\n\n  if (!showTooltip) {\n    return badgeContent;\n  }\n\n  return (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          {badgeContent}\n        </TooltipTrigger>\n        <TooltipContent side=\"top\" className=\"max-w-xs\">\n          <div className=\"space-y-2\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"text-lg\">{getAchievementIcon(achievement.icon)}</span>\n              <span className=\"font-semibold\">{achievement.name}</span>\n            </div>\n            <p className=\"text-sm text-muted-foreground\">\n              {achievement.description}\n            </p>\n            <div className=\"flex items-center justify-between text-xs\">\n              <div className=\"flex items-center gap-1\">\n                {getCategoryIcon(achievement.category)}\n                <span className=\"capitalize\">{achievement.category}</span>\n              </div>\n              <span className=\"text-primary font-medium\">+{achievement.points} pts</span>\n            </div>\n            {achievement.earned_at && (\n              <p className=\"text-xs text-muted-foreground\">\n                Earned {new Date(achievement.earned_at).toLocaleDateString()}\n              </p>\n            )}\n          </div>\n        </TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  );\n}\n\ninterface AchievementGridProps {\n  achievements: Achievement[];\n  maxDisplay?: number;\n  size?: 'sm' | 'md' | 'lg';\n}\n\nexport function AchievementGrid({ \n  achievements, \n  maxDisplay = 6, \n  size = 'md' \n}: AchievementGridProps) {\n  const displayAchievements = achievements.slice(0, maxDisplay);\n  const remainingCount = Math.max(0, achievements.length - maxDisplay);\n\n  return (\n    <div className=\"flex flex-wrap gap-2\">\n      {displayAchievements.map((achievement) => (\n        <AchievementBadge\n          key={achievement.id}\n          achievement={achievement}\n          size={size}\n        />\n      ))}\n      {remainingCount > 0 && (\n        <Badge variant=\"outline\" className={`${size === 'sm' ? 'text-xs px-1.5 py-0.5' : 'text-xs px-2 py-1'}`}>\n          +{remainingCount} more\n        </Badge>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport { Progress } from './ui/progress';\nimport { Card, CardContent } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { Trophy, Target, Zap } from 'lucide-react';\n\ninterface Achievement {\n  id: string;\n  name: string;\n  description: string;\n  icon: string;\n  category: string;\n  criteria: any;\n  points: number;\n}\n\ninterface AchievementProgress {\n  achievement: Achievement;\n  progress: number;\n  total: number;\n  percentage: number;\n}\n\ninterface AchievementProgressIndicatorProps {\n  achievements: AchievementProgress[];\n  title?: string;\n  showAll?: boolean;\n}\n\nexport function AchievementProgressIndicator({ \n  achievements, \n  title = \"Next Achievements\",\n  showAll = false \n}: AchievementProgressIndicatorProps) {\n  const displayAchievements = showAll ? achievements : achievements.slice(0, 3);\n\n  if (displayAchievements.length === 0) {\n    return null;\n  }\n\n  return (\n    <Card>\n      <CardContent className=\"p-4\">\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Target className=\"w-4 h-4 text-primary\" />\n          <h3 className=\"font-semibold text-sm\">{title}</h3>\n        </div>\n        \n        <div className=\"space-y-4\">\n          {displayAchievements.map((item) => {\n            const achievement = item.achievement || item;\n            return (\n              <div key={achievement?.id || Math.random()} className=\"space-y-2\">\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-2 flex-1 min-w-0\">\n                    <span className=\"text-lg\">{achievement?.icon || 'ðŸŽ¯'}</span>\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"font-medium text-sm truncate\">\n                        {achievement?.name || 'Unknown Achievement'}\n                      </div>\n                      <div className=\"text-xs text-muted-foreground truncate\">\n                        {achievement?.description || 'No description'}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2 ml-2\">\n                    <Badge variant=\"outline\" className=\"text-xs\">\n                      +{achievement?.points || 0}\n                    </Badge>\n                  </div>\n                </div>\n                \n                <div className=\"space-y-1\">\n                  <div className=\"flex items-center justify-between text-xs\">\n                    <span className=\"text-muted-foreground\">\n                      {item.progress} / {item.total}\n                    </span>\n                    <span className=\"font-medium text-primary\">\n                      {item.percentage}%\n                    </span>\n                  </div>\n                  <Progress value={item.percentage} className=\"h-2\" />\n                </div>\n              </div>\n            );\n          })}\n        </div>\n        \n        {!showAll && achievements.length > 3 && (\n          <div className=\"text-center mt-4\">\n            <button className=\"text-xs text-muted-foreground hover:text-primary\">\n              View all achievements â†’\n            </button>\n          </div>\n        )}\n      </CardContent>\n    </Card>\n  );\n}\n\ninterface QuickProgressProps {\n  label: string;\n  current: number;\n  target: number;\n  icon?: React.ReactNode;\n  color?: 'blue' | 'green' | 'purple' | 'orange';\n}\n\nexport function QuickProgress({ \n  label, \n  current, \n  target, \n  icon = <Zap className=\"w-4 h-4\" />,\n  color = 'blue'\n}: QuickProgressProps) {\n  const percentage = Math.min((current / target) * 100, 100);\n  \n  const colorClasses = {\n    blue: 'text-blue-600 bg-blue-50 border-blue-200',\n    green: 'text-green-600 bg-green-50 border-green-200',\n    purple: 'text-purple-600 bg-purple-50 border-purple-200',\n    orange: 'text-orange-600 bg-orange-50 border-orange-200'\n  };\n\n  return (\n    <div className={`p-3 rounded-lg border ${colorClasses[color]}`}>\n      <div className=\"flex items-center justify-between mb-2\">\n        <div className=\"flex items-center gap-2\">\n          {icon}\n          <span className=\"text-sm font-medium\">{label}</span>\n        </div>\n        <span className=\"text-xs font-medium\">\n          {current}/{target}\n        </span>\n      </div>\n      <Progress value={percentage} className=\"h-1.5\" />\n    </div>\n  );\n}\n\ninterface GameProgressWidgetProps {\n  gamesPlayed: number;\n  gamesHosted: number;\n  nextAchievements: AchievementProgress[];\n}\n\nexport function GameProgressWidget({ \n  gamesPlayed, \n  gamesHosted, \n  nextAchievements \n}: GameProgressWidgetProps) {\n  // Find next participation and hosting milestones\n  const nextParticipation = nextAchievements.find(a => {\n    const achievement = a.achievement || a;\n    return achievement?.category === 'engagement' || achievement?.category === 'participation';\n  });\n  const nextHosting = nextAchievements.find(a => {\n    const achievement = a.achievement || a;\n    return achievement?.category === 'hosting' || achievement?.category === 'engagement';\n  });\n\n  return (\n    <div className=\"space-y-3\">\n      {nextParticipation && (\n        <QuickProgress\n          label=\"Games Played\"\n          current={gamesPlayed}\n          target={nextParticipation.total}\n          icon={<Trophy className=\"w-4 h-4\" />}\n          color=\"blue\"\n        />\n      )}\n      \n      {nextHosting && (\n        <QuickProgress\n          label=\"Games Hosted\"\n          current={gamesHosted}\n          target={nextHosting.total}\n          icon={<Target className=\"w-4 h-4\" />}\n          color=\"purple\"\n        />\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { Avatar, AvatarFallback, AvatarImage } from './ui/avatar';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './ui/tabs';\nimport { Settings, Trophy, Calendar, MapPin, Star, Target } from 'lucide-react';\nimport { useAppStore } from '../store/appStore';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { useUserStats, useUserRecentGames, useUserAchievements } from '../hooks/useUserProfile';\nimport { useAchievements } from '../hooks/useAchievements';\nimport { AchievementGrid } from './AchievementBadge';\nimport { AchievementProgressIndicator, GameProgressWidget } from './AchievementProgressIndicator';\nimport { formatTimeString } from '../lib/dateUtils';\n\nfunction UserProfile() {\n  const navigate = useNavigate();\n  const { user } = useAppStore();\n  const [activeTab, setActiveTab] = useState('overview');\n  \n  // Use React Query hooks for data fetching\n  const { data: stats, isLoading: statsLoading } = useUserStats(user?.id || '');\n  const { data: recentGamesData = [], isLoading: recentGamesLoading } = useUserRecentGames(user?.id || '', 5);\n  const { data: achievements = [], isLoading: achievementsLoading } = useUserAchievements(user?.id || '');\n  \n  // Use achievements hook for progress tracking\n  const { userStats: achievementStats, getNextAchievements } = useAchievements();\n  const [nextAchievements, setNextAchievements] = useState<any[]>([]);\n  \n  const loading = statsLoading || recentGamesLoading || achievementsLoading;\n\n  // Load next achievements\n  useEffect(() => {\n    const loadNextAchievements = async () => {\n      if (stats) {\n        const next = await getNextAchievements();\n        setNextAchievements(next);\n      }\n    };\n    loadNextAchievements();\n  }, [stats, getNextAchievements]);\n  \n  // Transform stats data for display\n  const userStats = useMemo(() => [\n    { label: 'Games Played', value: stats?.totalGamesPlayed?.toString() || '0', icon: Calendar },\n    { label: 'Games Hosted', value: stats?.totalGamesHosted?.toString() || '0', icon: MapPin },\n    { label: 'Achievements', value: achievements.length.toString(), icon: Trophy },\n  ], [stats, achievements]);\n  \n  // Transform recent games data\n  const recentGames = useMemo(() => {\n    return recentGamesData.map((participation: any) => ({\n      id: participation.games?.id || participation.id,\n      title: participation.games?.title || participation.title,\n      sport: participation.games?.sport || participation.sport,\n      date: participation.games?.date || participation.date,\n      time: participation.games?.time || participation.time,\n      location: participation.games?.location || participation.location,\n      isHost: (participation.games?.creator_id || participation.creator_id) === user?.id\n    }));\n  }, [recentGamesData, user?.id]);\n\n  // React Query handles all data loading automatically\n\n  // Get user data with fallbacks\n  const displayName = user?.name || 'User Profile';\n  const displayUsername = user?.username ? `@${user.username}` : '@user';\n  const displayBio = user?.bio || 'Sports enthusiast â€¢ Always up for a game!';\n  const displayAvatar = user?.avatar || '';\n  const displaySports = user?.preferences?.sports || ['Basketball', 'Soccer', 'Tennis', 'Volleyball'];\n  const needsCompletion = !(user?.name && user?.email);\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 pt-12 pb-6\">\n        <h1 className=\"text-xl font-semibold\">Profile</h1>\n        <Button variant=\"ghost\" size=\"icon\" onClick={() => navigate('/settings')}>\n          <Settings className=\"w-5 h-5\" />\n        </Button>\n      </div>\n\n      <div className=\"px-4 space-y-6\">\n        {/* Profile Info */}\n        <Card>\n          <CardContent className=\"pt-6\">\n            <div className=\"flex items-center gap-4 mb-6\">\n              <Avatar className=\"w-16 h-16\">\n                <AvatarImage src={displayAvatar} alt={displayName} />\n                <AvatarFallback className=\"text-xl\">\n                  {displayName.charAt(0).toUpperCase()}\n                </AvatarFallback>\n              </Avatar>\n              <div className=\"flex-1\">\n                <h2 className=\"text-xl font-semibold\">{displayName}</h2>\n                <p className=\"text-muted-foreground\">{displayUsername}</p>\n                <p className=\"text-sm text-muted-foreground mt-1\">\n                  {displayBio}\n                </p>\n              </div>\n            </div>\n\n            <Button variant=\"outline\" className=\"w-full\" onClick={() => navigate('/profile/edit')}>\n              Edit Profile\n            </Button>\n            {needsCompletion && (\n              <Button variant=\"outline\" className=\"w-full mt-2\" onClick={() => navigate('/onboarding')}>\n                Complete Profile\n              </Button>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Stats */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Stats</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"grid grid-cols-3 gap-4\">\n              {userStats.map((stat) => (\n                <div key={stat.label} className=\"text-center\">\n                  <div className=\"flex justify-center mb-2\">\n                    <stat.icon className=\"w-5 h-5 text-primary\" />\n                  </div>\n                  <div className=\"text-2xl font-semibold\">{stat.value}</div>\n                  <div className=\"text-xs text-muted-foreground\">{stat.label}</div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Sports Preferences */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Sports I Play</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-wrap gap-2\">\n              {displaySports.map((sport) => (\n                <Badge key={sport} variant=\"secondary\">\n                  {sport}\n                </Badge>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Tabs for different sections */}\n        <Tabs value={activeTab} onValueChange={setActiveTab}>\n          <TabsList className=\"grid w-full grid-cols-3\">\n            <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n            <TabsTrigger value=\"achievements\">Achievements</TabsTrigger>\n            <TabsTrigger value=\"progress\">Progress</TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"overview\" className=\"space-y-6\">\n            {/* Recent Games */}\n            <Card>\n              <CardHeader>\n                <CardTitle>Recent Games</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-3\">\n                  {loading ? (\n                    <div className=\"text-center py-8 text-muted-foreground\">\n                      <div className=\"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4\"></div>\n                      <p>Loading recent games...</p>\n                    </div>\n                  ) : recentGames.length > 0 ? (\n                    recentGames.map((game, index) => (\n                      <div key={game.id || index} className=\"flex items-center justify-between p-3 border rounded-lg\">\n                        <div className=\"flex-1\">\n                          <div className=\"font-medium\">{game.title}</div>\n                          <div className=\"text-sm text-muted-foreground\">\n                            {new Date(game.date).toLocaleDateString()} at {formatTimeString(game.time)}\n                          </div>\n                          <div className=\"text-xs text-muted-foreground mt-1\">\n                            {game.location}\n                          </div>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          {game.isHost && (\n                            <Badge variant=\"secondary\" className=\"text-xs\">\n                              Host\n                            </Badge>\n                          )}\n                          <Badge variant=\"outline\">{game.sport}</Badge>\n                        </div>\n                      </div>\n                    ))\n                  ) : (\n                    <div className=\"text-center py-8 text-muted-foreground\">\n                      <Calendar className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n                      <p>No recent games</p>\n                      <p className=\"text-sm\">Join your first game to see it here!</p>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"achievements\" className=\"space-y-6\">\n            {/* Achievement Badges */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Trophy className=\"w-5 h-5\" />\n                  My Achievements ({achievements.length})\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                {achievements.length > 0 ? (\n                  <AchievementGrid \n                    achievements={achievements.map(ua => ({\n                      ...ua.achievements,\n                      earned_at: ua.earned_at\n                    }))} \n                    maxDisplay={12}\n                    size=\"md\"\n                  />\n                ) : (\n                  <div className=\"text-center py-8 text-muted-foreground\">\n                    <Trophy className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\n                    <p>No achievements yet</p>\n                    <p className=\"text-sm\">Play games to unlock your first achievement!</p>\n                  </div>\n                )}\n              </CardContent>\n            </Card>\n          </TabsContent>\n\n          <TabsContent value=\"progress\" className=\"space-y-6\">\n            {/* Progress Indicators */}\n            {stats && (\n              <GameProgressWidget\n                gamesPlayed={stats.totalGamesPlayed}\n                gamesHosted={stats.totalGamesHosted}\n                nextAchievements={nextAchievements}\n              />\n            )}\n            \n            {/* Next Achievements */}\n            {nextAchievements.length > 0 && (\n              <AchievementProgressIndicator\n                achievements={nextAchievements}\n                title=\"Next Achievements\"\n                showAll={true}\n              />\n            )}\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n\nexport default UserProfile;"],"names":["getAchievementIcon","iconName","getCategoryIcon","category","jsx","Target","className","Trophy","Crown","Star","getCategoryColor","AchievementBadge","achievement","size","showTooltip","variant","badgeContent","jsxs","Badge","sm","md","lg","children","icon","name","points","TooltipProvider","Tooltip","TooltipTrigger","asChild","TooltipContent","side","description","earned_at","Date","toLocaleDateString","AchievementGrid","achievements","maxDisplay","displayAchievements","slice","remainingCount","Math","max","length","map","id","AchievementProgressIndicator","title","showAll","Card","CardContent","item","progress","total","percentage","Progress","value","random","QuickProgress","label","current","target","Zap","color","min","blue","green","purple","orange","GameProgressWidget","gamesPlayed","gamesHosted","nextAchievements","nextParticipation","find","a","nextHosting","UserProfile","navigate","useNavigate","user","useAppStore","activeTab","setActiveTab","useState","data","stats","isLoading","statsLoading","useUserStats","recentGamesData","recentGamesLoading","useUserRecentGames","achievementsLoading","useUserAchievements","getNextAchievements","useAchievements","setNextAchievements","loading","useEffect","async","next","loadNextAchievements","userStats","useMemo","totalGamesPlayed","toString","Calendar","totalGamesHosted","MapPin","recentGames","participation","games","sport","date","time","location","isHost","creator_id","displayName","displayUsername","username","displayBio","bio","displayAvatar","avatar","displaySports","preferences","sports","needsCompletion","email","Button","onClick","Settings","Avatar","AvatarImage","src","alt","AvatarFallback","charAt","toUpperCase","CardHeader","CardTitle","stat","Tabs","onValueChange","TabsList","TabsTrigger","TabsContent","game","index","formatTimeString","ua"],"mappings":"8kBAsBA,MAAMA,EAAsBC,IAC1B,OAAQA,GACN,IAAK,SACH,MAAO,KACT,IAAK,OACH,MAAO,IACT,IAAK,YACH,MAAO,KACT,IAAK,SACH,MAAO,KACT,IAAK,QACH,MAAO,KACT,QACE,MAAO,OAIPC,EAAmBC,IACvB,OAAQA,GACN,IAAK,aACH,OAAOC,EAAAA,IAACC,EAAA,CAAOC,UAAU,YAC3B,IAAK,YAML,QACE,OAAOF,EAAAA,IAACG,EAAA,CAAOD,UAAU,YAL3B,IAAK,UACH,OAAOF,EAAAA,IAACI,EAAA,CAAMF,UAAU,YAC1B,IAAK,SACH,OAAOF,EAAAA,IAACK,EAAA,CAAKH,UAAU,cAMvBI,EAAoBP,IACxB,OAAQA,GACN,IAAK,aACH,MAAO,gFACT,IAAK,YACH,MAAO,0FACT,IAAK,UACH,MAAO,0FACT,IAAK,SACH,MAAO,qFACT,QACE,MAAO,kFAIN,SAASQ,GAAiBC,YAC/BA,EAAAC,KACAA,EAAO,KAAAC,YACPA,GAAc,EAAAC,QACdA,EAAU,YAEV,MAMMC,EACJC,EAAAA,KAACC,EAAA,CACCH,UACAT,UAAW,aATK,CAClBa,GAAI,8BACJC,GAAI,4BACJC,GAAI,6BAOcR,gBACA,YAAZE,EAAwBL,EAAiBE,EAAYT,UAAY,2DAIrEmB,SAAA,CAAAlB,MAAC,QAAKE,UAAU,UAAWgB,SAAAtB,EAAmBY,EAAYW,QAC1DnB,EAAAA,IAAC,OAAA,CAAKE,UAAU,yBAA0BgB,WAAYE,OAC5C,OAATX,GACCI,OAAC,OAAA,CAAKX,UAAU,qBAAqBgB,SAAA,CAAA,IAAEV,EAAYa,aAKzD,OAAKX,EAKHV,EAAAA,IAACsB,EAAA,CACCJ,SAAAL,EAAAA,KAACU,EAAA,CACCL,SAAA,CAAAlB,EAAAA,IAACwB,EAAA,CAAeC,SAAO,EACpBP,SAAAN,IAEHZ,EAAAA,IAAC0B,GAAeC,KAAK,MAAMzB,UAAU,WACnCgB,SAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,YACbgB,SAAA,CAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,0BACbgB,SAAA,CAAAlB,MAAC,QAAKE,UAAU,UAAWgB,SAAAtB,EAAmBY,EAAYW,QAC1DnB,EAAAA,IAAC,OAAA,CAAKE,UAAU,gBAAiBgB,WAAYE,UAE/CpB,EAAAA,IAAC,IAAA,CAAEE,UAAU,gCACVgB,WAAYU,cAEff,EAAAA,KAAC,MAAA,CAAIX,UAAU,4CACbgB,SAAA,CAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,0BACZgB,SAAA,CAAApB,EAAgBU,EAAYT,UAC7BC,EAAAA,IAAC,OAAA,CAAKE,UAAU,aAAcgB,WAAYnB,cAE5Cc,EAAAA,KAAC,OAAA,CAAKX,UAAU,2BAA2BgB,SAAA,CAAA,IAAEV,EAAYa,OAAO,aAEjEb,EAAYqB,WACXhB,OAAC,IAAA,CAAEX,UAAU,gCAAgCgB,SAAA,CAAA,UACnC,IAAIY,KAAKtB,EAAYqB,WAAWE,kCA3B7CnB,CAmCX,CAQO,SAASoB,GAAgBC,aAC9BA,EAAAC,WACAA,EAAa,EAAAzB,KACbA,EAAO,OAEP,MAAM0B,EAAsBF,EAAaG,MAAM,EAAGF,GAC5CG,EAAiBC,KAAKC,IAAI,EAAGN,EAAaO,OAASN,GAEzD,OACErB,EAAAA,KAAC,MAAA,CAAIX,UAAU,uBACZgB,SAAA,CAAAiB,EAAoBM,IAAKjC,GACxBR,EAAAA,IAACO,EAAA,CAECC,cACAC,QAFKD,EAAYkC,KAKpBL,EAAiB,GAChBxB,EAAAA,KAACC,EAAA,CAAMH,QAAQ,UAAUT,UAAW,IAAY,OAATO,EAAgB,wBAA0B,qBAAuBS,SAAA,CAAA,IACpGmB,EAAe,aAK3B,CCzIO,SAASM,GAA6BV,aAC3CA,EAAAW,MACAA,EAAQ,oBAAAC,QACRA,GAAU,IAEV,MAAMV,EAAsBU,EAAUZ,EAAeA,EAAaG,MAAM,EAAG,GAE3E,OAAmC,IAA/BD,EAAoBK,OACf,KAIPxC,EAAAA,IAAC8C,EAAA,CACC5B,SAAAL,EAAAA,KAACkC,EAAA,CAAY7C,UAAU,MACrBgB,SAAA,CAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,+BACbgB,SAAA,CAAAlB,EAAAA,IAACC,EAAA,CAAOC,UAAU,yBAClBF,EAAAA,IAAC,KAAA,CAAGE,UAAU,wBAAyBgB,SAAA0B,aAGxC,MAAA,CAAI1C,UAAU,YACZgB,SAAAiB,EAAoBM,IAAKO,IACxB,MAAMxC,EAAcwC,EAAKxC,aAAewC,EACxC,OACEnC,EAAAA,KAAC,MAAA,CAA2CX,UAAU,YACpDgB,SAAA,CAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,oCACbgB,SAAA,CAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,yCACbgB,SAAA,CAAAlB,MAAC,OAAA,CAAKE,UAAU,UAAWgB,SAAAV,GAAaW,MAAQ,OAChDN,EAAAA,KAAC,MAAA,CAAIX,UAAU,iBACbgB,SAAA,CAAAlB,MAAC,MAAA,CAAIE,UAAU,+BACZgB,SAAAV,GAAaY,MAAQ,8BAEvB,MAAA,CAAIlB,UAAU,yCACZgB,SAAAV,GAAaoB,aAAe,yBAInC5B,EAAAA,IAAC,OAAIE,UAAU,+BACbgB,gBAACJ,EAAA,CAAMH,QAAQ,UAAUT,UAAU,UAAUgB,SAAA,CAAA,IACzCV,GAAaa,QAAU,UAK/BR,EAAAA,KAAC,MAAA,CAAIX,UAAU,YACbgB,SAAA,CAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,4CACbgB,SAAA,CAAAL,EAAAA,KAAC,OAAA,CAAKX,UAAU,wBACbgB,SAAA,CAAA8B,EAAKC,SAAS,MAAID,EAAKE,SAE1BrC,EAAAA,KAAC,OAAA,CAAKX,UAAU,2BACbgB,SAAA,CAAA8B,EAAKG,WAAW,gBAGpBC,EAAA,CAASC,MAAOL,EAAKG,WAAYjD,UAAU,aA7BtCM,GAAakC,IAAMJ,KAAKgB,eAoCtCT,GAAWZ,EAAaO,OAAS,GACjCxC,MAAC,MAAA,CAAIE,UAAU,mBACbgB,SAAAlB,EAAAA,IAAC,SAAA,CAAOE,UAAU,mDAAmDgB,2CAQjF,CAUO,SAASqC,GAAcC,MAC5BA,EAAAC,QACAA,EAAAC,OACAA,EAAAvC,KACAA,EAAOnB,EAAAA,IAAC2D,EAAA,CAAIzD,UAAU,YAAU0D,MAChCA,EAAQ,SAER,MAAMT,EAAab,KAAKuB,IAAKJ,EAAUC,EAAU,IAAK,KAStD,cACG,MAAA,CAAIxD,UAAW,yBARG,CACnB4D,KAAM,2CACNC,MAAO,8CACPC,OAAQ,iDACRC,OAAQ,kDAI8CL,KACpD1C,SAAA,CAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,yCACbgB,SAAA,CAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,0BACZgB,SAAA,CAAAC,EACDnB,EAAAA,IAAC,OAAA,CAAKE,UAAU,sBAAuBgB,SAAAsC,OAEzC3C,EAAAA,KAAC,OAAA,CAAKX,UAAU,sBACbgB,SAAA,CAAAuC,EAAQ,IAAEC,QAGf1D,EAAAA,IAACoD,EAAA,CAASC,MAAOF,EAAYjD,UAAU,YAG7C,CAQO,SAASgE,GAAmBC,YACjCA,EAAAC,YACAA,EAAAC,iBACAA,IAGA,MAAMC,EAAoBD,EAAiBE,KAAKC,IAC9C,MAAMhE,EAAcgE,EAAEhE,aAAegE,EACrC,MAAiC,eAA1BhE,GAAaT,UAAuD,kBAA1BS,GAAaT,WAE1D0E,EAAcJ,EAAiBE,KAAKC,IACxC,MAAMhE,EAAcgE,EAAEhE,aAAegE,EACrC,MAAiC,YAA1BhE,GAAaT,UAAoD,eAA1BS,GAAaT,WAG7D,OACEc,EAAAA,KAAC,MAAA,CAAIX,UAAU,YACZgB,SAAA,CAAAoD,GACCtE,EAAAA,IAACuD,EAAA,CACCC,MAAM,eACNC,QAASU,EACTT,OAAQY,EAAkBpB,MAC1B/B,KAAMnB,EAAAA,IAACG,EAAA,CAAOD,UAAU,YACxB0D,MAAM,SAITa,GACCzE,EAAAA,IAACuD,EAAA,CACCC,MAAM,eACNC,QAASW,EACTV,OAAQe,EAAYvB,MACpB/B,KAAMnB,EAAAA,IAACC,EAAA,CAAOC,UAAU,YACxB0D,MAAM,aAKhB,CCxKA,SAASc,IACP,MAAMC,EAAWC,KACXC,KAAEA,GAASC,KACVC,EAAWC,GAAgBC,EAAAA,SAAS,aAGnCC,KAAMC,EAAOC,UAAWC,GAAiBC,EAAaT,GAAMnC,IAAM,KAClEwC,KAAMK,EAAkB,GAAIH,UAAWI,GAAuBC,EAAmBZ,GAAMnC,IAAM,GAAI,IACjGwC,KAAMjD,EAAe,GAAImD,UAAWM,GAAwBC,EAAoBd,GAAMnC,IAAM,KAG9FkD,oBAA+BA,GAAwBC,KACtDxB,EAAkByB,GAAuBb,EAAAA,SAAgB,IAE1Dc,EAAUV,GAAgBG,GAAsBE,EAGtDM,EAAAA,UAAU,KACqBC,WAC3B,GAAId,EAAO,CACT,MAAMe,QAAaN,IACnBE,EAAoBI,EACtB,GAEFC,IACC,CAAChB,EAAOS,IAGX,MAAMQ,EAAYC,EAAAA,QAAQ,IAAM,CAC9B,CAAE7C,MAAO,eAAgBH,MAAO8B,GAAOmB,kBAAkBC,YAAc,IAAKpF,KAAMqF,GAClF,CAAEhD,MAAO,eAAgBH,MAAO8B,GAAOsB,kBAAkBF,YAAc,IAAKpF,KAAMuF,GAClF,CAAElD,MAAO,eAAgBH,MAAOpB,EAAaO,OAAO+D,WAAYpF,KAAMhB,IACrE,CAACgF,EAAOlD,IAGL0E,EAAcN,EAAAA,QAAQ,IACnBd,EAAgB9C,IAAKmE,IAAA,CAC1BlE,GAAIkE,EAAcC,OAAOnE,IAAMkE,EAAclE,GAC7CE,MAAOgE,EAAcC,OAAOjE,OAASgE,EAAchE,MACnDkE,MAAOF,EAAcC,OAAOC,OAASF,EAAcE,MACnDC,KAAMH,EAAcC,OAAOE,MAAQH,EAAcG,KACjDC,KAAMJ,EAAcC,OAAOG,MAAQJ,EAAcI,KACjDC,SAAUL,EAAcC,OAAOI,UAAYL,EAAcK,SACzDC,QAASN,EAAcC,OAAOM,YAAcP,EAAcO,cAAgBtC,GAAMnC,MAEjF,CAAC6C,EAAiBV,GAAMnC,KAKrB0E,EAAcvC,GAAMzD,MAAQ,eAC5BiG,EAAkBxC,GAAMyC,SAAW,IAAIzC,EAAKyC,WAAa,QACzDC,EAAa1C,GAAM2C,KAAO,4CAC1BC,EAAgB5C,GAAM6C,QAAU,GAChCC,EAAgB9C,GAAM+C,aAAaC,QAAU,CAAC,aAAc,SAAU,SAAU,cAChFC,IAAoBjD,GAAMzD,MAAQyD,GAAMkD,OAE9C,OACElH,EAAAA,KAAC,MAAA,CAAIX,UAAU,6BAEbgB,SAAA,CAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,oDACbgB,SAAA,CAAAlB,EAAAA,IAAC,KAAA,CAAGE,UAAU,wBAAwBgB,SAAA,YACtClB,EAAAA,IAACgI,EAAA,CAAOrH,QAAQ,QAAQF,KAAK,OAAOwH,QAAS,IAAMtD,EAAS,aAC1DzD,SAAAlB,EAAAA,IAACkI,EAAA,CAAShI,UAAU,iBAIxBW,EAAAA,KAAC,MAAA,CAAIX,UAAU,iBAEbgB,SAAA,CAAAlB,MAAC8C,EAAA,CACC5B,SAAAL,EAAAA,KAACkC,EAAA,CAAY7C,UAAU,OACrBgB,SAAA,CAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,+BACbgB,SAAA,CAAAL,EAAAA,KAACsH,EAAA,CAAOjI,UAAU,YAChBgB,SAAA,CAAAlB,EAAAA,IAACoI,EAAA,CAAYC,IAAKZ,EAAea,IAAKlB,IACtCpH,EAAAA,IAACuI,GAAerI,UAAU,UACvBgB,WAAYsH,OAAO,GAAGC,mBAG3B5H,EAAAA,KAAC,MAAA,CAAIX,UAAU,SACbgB,SAAA,CAAAlB,EAAAA,IAAC,KAAA,CAAGE,UAAU,wBAAyBgB,SAAAkG,IACvCpH,EAAAA,IAAC,IAAA,CAAEE,UAAU,wBAAyBgB,SAAAmG,IACtCrH,EAAAA,IAAC,IAAA,CAAEE,UAAU,qCACVgB,SAAAqG,UAKPvH,EAAAA,IAACgI,EAAA,CAAOrH,QAAQ,UAAUT,UAAU,SAAS+H,QAAS,IAAMtD,EAAS,iBAAkBzD,SAAA,iBAGtF4G,GACC9H,EAAAA,IAACgI,EAAA,CAAOrH,QAAQ,UAAUT,UAAU,cAAc+H,QAAS,IAAMtD,EAAS,eAAgBzD,SAAA,iCAQ/F4B,EAAA,CACC5B,SAAA,CAAAlB,MAAC0I,EAAA,CACCxH,SAAAlB,EAAAA,IAAC2I,EAAA,CAAUzH,SAAA,YAEblB,EAAAA,IAAC+C,EAAA,CACC7B,SAAAlB,EAAAA,IAAC,MAAA,CAAIE,UAAU,yBACZgB,SAAAkF,EAAU3D,IAAKmG,GACd/H,EAAAA,KAAC,MAAA,CAAqBX,UAAU,cAC9BgB,SAAA,CAAAlB,EAAAA,IAAC,MAAA,CAAIE,UAAU,2BACbgB,SAAAlB,EAAAA,IAAC4I,EAAKzH,KAAL,CAAUjB,UAAU,2BAEvBF,EAAAA,IAAC,MAAA,CAAIE,UAAU,yBAA0BgB,WAAKmC,QAC9CrD,EAAAA,IAAC,MAAA,CAAIE,UAAU,gCAAiCgB,WAAKsC,UAL7CoF,EAAKpF,sBAatBV,EAAA,CACC5B,SAAA,CAAAlB,MAAC0I,EAAA,CACCxH,SAAAlB,EAAAA,IAAC2I,EAAA,CAAUzH,SAAA,0BAEZ6B,EAAA,CACC7B,SAAAlB,MAAC,OAAIE,UAAU,uBACZgB,WAAcuB,IAAKqE,GAClB9G,MAACc,GAAkBH,QAAQ,YACxBO,YADS4F,WASpBjG,EAAAA,KAACgI,EAAA,CAAKxF,MAAO0B,EAAW+D,cAAe9D,EACrC9D,SAAA,CAAAL,EAAAA,KAACkI,EAAA,CAAS7I,UAAU,0BAClBgB,SAAA,CAAAlB,EAAAA,IAACgJ,EAAA,CAAY3F,MAAM,WAAWnC,SAAA,aAC9BlB,EAAAA,IAACgJ,EAAA,CAAY3F,MAAM,eAAenC,SAAA,iBAClClB,EAAAA,IAACgJ,EAAA,CAAY3F,MAAM,WAAWnC,SAAA,sBAG/B+H,EAAA,CAAY5F,MAAM,WAAWnD,UAAU,YAEtCgB,gBAAC4B,EAAA,CACC5B,SAAA,CAAAlB,MAAC0I,EAAA,CACCxH,SAAAlB,EAAAA,IAAC2I,EAAA,CAAUzH,SAAA,mBAEblB,EAAAA,IAAC+C,EAAA,CACC7B,SAAAlB,EAAAA,IAAC,MAAA,CAAIE,UAAU,YACZgB,SAAA6E,EACClF,EAAAA,KAAC,MAAA,CAAIX,UAAU,yCACbgB,SAAA,CAAAlB,EAAAA,IAAC,MAAA,CAAIE,UAAU,gGACfF,EAAAA,IAAC,KAAEkB,SAAA,+BAEHyF,EAAYnE,OAAS,EACvBmE,EAAYlE,IAAI,CAACyG,EAAMC,IACrBtI,EAAAA,KAAC,MAAA,CAA2BX,UAAU,0DACpCgB,SAAA,CAAAL,EAAAA,KAAC,MAAA,CAAIX,UAAU,SACbgB,SAAA,CAAAlB,EAAAA,IAAC,MAAA,CAAIE,UAAU,cAAegB,SAAAgI,EAAKtG,QACnC/B,EAAAA,KAAC,MAAA,CAAIX,UAAU,gCACZgB,SAAA,CAAA,IAAIY,KAAKoH,EAAKnC,MAAMhF,qBAAqB,OAAKqH,EAAiBF,EAAKlC,SAEvEhH,EAAAA,IAAC,MAAA,CAAIE,UAAU,qCACZgB,WAAK+F,cAGVpG,EAAAA,KAAC,MAAA,CAAIX,UAAU,0BACZgB,SAAA,CAAAgI,EAAKhC,QACJlH,MAACc,EAAA,CAAMH,QAAQ,YAAYT,UAAU,UAAUgB,SAAA,SAIjDlB,EAAAA,IAACc,EAAA,CAAMH,QAAQ,UAAWO,WAAK4F,aAhBzBoC,EAAKxG,IAAMyG,IAqBvBtI,OAAC,MAAA,CAAIX,UAAU,yCACbgB,SAAA,CAAAlB,EAAAA,IAACwG,EAAA,CAAStG,UAAU,sCACpBF,EAAAA,IAAC,KAAEkB,SAAA,oBACHlB,EAAAA,IAAC,IAAA,CAAEE,UAAU,UAAUgB,SAAA,2DAQlC+H,EAAA,CAAY5F,MAAM,eAAenD,UAAU,YAE1CgB,gBAAC4B,EAAA,CACC5B,SAAA,CAAAlB,MAAC0I,EAAA,CACCxH,SAAAL,EAAAA,KAAC8H,EAAA,CAAUzI,UAAU,0BACnBgB,SAAA,CAAAlB,EAAAA,IAACG,EAAA,CAAOD,UAAU,YAAY,oBACZ+B,EAAaO,OAAO,SAG1CxC,EAAAA,IAAC+C,EAAA,CACE7B,SAAAe,EAAaO,OAAS,EACrBxC,EAAAA,IAACgC,EAAA,CACCC,aAAcA,EAAaQ,IAAI4G,IAAA,IAC1BA,EAAGpH,aACNJ,UAAWwH,EAAGxH,aAEhBK,WAAY,GACZzB,KAAK,OAGPI,EAAAA,KAAC,MAAA,CAAIX,UAAU,yCACbgB,SAAA,CAAAlB,EAAAA,IAACG,EAAA,CAAOD,UAAU,sCAClBF,EAAAA,IAAC,KAAEkB,SAAA,wBACHlB,EAAAA,IAAC,IAAA,CAAEE,UAAU,UAAUgB,SAAA,2DAOjCL,EAAAA,KAACoI,EAAA,CAAY5F,MAAM,WAAWnD,UAAU,YAErCgB,SAAA,CAAAiE,GACCnF,EAAAA,IAACkE,EAAA,CACCC,YAAagB,EAAMmB,iBACnBlC,YAAae,EAAMsB,iBACnBpC,qBAKHA,EAAiB7B,OAAS,GACzBxC,EAAAA,IAAC2C,EAAA,CACCV,aAAcoC,EACdzB,MAAM,oBACNC,SAAS,eAQzB"}