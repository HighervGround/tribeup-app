{"version":3,"file":"HomeScreen-CuBjAbQd.js","sources":["../../src/components/HomeScreen.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button } from './ui/button';\nimport { Plus, RefreshCw } from 'lucide-react';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { useAppStore } from '../store/appStore';\n\n\n\n// Simple GameCard component\nfunction SimpleGameCard({ game, onSelect }: { game: any; onSelect: () => void }) {\n  return (\n    <div \n      className=\"bg-card rounded-lg p-4 border border-border cursor-pointer hover:shadow-md transition-shadow\"\n      onClick={onSelect}\n    >\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex-1 pr-4\">\n          <h3 className=\"font-semibold text-lg\">{game.title}</h3>\n          <p className=\"text-sm text-muted-foreground\">{game.sport}</p>\n        </div>\n        <div className=\"text-right flex-shrink-0\">\n          <div className=\"text-sm font-medium\">{game.cost}</div>\n          <div className=\"text-xs text-muted-foreground\">\n            {game.currentPlayers}/{game.maxPlayers} players\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"space-y-2 text-sm\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-muted-foreground\">üìç</span>\n          <span>{game.location}</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-muted-foreground\">üïí</span>\n          <span>{game.date} at {game.time}</span>\n        </div>\n        {game.distance && (\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-muted-foreground\">üìè</span>\n            <span>{game.distance}</span>\n          </div>\n        )}\n      </div>\n      \n      <p className=\"text-sm text-muted-foreground mt-3\">{game.description}</p>\n      \n      {game.isJoined && (\n        <div className=\"mt-3\">\n          <span className=\"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded\">\n            Joined\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport function HomeScreen() {\n  const navigate = useNavigate();\n  const { games, setGames, isLoading, setLoading, user } = useAppStore();\n  const [refreshing, setRefreshing] = useState(false);\n  const [timedOut, setTimedOut] = useState(false);\n  const TIMEOUT_MS = 8000;\n  const userPreferredSports = useMemo(() => user?.preferences?.sports ?? [], [user]);\n  const [feedMode, setFeedMode] = useState<'all' | 'recommended'>('all');\n\n  // Load games from Supabase on component mount and when feed mode changes\n  useEffect(() => {\n    loadGames();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [feedMode]);\n\n  // Realtime: refresh list when a new game is inserted\n  useEffect(() => {\n    const sub = SupabaseService.subscribeToAllGames((payload) => {\n      console.log('[Realtime] games INSERT received', payload?.new?.id || '');\n      // Lightweight refresh without toggling global isLoading\n      (async () => {\n        try {\n          const data = feedMode === 'recommended'\n            ? await SupabaseService.getRecommendedGames(userPreferredSports)\n            : await SupabaseService.getGames();\n          await setGames(data);\n        } catch (e) {\n          console.warn('Realtime refresh failed:', e);\n        }\n      })();\n    });\n    return () => {\n      try { sub.unsubscribe(); } catch {}\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [feedMode, setGames, userPreferredSports.join?.('|') ?? '']);\n\n  // Safety: clear global loading if this screen unmounts mid-request\n  useEffect(() => {\n    return () => {\n      setLoading(false);\n    };\n  }, [setLoading]);\n\n  const loadGames = async () => {\n    const label = `Home loadGames (${feedMode}) ${Date.now()}-${Math.random().toString(36).slice(2,6)}`;\n    setTimedOut(false);\n    console.time?.(label);\n    try {\n      setLoading(true);\n      const fetchPromise = (async () => {\n        const gamesData = feedMode === 'recommended'\n          ? await SupabaseService.getRecommendedGames(userPreferredSports)\n          : await SupabaseService.getGames();\n        await setGames(gamesData);\n      })();\n\n      const timeoutPromise = new Promise<'timeout'>(resolve => {\n        setTimeout(() => resolve('timeout'), TIMEOUT_MS);\n      });\n\n      const result = await Promise.race([fetchPromise.then(() => 'ok' as const), timeoutPromise]);\n      if (result === 'timeout') {\n        console.warn(`[Home] loadGames timed out after ${TIMEOUT_MS}ms`);\n        // If recommended is slow, fallback to all games in background so users see content\n        if (feedMode === 'recommended') {\n          setTimedOut(false);\n          setLoading(false);\n          // Fire-and-forget fallback; do not block UI\n          SupabaseService.getGames()\n            .then((all) => setGames(all))\n            .catch((e) => console.error('Fallback getGames failed:', e));\n          return;\n        } else {\n          setTimedOut(true);\n          setLoading(false);\n          return;\n        }\n      }\n    } catch (error) {\n      console.error('Error loading games:', error);\n    } finally {\n      console.timeEnd?.(label);\n      // If we already stopped loading due to timeout, avoid flipping states again\n      if (!timedOut) setLoading(false);\n    }\n  };\n\n  const handleRefresh = async () => {\n    setTimedOut(false);\n    setRefreshing(true);\n    await loadGames();\n    setRefreshing(false);\n  };\n\n  const handleGameSelect = (gameId: string) => {\n    navigate(`/game/${gameId}`);\n  };\n\n  const handleCreateGame = () => {\n    navigate('/create-game');\n  };\n\n  // Filter today's games\n  const todaysGames = games.filter(game => {\n    const gameDate = new Date(game.date);\n    const today = new Date();\n    return gameDate.toDateString() === today.toDateString();\n  });\n\n  // Show loading state\n  if (isLoading && games.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-muted-foreground\">Loading games...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Timed-out empty state with retry\n  if (timedOut && games.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center space-y-3\">\n          <p className=\"text-muted-foreground\">This is taking longer than expected.</p>\n          <Button onClick={handleRefresh} variant=\"outline\">\n            <RefreshCw className=\"w-4 h-4 mr-2\" /> Retry\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Mobile Layout */}\n      <div className=\"block md:hidden\">\n        <div className=\"space-y-6\">\n          {/* Header */}\n          <div className=\"px-4 pt-4\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <div>\n                <h1 className=\"text-2xl font-bold\">TribeUp</h1>\n                <p className=\"text-muted-foreground\">Find your next game</p>\n              </div>\n              <Button \n                onClick={handleCreateGame}\n                size=\"icon\"\n                aria-label=\"Create new game\"\n              >\n                <Plus className=\"w-5 h-5\" />\n              </Button>\n            </div>\n\n            {/* Quick Stats */}\n            <div className=\"grid grid-cols-3 gap-4 mb-6\">\n              <div className=\"bg-card rounded-lg p-4 text-center\">\n                <div className=\"text-2xl font-bold text-primary\">{games.length}</div>\n                <div className=\"text-sm text-muted-foreground\">Active Games</div>\n              </div>\n              <div className=\"bg-card rounded-lg p-4 text-center\">\n                <div className=\"text-2xl font-bold text-primary\">0</div>\n                <div className=\"text-sm text-muted-foreground\">Players Online</div>\n              </div>\n              <div className=\"bg-card rounded-lg p-4 text-center\">\n                <div className=\"text-2xl font-bold text-primary\">0</div>\n                <div className=\"text-sm text-muted-foreground\">This Week</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Today's Games */}\n          {todaysGames.length > 0 && (\n            <div className=\"px-4\">\n              <h2 className=\"text-lg mb-4\">Happening Soon</h2>\n              <div className=\"flex gap-4 overflow-x-auto pb-2\">\n                {todaysGames.map((game) => (\n                  <div key={game.id} className=\"flex-shrink-0 w-72\">\n                    <SimpleGameCard \n                      game={game} \n                      onSelect={() => handleGameSelect(game.id)}\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* All Games */}\n          <div className=\"px-4\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-lg font-semibold\">All Games</h2>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleRefresh}\n                disabled={isLoading}\n                aria-label=\"Refresh games\"\n              >\n                <RefreshCw className={`w-4 h-4 ${isLoading ? 'animate-spin' : ''}`} />\n              </Button>\n            </div>\n\n            <div className=\"space-y-4\">\n              {games.map((game) => (\n                <div key={game.id}>\n                  <SimpleGameCard\n                    game={game}\n                    onSelect={() => handleGameSelect(game.id)}\n                  />\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Desktop Layout */}\n      <div className=\"hidden md:block\">\n        <div className=\"max-w-7xl mx-auto p-6\">\n          <div className=\"grid grid-cols-12 gap-6\">\n            {/* Main Content */}\n            <div className=\"col-span-8\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div>\n                  <h1 className=\"text-3xl font-bold\">TribeUp</h1>\n                  <p className=\"text-muted-foreground\">Find your next game</p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"bg-muted rounded-md p-1 flex\">\n                    <button\n                      className={`px-3 py-1 text-sm rounded ${feedMode === 'recommended' ? 'bg-background shadow font-medium' : 'text-muted-foreground'}`}\n                      onClick={() => setFeedMode('recommended')}\n                    >\n                      Recommended\n                    </button>\n                    <button\n                      className={`px-3 py-1 text-sm rounded ${feedMode === 'all' ? 'bg-background shadow font-medium' : 'text-muted-foreground'}`}\n                      onClick={() => setFeedMode('all')}\n                    >\n                      All\n                    </button>\n                  </div>\n                  <Button onClick={handleCreateGame}>\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Create Game\n                  </Button>\n                </div>\n              </div>\n\n              {/* Today's Games */}\n              {todaysGames.length > 0 && (\n                <div className=\"mb-8\">\n                  <h2 className=\"text-xl font-semibold mb-4\">Happening Today</h2>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                    {todaysGames.map((game) => (\n                      <SimpleGameCard\n                        key={game.id}\n                        game={game}\n                        onSelect={() => handleGameSelect(game.id)}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Feed Header */}\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-semibold\">{feedMode === 'recommended' ? 'Recommended For You' : 'All Games'}</h2>\n                <Button\n                  variant=\"outline\"\n                  onClick={handleRefresh}\n                  disabled={isLoading}\n                >\n                  <RefreshCw className={`w-4 h-4 mr-2 ${isLoading ? 'animate-spin' : ''}`} />\n                  Refresh\n                </Button>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {games.map((game) => (\n                  <div key={game.id}>\n                    <SimpleGameCard\n                      game={game}\n                      onSelect={() => handleGameSelect(game.id)}\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Sidebar */}\n            <div className=\"col-span-4\">\n              <div className=\"bg-card rounded-lg p-6 sticky top-6\">\n                <h3 className=\"text-lg font-semibold mb-4\">Quick Stats</h3>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Active Games</span>\n                    <span className=\"font-semibold\">{games.length}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Players Online</span>\n                    <span className=\"font-semibold\">0</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">This Week</span>\n                    <span className=\"font-semibold\">0</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["SimpleGameCard","game","onSelect","jsxs","jsx","HomeScreen","navigate","useNavigate","games","setGames","isLoading","setLoading","user","useAppStore","refreshing","setRefreshing","useState","timedOut","setTimedOut","TIMEOUT_MS","userPreferredSports","useMemo","feedMode","setFeedMode","useEffect","loadGames","sub","SupabaseService","payload","data","e","label","fetchPromise","gamesData","timeoutPromise","resolve","all","error","handleRefresh","handleGameSelect","gameId","handleCreateGame","todaysGames","gameDate","today","Button","RefreshCw","Plus"],"mappings":"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"}