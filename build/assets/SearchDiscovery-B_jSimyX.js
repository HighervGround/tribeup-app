import{j as e}from"./ui-Cc4ivZpV.js";import{r as l}from"./vendor-IUqyc6Bg.js";import{c as D,t as V,b as he,L as W,C as X,d as Z,B as k,u as xe,S as pe,a as be}from"./index-BQ74bJ89.js";import{I as fe}from"./input-Ns_4TOWw.js";import{B as H}from"./badge-Dv7mIevt.js";import{E as ge}from"./empty-state-BLCieAAH.js";import{M as A}from"./map-pin-CxFQdb0V.js";import{U as J}from"./users-Dhl8LFDr.js";import{C as K}from"./clock-DHTbYRYy.js";import{D as ve}from"./dollar-sign-Hn998d-L.js";import{P as je}from"./plus-DMDjRSXO.js";import{A as ye}from"./arrow-left-BSPVz7QM.js";import{S as Q}from"./search-nURtdCpL.js";import"./bell-Bgfp8c42.js";import"./calendar-ceX2mOUt.js";import"./message-square-Q1brHJKH.js";import"./circle-check-big-BUDj4MtJ.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],we=D("crosshair",Ne);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ce=D("layers",ke);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M5 12h14",key:"1ays0h"}]],Le=D("minus",Me);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Pe=D("rotate-ccw",Se);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],Ee=D("sliders-horizontal",ze);function _(a,r,m,c){const g=B(m-a),i=B(c-r),x=Math.sin(g/2)*Math.sin(g/2)+Math.cos(B(a))*Math.cos(B(m))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x)))}function B(a){return a*(Math.PI/180)}function O(a,r="km"){return r==="mi"&&(a=a*.621371),a<1?r==="km"?`${Math.round(a*1e3)}m`:`${Math.round(a*5280)}ft`:`${a.toFixed(1)}${r}`}function $e(a,r){const m=r/111,c=r/(111*Math.cos(B(a.latitude)));return{north:a.latitude+m,south:a.latitude-m,east:a.longitude+c,west:a.longitude-c}}function ee(a={}){const{enableHighAccuracy:r=!0,timeout:m=1e4,maximumAge:c=6e4,watchPosition:f=!1,autoRequest:g=!0}=a,[i,x]=l.useState({currentLocation:null,isLoading:!1,error:null,permission:"unknown",lastUpdated:null}),N=l.useRef(null),M=l.useRef(!1),v="geolocation"in navigator,d=l.useCallback(async()=>{if(!v)return x(o=>({...o,permission:"denied",error:"Geolocation not supported"})),"denied";try{if("permissions"in navigator){const o=await navigator.permissions.query({name:"geolocation"});return x(s=>({...s,permission:o.state})),o.state}}catch{console.warn("Permission API not supported")}return"unknown"},[v]),L=l.useCallback(async()=>v?M.current?null:(M.current=!0,x(o=>({...o,isLoading:!0,error:null})),new Promise(o=>{const s={enableHighAccuracy:r,timeout:m,maximumAge:c},n=b=>{const y={latitude:b.coords.latitude,longitude:b.coords.longitude,accuracy:b.coords.accuracy,altitude:b.coords.altitude||void 0,heading:b.coords.heading||void 0,speed:b.coords.speed||void 0};x(C=>({...C,currentLocation:y,isLoading:!1,error:null,permission:"granted",lastUpdated:new Date})),M.current=!1,o(y)},u=b=>{let y="Failed to get location",C="unknown";switch(b.code){case b.PERMISSION_DENIED:y="Location access denied by user",C="denied",V.error("Please enable location access to find nearby games");break;case b.POSITION_UNAVAILABLE:y="Location information unavailable";break;case b.TIMEOUT:y="Location request timed out";break}x(U=>({...U,isLoading:!1,error:y,permission:C})),M.current=!1,o(null)};navigator.geolocation.getCurrentPosition(n,u,s)})):(V.error("Location services are not supported by your browser"),null),[v,r,m,c]),P=l.useCallback(()=>{if(!v||N.current!==null)return;const o={enableHighAccuracy:r,timeout:m,maximumAge:c},s=u=>{const b={latitude:u.coords.latitude,longitude:u.coords.longitude,accuracy:u.coords.accuracy,altitude:u.coords.altitude||void 0,heading:u.coords.heading||void 0,speed:u.coords.speed||void 0};x(y=>({...y,currentLocation:b,lastUpdated:new Date}))},n=u=>{console.error("Location watch error:",u)};N.current=navigator.geolocation.watchPosition(s,n,o)},[v,r,m,c]),z=l.useCallback(()=>{N.current!==null&&(navigator.geolocation.clearWatch(N.current),N.current=null)},[]),h=l.useCallback(()=>{x(o=>({...o,currentLocation:null,error:null,lastUpdated:null}))},[]),j=l.useCallback((o,s="km")=>{if(!i.currentLocation)return null;const n=_(i.currentLocation.latitude,i.currentLocation.longitude,o.latitude,o.longitude);return s==="mi"?n*.621371:n},[i.currentLocation]),p=l.useCallback((o,s="km")=>{const n=j(o,s);return n?O(n,s):null},[j]),S=l.useCallback((o,s=5)=>{const n=j(o,"km");return n!==null&&n<=s},[j]);return l.useEffect(()=>(d(),g&&L(),f&&P(),()=>{z()}),[d,L,P,z,g,f]),{...i,isSupported:v,requestLocation:L,clearLocation:h,startWatching:P,stopWatching:z,getDistanceTo:j,getFormattedDistanceTo:p,isNearby:S,calculateDistance:(o,s,n,u)=>_(o,s,n,u),formatDistance:O,getBoundsFromCenter:o=>i.currentLocation?$e(i.currentLocation,o):null}}function Ie({games:a=[],selectedGameId:r,onGameSelect:m,onLocationSelect:c,showCurrentLocation:f=!0,showGameMarkers:g=!0,allowLocationSelection:i=!1,center:x,zoom:N=13,className:M=""}){const v=he(),{currentLocation:d,isLoading:L,error:P,requestLocation:z}=ee(),[h,j]=l.useState(x||d||{latitude:29.6516,longitude:-82.3248}),[p,S]=l.useState(N),[o,s]=l.useState(!1),[n,u]=l.useState(null),[b,y]=l.useState(null),[C,U]=l.useState(!1),se=l.useRef(null),F=(a.length>0?a:v).map(t=>({id:t.id,title:t.title,sport:t.sport,location:{latitude:t.latitude||h.latitude+(Math.random()-.5)*.01,longitude:t.longitude||h.longitude+(Math.random()-.5)*.01},locationName:t.location,date:t.date,time:t.time,players:t.currentPlayers||t.players,maxPlayers:t.maxPlayers,cost:t.cost,difficulty:t.difficulty}));l.useEffect(()=>{d&&!x&&j(d)},[d,x]),l.useEffect(()=>{const t=setTimeout(()=>{s(!0)},1e3);return()=>clearTimeout(t)},[]);const te=l.useCallback(()=>{d?(j(d),S(15),V.success("Centered on your location")):z()},[d,z]),ae=l.useCallback(t=>{j(t.location),S(16),m&&m(t.id)},[m]),le=l.useCallback(t=>{if(!i)return;const w=t.currentTarget.getBoundingClientRect(),E=t.clientX-w.left,G=t.clientY-w.top,$=Math.pow(2,p-10)*1e3,R=h.latitude+(G-w.height/2)*-.001/$,T=h.longitude+(E-w.width/2)*.001/$,I={latitude:R,longitude:T};u(I),c&&c(I)},[i,h,p,c]),oe=l.useCallback(t=>{if(!i||t.touches.length!==1)return;const w=t.currentTarget.getBoundingClientRect(),E=t.touches[0],G=E.clientX-w.left,$=E.clientY-w.top,R=Math.pow(2,p-10)*1e3,T=h.latitude+($-w.height/2)*-.001/R,I=h.longitude+(G-w.width/2)*.001/R,q={latitude:T,longitude:I};u(q),c&&c(q)},[i,h,p,c]),ne=l.useCallback(()=>{S(t=>Math.min(t+1,18))},[]),re=l.useCallback(()=>{S(t=>Math.max(t-1,1))},[]),ie=l.useCallback(()=>{d&&j(d),S(13),u(null)},[d]),ce=t=>({Basketball:"bg-sport-basketball",Soccer:"bg-sport-soccer",Tennis:"bg-sport-tennis",Volleyball:"bg-sport-volleyball",Football:"bg-sport-football",Baseball:"bg-sport-baseball"})[t]||"bg-primary";return P?e.jsx("div",{className:`relative ${M}`,children:e.jsx(ge,{icon:e.jsx(A,{className:"w-16 h-16"}),title:"Location Access Required",description:"Please enable location access to view the map and find nearby games.",action:{label:"Enable Location",onClick:z}})}):e.jsxs("div",{className:`relative overflow-hidden rounded-lg ${M}`,children:[e.jsxs("div",{ref:se,className:`relative w-full h-full min-h-[300px] md:min-h-[400px] cursor-crosshair transition-all duration-300 ${C?"bg-gray-800":"bg-green-100"}`,onClick:le,onTouchEnd:oe,role:"application","aria-label":"Interactive map showing games and locations",children:[(!o||L)&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50 backdrop-blur-sm z-10",children:e.jsx(W,{size:"lg",text:"Loading map..."})}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"w-full h-full bg-cover bg-center",style:{backgroundImage:C?`url('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/${p}/${Math.floor((90-h.latitude)*Math.pow(2,p)/360)}/${Math.floor((h.longitude+180)*Math.pow(2,p)/360)}')`:`url('https://tile.openstreetmap.org/${p}/${Math.floor((h.longitude+180)*Math.pow(2,p)/360)}/${Math.floor((90-h.latitude)*Math.pow(2,p)/360)}.png')`}}),e.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:"linear-gradient(rgba(0,0,0,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0,0,0,0.1) 1px, transparent 1px)",backgroundSize:"20px 20px"}}),e.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:C?"none":`url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000' fill-opacity='0.1'%3E%3Cpath d='M20 20h20v20H20z'/%3E%3Cpath d='M0 0h20v20H0z'/%3E%3C/g%3E%3C/svg%3E")`}})]}),f&&d&&e.jsx("div",{className:"absolute z-20",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow-lg"}),e.jsx("div",{className:"absolute inset-0 w-4 h-4 bg-blue-500 rounded-full animate-ping opacity-30"}),e.jsx("div",{className:"absolute -top-1 -left-1 w-6 h-6 bg-blue-500/20 rounded-full animate-pulse"})]})}),g&&F.map((t,w)=>{const E=r===t.id,G=b===t.id,$=d?_(d.latitude,d.longitude,t.location.latitude,t.location.longitude):null,R=t.location.latitude-h.latitude,T=t.location.longitude-h.longitude,I=Math.pow(2,p)/360,q=50+T*I*100,de=50-R*I*100,ue=Math.max(5,Math.min(95,q)),Y=Math.max(5,Math.min(95,de));return e.jsx("div",{className:"absolute z-10 cursor-pointer",style:{left:`${ue}%`,top:`${Y}%`},onClick:me=>{me.stopPropagation(),ae(t)},onMouseEnter:()=>y(t.id),onMouseLeave:()=>y(null),children:e.jsxs("div",{className:`relative ${E||G?"z-30":"z-10"}`,children:[e.jsx("div",{className:`
                  w-8 h-8 rounded-full border-2 border-white shadow-lg flex items-center justify-center
                  ${ce(t.sport)} ${E?"ring-2 ring-primary":""}
                  transition-all duration-200
                `,children:e.jsx(J,{className:"w-4 h-4 text-white"})}),(E||G)&&e.jsx("div",{className:`absolute z-40 ${Y>70?"bottom-full mb-2":"top-full mt-2"} left-1/2 transform -translate-x-1/2`,children:e.jsx(X,{className:"w-64 max-w-[calc(100vw-2rem)] shadow-lg border-2 bg-background/95 backdrop-blur-sm",children:e.jsx(Z,{className:"p-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium truncate",children:t.title}),e.jsx(H,{variant:"secondary",className:"text-xs flex-shrink-0",children:t.sport})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:t.time})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"w-3 h-3"}),e.jsxs("span",{children:[t.players,"/",t.maxPlayers]})]}),t.cost!=="Free"&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ve,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:t.cost})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:"truncate mr-2",children:t.locationName}),$&&e.jsxs("span",{className:"flex-shrink-0",children:[O($)," away"]})]})]})})})})]})},t.id)}),n&&i&&e.jsx("div",{className:"absolute z-20",style:{left:"60%",top:"45%",transform:"translate(-50%, -50%)"},children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(A,{className:"w-8 h-8 text-destructive drop-shadow-lg"}),e.jsx("div",{className:"mt-1 px-2 py-1 bg-white rounded shadow text-xs",children:"Selected Location"})]})})]}),e.jsxs("div",{className:"absolute top-2 right-2 md:top-4 md:right-4 flex flex-col gap-1 md:gap-2 z-30",children:[e.jsx(k,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:()=>U(!C),"aria-label":C?"Switch to map view":"Switch to satellite view",children:e.jsx(Ce,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(k,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:ne,"aria-label":"Zoom in",children:e.jsx(je,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsx(k,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:re,"aria-label":"Zoom out",children:e.jsx(Le,{className:"w-3 h-3 md:w-4 md:h-4"})})]}),e.jsx(k,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:te,disabled:L,"aria-label":"Center on current location",children:L?e.jsx(W,{size:"sm"}):e.jsx(we,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsx(k,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:ie,"aria-label":"Reset map view",children:e.jsx(Pe,{className:"w-3 h-3 md:w-4 md:h-4"})})]}),e.jsx("div",{className:"absolute bottom-2 left-2 md:bottom-4 md:left-4 z-30",children:e.jsx(X,{className:"bg-background/95 backdrop-blur-sm",children:e.jsx(Z,{className:"p-2 md:p-3",children:e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsx("div",{className:"font-medium mb-1 md:mb-2 text-xs md:text-sm",children:"Legend"}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[e.jsx("div",{className:"w-2 h-2 md:w-3 md:h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-xs",children:"You"})]}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[e.jsx("div",{className:"w-2 h-2 md:w-3 md:h-3 bg-primary rounded-full"}),e.jsx("span",{className:"text-xs",children:"Games"})]}),n&&e.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[e.jsx(A,{className:"w-2 h-2 md:w-3 md:h-3 text-destructive"}),e.jsx("span",{className:"text-xs",children:"Selected"})]})]})})})}),g&&F.length>0&&e.jsx("div",{className:"absolute top-2 left-2 md:top-4 md:left-4 z-30",children:e.jsxs(H,{variant:"secondary",className:"bg-background/95 backdrop-blur-sm text-xs",children:[F.length," game",F.length!==1?"s":""]})})]})}const Ge=[{name:"All Sports",value:"all"},{name:"Basketball",value:"basketball"},{name:"Soccer",value:"soccer"},{name:"Tennis",value:"tennis"},{name:"Pickleball",value:"pickleball"},{name:"Volleyball",value:"volleyball"},{name:"Flag Football",value:"flag football"},{name:"Baseball",value:"baseball"},{name:"Golf",value:"golf"},{name:"Hockey",value:"hockey"},{name:"Rugby",value:"rugby"}];function Re({game:a,onSelect:r}){const{joinGame:m,leaveGame:c}=be(),f=i=>{i.stopPropagation(),a.isJoined?c(a.id):m(a.id)},g=()=>{r()};return e.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border cursor-pointer hover:shadow-md transition-shadow",onClick:g,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:a.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.sport})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"text-sm font-medium",children:a.cost}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.currentPlayers,"/",a.maxPlayers," players"]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:a.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:[a.currentPlayers,"/",a.maxPlayers," players"]})]}),a.distance&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"üìè"}),e.jsx("span",{children:a.distance})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:[a.date," at ",a.time]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:a.description}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.isJoined?e.jsx("span",{className:"inline-block bg-success/20 text-success dark:bg-success/30 dark:text-success text-xs px-2 py-1 rounded",children:"Joined ‚úì"}):e.jsx("div",{}),e.jsx("button",{onClick:f,className:`px-3 py-1 rounded text-sm font-medium transition-colors ${a.isJoined?"bg-destructive/20 text-destructive dark:bg-destructive/30 dark:text-destructive hover:bg-destructive/30 dark:hover:bg-destructive/40":"bg-primary text-primary-foreground hover:bg-primary/90"}`,children:a.isJoined?"Leave":"Join"})]})]})}function es(){const a=xe(),{currentLocation:r,isLoading:m,requestLocation:c}=ee(),[f,g]=l.useState(""),[i,x]=l.useState("all"),[N,M]=l.useState(!1),[v,d]=l.useState("list"),[L,P]=l.useState([]),[z,h]=l.useState(!1);l.useEffect(()=>{(async()=>{h(!0);try{const n=await pe.getGames();P(n)}catch(n){console.error("Error loading games:",n),P([])}finally{h(!1)}})()},[]);const j=s=>{a(`/game/${s}`)},p=()=>{a(-1)},S=s=>({Basketball:"bg-orange-500",Soccer:"bg-green-500",Tennis:"bg-yellow-500",Pickleball:"bg-purple-500",Volleyball:"bg-blue-500","Flag Football":"bg-red-500",Baseball:"bg-amber-600",Golf:"bg-emerald-600",Hockey:"bg-slate-600",Rugby:"bg-indigo-600"})[s]||"bg-gray-500",o=L.map(s=>{let n="Unknown distance";if(r&&s.latitude&&s.longitude){const u=_(r.latitude,r.longitude,s.latitude,s.longitude);n=O(u)}return{...s,distance:n,sportColor:S(s.sport),imageUrl:s.imageUrl||"",currentPlayers:s.currentPlayers||s.participants||0,maxPlayers:s.maxPlayers||s.maxParticipants||0}}).filter(s=>{const n=s.title.toLowerCase().includes(f.toLowerCase())||s.sport.toLowerCase().includes(f.toLowerCase())||s.location.toLowerCase().includes(f.toLowerCase()),u=i==="all"||s.sport.toLowerCase()===i.toLowerCase();return n&&u});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[e.jsx(k,{variant:"ghost",size:"icon",onClick:p,children:e.jsx(ye,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(fe,{id:"search-games",name:"search-games",value:f,onChange:s=>g(s.target.value),placeholder:"Search games, sports, locations...",className:"pl-10"})]}),e.jsx(k,{variant:"outline",size:"icon",onClick:()=>M(!N),children:e.jsx(Ee,{className:"w-4 h-4"})})]}),N&&e.jsx("div",{className:"px-4 pb-4 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Sort by"}),e.jsxs("select",{className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"distance",children:"Distance"}),e.jsx("option",{value:"time",children:"Time"}),e.jsx("option",{value:"players",children:"Players Needed"}),e.jsx("option",{value:"cost",children:"Cost"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Date"}),e.jsxs("select",{className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"",children:"Any time"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"tomorrow",children:"Tomorrow"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"})]})]})]})}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Ge.map(s=>e.jsx(H,{variant:i===s.value?"default":"outline",className:"cursor-pointer whitespace-nowrap",onClick:()=>x(s.value),children:s.name},s.value))})})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx(k,{variant:v==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),children:"List View"}),e.jsx(k,{variant:v==="map"?"default":"outline",size:"sm",onClick:()=>d("map"),children:"Map View"})]}),v==="list"?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold",children:[o.length," games found"]}),f&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:['Results for "',f,'"']})]})}),e.jsx("div",{className:"space-y-4",children:o.map(s=>e.jsx(Re,{game:s,onSelect:()=>j(s.id)},s.id))}),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Q,{className:"w-6 h-6 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No games found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),e.jsx(k,{variant:"outline",onClick:()=>{g(""),x("all")},children:"Clear filters"})]})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-card rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Games Near You"}),r?e.jsxs("div",{className:"relative",children:[e.jsx(Ie,{games:o.map(s=>({id:s.id,title:s.title,sport:s.sport,location:{latitude:s.latitude||r.latitude+(Math.random()-.5)*.01,longitude:s.longitude||r.longitude+(Math.random()-.5)*.01},locationName:s.location,date:s.date,time:s.time,players:s.currentPlayers||s.players,maxPlayers:s.maxPlayers,cost:s.cost,difficulty:s.difficulty})),center:r,zoom:13,className:"h-64 md:h-80",showCurrentLocation:!0,showGameMarkers:!0,onGameSelect:j}),e.jsxs("div",{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm rounded-md px-2 py-1 text-xs",children:["üìç You ‚Ä¢ üéÆ ",o.length," Games"]})]}):e.jsxs("div",{className:"w-full h-64 md:h-80 bg-muted rounded-lg flex flex-col items-center justify-center border",children:[e.jsx("div",{className:"text-4xl mb-2",children:"üìç"}),e.jsx("p",{className:"text-muted-foreground text-center",children:"Allow location access to see games on map"}),e.jsx(k,{onClick:c,variant:"outline",size:"sm",className:"mt-2",disabled:m,children:m?"Requesting...":"Enable Location"})]})]})})]})]})}export{es as SearchDiscovery};
//# sourceMappingURL=SearchDiscovery-B_jSimyX.js.map
