import{j as e}from"./ui-UCUxpkFH.js";import{r as u}from"./vendor-IUqyc6Bg.js";import{u as P,b as G,B as d,C as t,a as r,d as c,e as o}from"./index-B8K4da9u.js";import{B as m}from"./badge-B1q9YN5V.js";import{A as U,a as k,b as B}from"./avatar-CK_JcqKl.js";import{u as H,a as T,b as M}from"./useUserProfile-Bf5DO1OV.js";import{f as _}from"./dateUtils-But3d3jk.js";import{C as f}from"./calendar-ppjY-GzZ.js";import{M as D}from"./map-pin-Dx_7aI26.js";import{T as E}from"./trophy-Bnq9MStu.js";import{S as R}from"./settings-Cc1hUq5y.js";import"./useQuery-CBrP0Umh.js";function Y(){const l=P(),{user:a}=G(),{data:n,isLoading:g}=H(a?.id||""),{data:x=[],isLoading:p}=T(a?.id||"",5),{data:h=[],isLoading:v}=M(a?.id||""),N=g||p||v,b=u.useMemo(()=>[{label:"Games Played",value:n?.games_played?.toString()||"0",icon:f},{label:"Games Hosted",value:n?.games_hosted?.toString()||"0",icon:D},{label:"Achievements",value:h.length.toString(),icon:E}],[n,h]),j=u.useMemo(()=>x.map(s=>({id:s.games?.id||s.id,title:s.games?.title||s.title,sport:s.games?.sport||s.sport,date:s.games?.date||s.date,time:s.games?.time||s.time,location:s.games?.location||s.location,isHost:(s.games?.created_by||s.created_by)===a?.id})),[x,a?.id]),i=a?.name||"User Profile",y=a?.username?`@${a.username}`:"@user",S=a?.bio||"Sports enthusiast â€¢ Always up for a game!",C=a?.avatar||"",w=a?.preferences?.sports||["Basketball","Soccer","Tennis","Volleyball"],A=!(a?.name&&a?.email);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 pt-12 pb-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Profile"}),e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>l("/settings"),children:e.jsx(R,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-4 space-y-6",children:[e.jsx(t,{children:e.jsxs(r,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(U,{className:"w-16 h-16",children:[e.jsx(k,{src:C,alt:i}),e.jsx(B,{className:"text-xl",children:i.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold",children:i}),e.jsx("p",{className:"text-muted-foreground",children:y}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:S})]})]}),e.jsx(d,{variant:"outline",className:"w-full",onClick:()=>l("/profile/edit"),children:"Edit Profile"}),A&&e.jsx(d,{variant:"outline",className:"w-full mt-2",onClick:()=>l("/onboarding"),children:"Complete Profile"})]})}),e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(o,{children:"Stats"})}),e.jsx(r,{children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:b.map(s=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(s.icon,{className:"w-5 h-5 text-primary"})}),e.jsx("div",{className:"text-2xl font-semibold",children:s.value}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.label})]},s.label))})})]}),e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(o,{children:"Sports I Play"})}),e.jsx(r,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(s=>e.jsx(m,{variant:"secondary",children:s},s))})})]}),e.jsxs(t,{children:[e.jsx(c,{children:e.jsx(o,{children:"Recent Games"})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:N?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Loading recent games..."})]}):j.length>0?j.map((s,L)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:s.title}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(s.date).toLocaleDateString()," at ",_(s.time)]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.isHost&&e.jsx(m,{variant:"secondary",className:"text-xs",children:"Host"}),e.jsx(m,{variant:"outline",children:s.sport})]})]},s.id||L)):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(f,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No recent games"}),e.jsx("p",{className:"text-sm",children:"Join your first game to see it here!"})]})})})]})]})]})}export{Y as default};
//# sourceMappingURL=UserProfile-DRRf1uVy.js.map
