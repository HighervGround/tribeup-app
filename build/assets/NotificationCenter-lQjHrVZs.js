import{c as y,u as q,r as f,j as e,B as i,n as B,R as S,C as U,b as I,t as d}from"./index-1UwNT_Si.js";import{B as D}from"./badge-BdXIAS1m.js";import{a as G}from"./empty-state-BSQSV97n.js";import{u as P}from"./useNotifications-DKMFZlqb.js";import{u as W}from"./useDeepLinks-hNgjL5qg.js";import{A as E}from"./arrow-left-BIM28Npq.js";import{S as V}from"./settings-02HijNS5.js";import{C as F}from"./check-BIC4tWY-.js";import{B as j}from"./bell-BHb5UCHf.js";import{U as N}from"./users-Cqv-I5eG.js";import{C as H}from"./calendar-BnTVQn8i.js";import{M as J}from"./message-square-OJhRpMtf.js";import"./circle-check-big-mR77UU1L.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],O=y("check-check",K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],v=y("trash-2",Q),X=r=>{switch(r){case"new_message":return e.jsx(J,{className:"w-5 h-5 text-blue-500"});case"game_reminder":return e.jsx(H,{className:"w-5 h-5 text-orange-500"});case"game_update":return e.jsx(N,{className:"w-5 h-5 text-green-500"});case"join_request":return e.jsx(N,{className:"w-5 h-5 text-purple-500"});case"system":return e.jsx(j,{className:"w-5 h-5 text-gray-500"});default:return e.jsx(j,{className:"w-5 h-5 text-gray-500"})}},Y=r=>{switch(r){case"new_message":return"bg-blue-500/10 border-blue-500/20";case"game_reminder":return"bg-orange-500/10 border-orange-500/20";case"game_update":return"bg-green-500/10 border-green-500/20";case"join_request":return"bg-purple-500/10 border-purple-500/20";case"system":return"bg-gray-500/10 border-gray-500/20";default:return"bg-muted/50 border-border"}};function ue(){const r=q(),{navigateToGame:k,navigateToChat:b,navigateToUser:w}=W(),[u,x]=f.useState(!1),[m,C]=f.useState("all"),{notifications:l,unreadCount:c,markAsRead:h,markAllAsRead:_,deleteNotification:A,clearAll:M}=P(),g=l.filter(s=>{switch(m){case"unread":return!s.read;case"messages":return s.type==="new_message";case"games":return["game_reminder","game_update","join_request"].includes(s.type);default:return!0}}),z=async s=>{if(s.read||h(s.id),s.actionUrl){const t=s.actionUrl;if(t.startsWith("/game/")){const a=t.split("/")[2];k(a)}else if(t.startsWith("/chat/")){const a=t.split("/"),n=a[2],o=a[3];b(n,o)}else if(t.startsWith("/user/")){const a=t.split("/")[2];w(a)}else r(t)}},R=async()=>{x(!0),await new Promise(s=>setTimeout(s,1e3)),x(!1),d.success("Notifications refreshed")},L=()=>{_(),d.success("All notifications marked as read")},T=()=>{M(),d.success("All notifications cleared")},$=s=>{const a=new Date().getTime()-s.getTime(),n=Math.floor(a/6e4),o=Math.floor(n/60),p=Math.floor(o/24);return n<1?"Just now":n<60?`${n}m ago`:o<24?`${o}h ago`:p<7?`${p}d ago`:s.toLocaleDateString()};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>r(-1),"aria-label":"Go back",children:e.jsx(E,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl",children:"Notifications"}),c>0&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[c," unread notification",c!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:R,disabled:u,"aria-label":"Refresh notifications",children:u?e.jsx(B,{size:"sm"}):e.jsx(S,{className:"w-4 h-4"})}),e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>r("/settings/notifications"),"aria-label":"Notification settings",children:e.jsx(V,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{key:"all",label:"All",count:l.length},{key:"unread",label:"Unread",count:c},{key:"messages",label:"Messages",count:l.filter(s=>s.type==="new_message").length},{key:"games",label:"Games",count:l.filter(s=>["game_reminder","game_update","join_request"].includes(s.type)).length}].map(s=>e.jsxs("button",{onClick:()=>C(s.key),className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all whitespace-nowrap ${m===s.key?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[e.jsx("span",{children:s.label}),s.count>0&&e.jsx(D,{variant:m===s.key?"secondary":"outline",className:"text-xs min-w-[20px] h-5",children:s.count})]},s.key))})}),l.length>0&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"flex gap-2",children:[c>0&&e.jsxs(i,{variant:"outline",size:"sm",onClick:L,className:"text-xs",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Mark All Read"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:T,className:"text-xs text-destructive hover:text-destructive",children:[e.jsx(v,{className:"w-3 h-3 mr-1"}),"Clear All"]})]})})]}),e.jsx("div",{className:"px-4 py-6",id:"main-content",children:u?e.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((s,t)=>e.jsx("div",{className:"h-20 bg-muted/50 rounded-lg animate-pulse"},t))},"loading"):g.length===0?e.jsx("div",{children:e.jsx(G,{filter:m})},"empty"):e.jsx("div",{className:"space-y-3",children:g.map((s,t)=>e.jsx("div",{children:e.jsx(U,{className:`cursor-pointer transition-all hover:shadow-md ${s.read?"":"border-l-4 border-l-primary"} ${Y(s.type)}`,onClick:()=>z(s),children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:X(s.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`font-medium ${s.read?"text-muted-foreground":"text-foreground"}`,children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:s.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:$(s.timestamp)}),!s.read&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[!s.read&&e.jsx(i,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),h(s.id),d.success("Marked as read")},"aria-label":"Mark as read",className:"h-8 w-8 p-0",children:e.jsx(F,{className:"w-3 h-3"})}),e.jsx(i,{variant:"ghost",size:"sm",onClick:a=>{a.stopPropagation(),A(s.id),d.success("Notification deleted")},"aria-label":"Delete notification",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsx(v,{className:"w-3 h-3"})})]})]})})]})})})},s.id))},"notifications")})]})}export{ue as NotificationCenter,ue as default};
//# sourceMappingURL=NotificationCenter-lQjHrVZs.js.map
