import{j as e}from"./ui-B4gQYcc6.js";import{e as s,r as a}from"./vendor-CTE-63Sz.js";import{f as t,B as i,k as r,L as n,b as l,C as c,a as o}from"./index-DjD2F37Y.js";import{B as d,C as m,u,h as x,A as h,R as p,m as g,G as f,x as j,I as N,t as b,f as v}from"./utils-B5KmqWpW.js";import{u as w}from"./useDeepLinks-DCaDGyBd.js";import"./data-pHbUkPVm.js";function y({icon:s,title:a,description:r,action:n,className:l,size:c="md"}){return e.jsxs("div",{className:t("flex flex-col items-center justify-center text-center",{sm:"py-8 px-4",md:"py-12 px-6",lg:"py-16 px-8"}[c],l),children:[s&&e.jsx("div",{className:t("text-muted-foreground mb-4 flex items-center justify-center",{sm:"w-12 h-12",md:"w-16 h-16",lg:"w-20 h-20"}[c]),children:s}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:a}),r&&e.jsx("p",{className:"text-muted-foreground max-w-md mb-6",children:r}),n&&e.jsx(i,{onClick:n.onClick,variant:n.variant||"default",children:n.label})]})}function k({filter:s}){const a=(()=>{switch(s){case"unread":return{title:"All caught up!",description:"You have no unread notifications. You're all up to date!",icon:e.jsx(x,{className:"w-8 h-8"})};case"messages":return{title:"No message notifications",description:"You haven't received any message notifications recently.",icon:e.jsx(u,{className:"w-8 h-8"})};case"games":return{title:"No game notifications",description:"No game updates, reminders, or join requests at the moment.",icon:e.jsx(m,{className:"w-8 h-8"})};default:return{title:"No notifications",description:"When you receive notifications, they'll appear here. Stay tuned for updates!",icon:e.jsx(d,{className:"w-8 h-8"})}}})();return e.jsx(y,{icon:a.icon,title:a.title,description:a.description,size:"md"})}const C=s=>{switch(s){case"new_message":return e.jsx(u,{className:"w-5 h-5 text-blue-500"});case"game_reminder":return e.jsx(m,{className:"w-5 h-5 text-orange-500"});case"game_update":return e.jsx(v,{className:"w-5 h-5 text-green-500"});case"join_request":return e.jsx(v,{className:"w-5 h-5 text-purple-500"});default:return e.jsx(d,{className:"w-5 h-5 text-gray-500"})}},_=e=>{switch(e){case"new_message":return"bg-blue-500/10 border-blue-500/20";case"game_reminder":return"bg-orange-500/10 border-orange-500/20";case"game_update":return"bg-green-500/10 border-green-500/20";case"join_request":return"bg-purple-500/10 border-purple-500/20";case"system":return"bg-gray-500/10 border-gray-500/20";default:return"bg-muted/50 border-border"}};function z(){const t=s(),{navigateToGame:d,navigateToChat:m,navigateToUser:u}=w(),[x,v]=a.useState(!1),[y,z]=a.useState("all"),{notifications:A,unreadCount:T,markAsRead:q,markAllAsRead:M,deleteNotification:R,clearAll:$}=r(),D=A.filter(e=>{switch(y){case"unread":return!e.read;case"messages":return"new_message"===e.type;case"games":return["game_reminder","game_update","join_request"].includes(e.type);default:return!0}}),G=e=>{const s=(new Date).getTime()-e.getTime(),a=Math.floor(s/6e4),t=Math.floor(a/60),i=Math.floor(t/24);return a<1?"Just now":a<60?`${a}m ago`:t<24?`${t}h ago`:i<7?`${i}d ago`:e.toLocaleDateString()};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>t(-1),"aria-label":"Go back",children:e.jsx(h,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl",children:"Notifications"}),T>0&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:[T," unread notification",1!==T?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:async()=>{v(!0),await new Promise(e=>setTimeout(e,1e3)),v(!1),b.success("Notifications refreshed")},disabled:x,"aria-label":"Refresh notifications",children:x?e.jsx(n,{size:"sm"}):e.jsx(p,{className:"w-4 h-4"})}),e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>t("/settings/notifications"),"aria-label":"Notification settings",children:e.jsx(g,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:[{key:"all",label:"All",count:A.length},{key:"unread",label:"Unread",count:T},{key:"games",label:"Games",count:A.filter(e=>["game_reminder","game_update","join_request"].includes(e.type)).length}].map(s=>e.jsxs("button",{onClick:()=>z(s.key),className:"flex items-center gap-2 px-4 py-2 rounded-full transition-all whitespace-nowrap "+(y===s.key?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"),children:[e.jsx("span",{children:s.label}),s.count>0&&e.jsx(l,{variant:y===s.key?"secondary":"outline",className:"text-xs min-w-[20px] h-5",children:s.count})]},s.key))})}),A.length>0&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"flex gap-2",children:[T>0&&e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>{M()},className:"text-xs",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),"Mark All Read"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>{$()},className:"text-xs text-destructive hover:text-destructive",children:[e.jsx(j,{className:"w-3 h-3 mr-1"}),"Clear All"]})]})})]}),e.jsx("div",{className:"px-4 py-6",id:"main-content",children:x?e.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((s,a)=>e.jsx("div",{className:"h-20 bg-muted/50 rounded-lg animate-pulse"},a))},"loading"):0===D.length?e.jsx("div",{children:e.jsx(k,{filter:y})},"empty"):e.jsx("div",{className:"space-y-3",children:D.map((s,a)=>e.jsx("div",{children:e.jsx(c,{className:`cursor-pointer transition-all hover:shadow-md ${s.read?"":"border-l-4 border-l-primary"} ${_(s.type)}`,onClick:()=>(async e=>{if(e.read||q(e.id),e.actionUrl){const s=e.actionUrl;if(s.startsWith("/game/")){const e=s.split("/")[2];d(e)}else if(s.startsWith("/chat/")){const e=s.split("/"),a=e[2],t=e[3];m(a,t)}else if(s.startsWith("/user/")){const e=s.split("/")[2];u(e)}else t(s)}})(s),children:e.jsx(o,{className:"p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:C(s.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium "+(s.read?"text-muted-foreground":"text-foreground"),children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:s.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:G(s.timestamp)}),!s.read&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[!s.read&&e.jsx(i,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),q(s.id)},"aria-label":"Mark as read",className:"h-8 w-8 p-0",children:e.jsx(N,{className:"w-3 h-3"})}),e.jsx(i,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),R(s.id)},"aria-label":"Delete notification",className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsx(j,{className:"w-3 h-3"})})]})]})})]})})})},s.id))},"notifications")})]})}export{z as default};
//# sourceMappingURL=NotificationCenter-CilCIGY9.js.map
