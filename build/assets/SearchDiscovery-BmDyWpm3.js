import{j as e}from"./ui-CP9S0NWy.js";import{r as l}from"./vendor-IUqyc6Bg.js";import{c as D,t as V,b as xe,L as Z,C as Y,d as J,B as N,u as ee,S as pe}from"./index-BvDHRzer.js";import{I as fe}from"./input-Ccf8NXY4.js";import{B as F}from"./badge-DS3nqrxW.js";import{E as be}from"./empty-state-a-DfhL-0.js";import{M as H}from"./map-pin-CZBZ6k-Q.js";import{U as W}from"./users-BEpUCJht.js";import{C as ve}from"./clock-C6leudES.js";import{D as je,u as ge}from"./useGameActions-Dx20Rm1_.js";import{P as ye}from"./plus-nhd-bFk6.js";import{A as Ne,a as we}from"./avatar-C4OWB5-b.js";import{I as ke}from"./ImageWithFallback-CNOJTTMW.js";import{C as Ce}from"./calendar-dBBjANHM.js";import{S as Le}from"./star-Bmjng6RE.js";import{A as Me}from"./arrow-left-BKkHOZx7.js";import{S as Q}from"./search-DTcx15-C.js";import"./bell-DyBDW9uX.js";import"./message-square-C0AHc3rY.js";import"./circle-check-big-cckYyip8.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Pe=D("crosshair",Se);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ee=D("layers",ze);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M5 12h14",key:"1ays0h"}]],Ge=D("minus",$e);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ae=D("rotate-ccw",Ie);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],Te=D("sliders-horizontal",Re);function _(t,n,c,d){const v=T(c-t),o=T(d-n),m=Math.sin(v/2)*Math.sin(v/2)+Math.cos(T(t))*Math.cos(T(c))*Math.sin(o/2)*Math.sin(o/2);return 6371*(2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)))}function T(t){return t*(Math.PI/180)}function O(t,n="km"){return n==="mi"&&(t=t*.621371),t<1?n==="km"?`${Math.round(t*1e3)}m`:`${Math.round(t*5280)}ft`:`${t.toFixed(1)}${n}`}function Fe(t,n){const c=n/111,d=n/(111*Math.cos(T(t.latitude)));return{north:t.latitude+c,south:t.latitude-c,east:t.longitude+d,west:t.longitude-d}}function se(t={}){const{enableHighAccuracy:n=!0,timeout:c=1e4,maximumAge:d=6e4,watchPosition:x=!1,autoRequest:v=!0}=t,[o,m]=l.useState({currentLocation:null,isLoading:!1,error:null,permission:"unknown",lastUpdated:null}),j=l.useRef(null),k=l.useRef(!1),y="geolocation"in navigator,u=l.useCallback(async()=>{if(!y)return m(s=>({...s,permission:"denied",error:"Geolocation not supported"})),"denied";try{if("permissions"in navigator){const s=await navigator.permissions.query({name:"geolocation"});return m(r=>({...r,permission:s.state})),s.state}}catch{console.warn("Permission API not supported")}return"unknown"},[y]),M=l.useCallback(async()=>y?k.current?null:(k.current=!0,m(s=>({...s,isLoading:!0,error:null})),new Promise(s=>{const r={enableHighAccuracy:n,timeout:c,maximumAge:d},i=b=>{const w={latitude:b.coords.latitude,longitude:b.coords.longitude,accuracy:b.coords.accuracy,altitude:b.coords.altitude||void 0,heading:b.coords.heading||void 0,speed:b.coords.speed||void 0};m(L=>({...L,currentLocation:w,isLoading:!1,error:null,permission:"granted",lastUpdated:new Date})),k.current=!1,s(w)},h=b=>{let w="Failed to get location",L="unknown";switch(b.code){case b.PERMISSION_DENIED:w="Location access denied by user",L="denied",V.error("Please enable location access to find nearby games");break;case b.POSITION_UNAVAILABLE:w="Location information unavailable";break;case b.TIMEOUT:w="Location request timed out";break}m(U=>({...U,isLoading:!1,error:w,permission:L})),k.current=!1,s(null)};navigator.geolocation.getCurrentPosition(i,h,r)})):(V.error("Location services are not supported by your browser"),null),[y,n,c,d]),P=l.useCallback(()=>{if(!y||j.current!==null)return;const s={enableHighAccuracy:n,timeout:c,maximumAge:d},r=h=>{const b={latitude:h.coords.latitude,longitude:h.coords.longitude,accuracy:h.coords.accuracy,altitude:h.coords.altitude||void 0,heading:h.coords.heading||void 0,speed:h.coords.speed||void 0};m(w=>({...w,currentLocation:b,lastUpdated:new Date}))},i=h=>{console.error("Location watch error:",h)};j.current=navigator.geolocation.watchPosition(r,i,s)},[y,n,c,d]),z=l.useCallback(()=>{j.current!==null&&(navigator.geolocation.clearWatch(j.current),j.current=null)},[]),p=l.useCallback(()=>{m(s=>({...s,currentLocation:null,error:null,lastUpdated:null}))},[]),g=l.useCallback((s,r="km")=>{if(!o.currentLocation)return null;const i=_(o.currentLocation.latitude,o.currentLocation.longitude,s.latitude,s.longitude);return r==="mi"?i*.621371:i},[o.currentLocation]),S=l.useCallback((s,r="km")=>{const i=g(s,r);return i?O(i,r):null},[g]),f=l.useCallback((s,r=5)=>{const i=g(s,"km");return i!==null&&i<=r},[g]);return l.useEffect(()=>(u(),v&&M(),x&&P(),()=>{z()}),[u,M,P,z,v,x]),{...o,isSupported:y,requestLocation:M,clearLocation:p,startWatching:P,stopWatching:z,getDistanceTo:g,getFormattedDistanceTo:S,isNearby:f,calculateDistance:(s,r,i,h)=>_(s,r,i,h),formatDistance:O,getBoundsFromCenter:s=>o.currentLocation?Fe(o.currentLocation,s):null}}function De({games:t=[],selectedGameId:n,onGameSelect:c,onLocationSelect:d,showCurrentLocation:x=!0,showGameMarkers:v=!0,allowLocationSelection:o=!1,center:m,zoom:j=13,className:k=""}){const y=xe(),{currentLocation:u,isLoading:M,error:P,requestLocation:z}=se(),[p,g]=l.useState(m||u||{latitude:29.6516,longitude:-82.3248}),[S,f]=l.useState(j),[s,r]=l.useState(!1),[i,h]=l.useState(null),[b,w]=l.useState(null),[L,U]=l.useState(!1),te=l.useRef(null),q=(t.length>0?t:y).map(a=>({id:a.id,title:a.title,sport:a.sport,location:{latitude:a.latitude||p.latitude+(Math.random()-.5)*.01,longitude:a.longitude||p.longitude+(Math.random()-.5)*.01},locationName:a.location,date:a.date,time:a.time,players:a.currentPlayers||a.players,maxPlayers:a.maxPlayers,cost:a.cost,difficulty:a.difficulty}));l.useEffect(()=>{u&&!m&&g(u)},[u,m]),l.useEffect(()=>{const a=setTimeout(()=>{r(!0)},1e3);return()=>clearTimeout(a)},[]);const ae=l.useCallback(()=>{u?(g(u),f(15),V.success("Centered on your location")):z()},[u,z]),le=l.useCallback(a=>{g(a.location),f(16),c&&c(a.id)},[c]),ne=l.useCallback(a=>{if(!o)return;const C=a.currentTarget.getBoundingClientRect(),E=a.clientX-C.left,I=a.clientY-C.top,$=Math.pow(2,S-10)*1e3,A=p.latitude+(I-C.height/2)*-.001/$,R=p.longitude+(E-C.width/2)*.001/$,G={latitude:A,longitude:R};h(G),d&&d(G)},[o,p,S,d]),re=l.useCallback(a=>{if(!o||a.touches.length!==1)return;const C=a.currentTarget.getBoundingClientRect(),E=a.touches[0],I=E.clientX-C.left,$=E.clientY-C.top,A=Math.pow(2,S-10)*1e3,R=p.latitude+($-C.height/2)*-.001/A,G=p.longitude+(I-C.width/2)*.001/A,B={latitude:R,longitude:G};h(B),d&&d(B)},[o,p,S,d]),oe=l.useCallback(()=>{f(a=>Math.min(a+1,18))},[]),ie=l.useCallback(()=>{f(a=>Math.max(a-1,1))},[]),ce=l.useCallback(()=>{u&&g(u),f(13),h(null)},[u]),de=a=>({Basketball:"bg-sport-basketball",Soccer:"bg-sport-soccer",Tennis:"bg-sport-tennis",Volleyball:"bg-sport-volleyball",Football:"bg-sport-football",Baseball:"bg-sport-baseball"})[a]||"bg-primary";return P?e.jsx("div",{className:`relative ${k}`,children:e.jsx(be,{icon:e.jsx(H,{className:"w-16 h-16"}),title:"Location Access Required",description:"Please enable location access to view the map and find nearby games.",action:{label:"Enable Location",onClick:z}})}):e.jsxs("div",{className:`relative overflow-hidden rounded-lg ${k}`,children:[e.jsxs("div",{ref:te,className:`relative w-full h-full min-h-[300px] md:min-h-[400px] cursor-crosshair transition-all duration-300 ${L?"bg-gray-800":"bg-green-100"}`,onClick:ne,onTouchEnd:re,role:"application","aria-label":"Interactive map showing games and locations",children:[(!s||M)&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50 backdrop-blur-sm z-10",children:e.jsx(Z,{size:"lg",text:"Loading map..."})}),e.jsx("div",{className:`absolute inset-0 opacity-30 ${L?"bg-gradient-to-br from-gray-900 via-gray-700 to-gray-800":"bg-gradient-to-br from-green-200 via-blue-100 to-green-300"}`,style:{backgroundImage:L?"radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.3) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%)":'url("data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%239C92AC" fill-opacity="0.1"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")'}}),x&&u&&e.jsx("div",{className:"absolute z-20",style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow-lg"}),e.jsx("div",{className:"absolute inset-0 w-4 h-4 bg-blue-500 rounded-full animate-ping opacity-30"}),e.jsx("div",{className:"absolute -top-1 -left-1 w-6 h-6 bg-blue-500/20 rounded-full animate-pulse"})]})}),v&&q.map((a,C)=>{const E=n===a.id,I=b===a.id,$=u?_(u.latitude,u.longitude,a.location.latitude,a.location.longitude):null,A=a.location.latitude-p.latitude,R=a.location.longitude-p.longitude,G=Math.pow(2,S-10)*1e3,B=50+R*G,ue=50-A*G,me=Math.max(8,Math.min(92,B)),X=Math.max(8,Math.min(92,ue));return e.jsx("div",{className:"absolute z-10 cursor-pointer",style:{left:`${me}%`,top:`${X}%`},onClick:he=>{he.stopPropagation(),le(a)},onMouseEnter:()=>w(a.id),onMouseLeave:()=>w(null),children:e.jsxs("div",{className:`relative ${E||I?"z-30":"z-10"}`,children:[e.jsx("div",{className:`
                  w-8 h-8 rounded-full border-2 border-white shadow-lg flex items-center justify-center
                  ${de(a.sport)} ${E?"ring-2 ring-primary":""}
                  transition-all duration-200
                `,children:e.jsx(W,{className:"w-4 h-4 text-white"})}),(E||I)&&e.jsx("div",{className:`absolute z-40 ${X>70?"bottom-full mb-2":"top-full mt-2"} left-1/2 transform -translate-x-1/2`,children:e.jsx(Y,{className:"w-64 max-w-[calc(100vw-2rem)] shadow-lg border-2 bg-background/95 backdrop-blur-sm",children:e.jsx(J,{className:"p-3",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium truncate",children:a.title}),e.jsx(F,{variant:"secondary",className:"text-xs flex-shrink-0",children:a.sport})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ve,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:a.time})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{className:"w-3 h-3"}),e.jsxs("span",{children:[a.players,"/",a.maxPlayers]})]}),a.cost!=="Free"&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(je,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:a.cost})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:"truncate mr-2",children:a.locationName}),$&&e.jsxs("span",{className:"flex-shrink-0",children:[O($)," away"]})]})]})})})})]})},a.id)}),i&&o&&e.jsx("div",{className:"absolute z-20",style:{left:"60%",top:"45%",transform:"translate(-50%, -50%)"},children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(H,{className:"w-8 h-8 text-destructive drop-shadow-lg"}),e.jsx("div",{className:"mt-1 px-2 py-1 bg-white rounded shadow text-xs",children:"Selected Location"})]})})]}),e.jsxs("div",{className:"absolute top-2 right-2 md:top-4 md:right-4 flex flex-col gap-1 md:gap-2 z-30",children:[e.jsx(N,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:()=>U(!L),"aria-label":L?"Switch to map view":"Switch to satellite view",children:e.jsx(Ee,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(N,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:oe,"aria-label":"Zoom in",children:e.jsx(ye,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsx(N,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:ie,"aria-label":"Zoom out",children:e.jsx(Ge,{className:"w-3 h-3 md:w-4 md:h-4"})})]}),e.jsx(N,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:ae,disabled:M,"aria-label":"Center on current location",children:M?e.jsx(Z,{size:"sm"}):e.jsx(Pe,{className:"w-3 h-3 md:w-4 md:h-4"})}),e.jsx(N,{variant:"outline",size:"icon",className:"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10",onClick:ce,"aria-label":"Reset map view",children:e.jsx(Ae,{className:"w-3 h-3 md:w-4 md:h-4"})})]}),e.jsx("div",{className:"absolute bottom-2 left-2 md:bottom-4 md:left-4 z-30",children:e.jsx(Y,{className:"bg-background/95 backdrop-blur-sm",children:e.jsx(J,{className:"p-2 md:p-3",children:e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsx("div",{className:"font-medium mb-1 md:mb-2 text-xs md:text-sm",children:"Legend"}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[e.jsx("div",{className:"w-2 h-2 md:w-3 md:h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-xs",children:"You"})]}),e.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[e.jsx("div",{className:"w-2 h-2 md:w-3 md:h-3 bg-primary rounded-full"}),e.jsx("span",{className:"text-xs",children:"Games"})]}),i&&e.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[e.jsx(H,{className:"w-2 h-2 md:w-3 md:h-3 text-destructive"}),e.jsx("span",{className:"text-xs",children:"Selected"})]})]})})})}),v&&q.length>0&&e.jsx("div",{className:"absolute top-2 left-2 md:top-4 md:left-4 z-30",children:e.jsxs(F,{variant:"secondary",className:"bg-background/95 backdrop-blur-sm text-xs",children:[q.length," game",q.length!==1?"s":""]})})]})}function K({game:t,compact:n=!1,onSelect:c}){const d=ee(),[x,v]=l.useState(!1),{toggleGameParticipation:o}=ge(),m=()=>{c?c(t.id):d(`/game/${t.id}`)},j=k=>{k.stopPropagation(),o(t.id)};return e.jsx("div",{onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:e.jsxs(Y,{className:`overflow-hidden cursor-pointer transition-all duration-200 ease-out ${n?"w-full":""} ${x?"shadow-medium":"shadow-subtle"}`,onClick:m,children:[e.jsxs("div",{className:"relative overflow-hidden",children:[t.imageUrl?e.jsx("div",{className:`aspect-video ${n?"aspect-[4/3]":""} overflow-hidden`,children:e.jsx(ke,{src:t.imageUrl,alt:t.sport,className:"w-full h-full object-cover transition-transform duration-300 ease-out"})}):e.jsx("div",{className:"h-16 bg-gradient-to-r from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsx(F,{variant:"secondary",className:"text-sm",children:t.sport})}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/20 to-transparent transition-opacity duration-200 ${x?"opacity-10":"opacity-0"}`}),e.jsxs("div",{className:"absolute top-3 left-3 bg-background/95 backdrop-blur-sm rounded-lg px-3 py-2 min-w-[80px]",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(Ce,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.date})]}),e.jsx("div",{className:"text-sm font-medium",children:t.time})]}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(F,{className:`${t.sportColor} text-white border-none`,children:t.sport})}),t.isJoined&&e.jsx("div",{className:"absolute bottom-3 right-3 w-6 h-6 bg-success rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),e.jsxs(J,{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:t.title}),e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:t.location})]})]}),!n&&e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ne,{className:"w-6 h-6",children:e.jsx(we,{className:"text-xs",children:t.host.name.charAt(0)})}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Hosted by ",t.host.name]})]}),t.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:t.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.currentPlayers||t.participants,"/",t.maxPlayers||t.maxParticipants]})]}),!t.isJoined&&!n&&e.jsx(N,{size:"sm",onClick:j,className:"transition-all duration-200",disabled:t.currentPlayers>=t.maxPlayers,children:t.currentPlayers>=t.maxPlayers?"Game Full":"Join Game"}),t.isJoined&&!n&&e.jsx(N,{size:"sm",variant:"outline",onClick:j,className:"transition-all duration-200 bg-destructive/20 text-destructive hover:bg-destructive/30",children:"Leave Game"})]})]})]})})}const qe=[{name:"All Sports",value:"all"},{name:"Basketball",value:"basketball"},{name:"Soccer",value:"soccer"},{name:"Tennis",value:"tennis"},{name:"Pickleball",value:"pickleball"},{name:"Volleyball",value:"volleyball"},{name:"Flag Football",value:"flag football"},{name:"Baseball",value:"baseball"},{name:"Golf",value:"golf"},{name:"Hockey",value:"hockey"},{name:"Rugby",value:"rugby"}];function is(){const t=ee(),{currentLocation:n,isLoading:c,requestLocation:d}=se(),[x,v]=l.useState(""),[o,m]=l.useState("all"),[j,k]=l.useState(!1),[y,u]=l.useState("list"),[M,P]=l.useState([]),[z,p]=l.useState(!1);l.useEffect(()=>{(async()=>{p(!0);try{const r=await pe.getGames();P(r)}catch(r){console.error("Error loading games:",r),P([])}finally{p(!1)}})()},[]);const g=s=>{t(`/game/${s}`)},S=()=>{t(-1)},f=M.map(s=>{let r="Unknown distance";if(n&&s.latitude&&s.longitude){const i=_(n.latitude,n.longitude,s.latitude,s.longitude);r=O(i)}return{...s,distance:r}}).filter(s=>{const r=s.title.toLowerCase().includes(x.toLowerCase())||s.sport.toLowerCase().includes(x.toLowerCase())||s.location.toLowerCase().includes(x.toLowerCase()),i=o==="all"||s.sport.toLowerCase()===o.toLowerCase();return r&&i});return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:[e.jsxs("div",{className:"flex items-center gap-4 px-4 py-4",children:[e.jsx(N,{variant:"ghost",size:"icon",onClick:S,children:e.jsx(Me,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(fe,{id:"search-games",name:"search-games",value:x,onChange:s=>v(s.target.value),placeholder:"Search games, sports, locations...",className:"pl-10"})]}),e.jsx(N,{variant:"outline",size:"icon",onClick:()=>k(!j),children:e.jsx(Te,{className:"w-4 h-4"})})]}),j&&e.jsx("div",{className:"px-4 pb-4 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Sort by"}),e.jsxs("select",{className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"distance",children:"Distance"}),e.jsx("option",{value:"time",children:"Time"}),e.jsx("option",{value:"players",children:"Players Needed"}),e.jsx("option",{value:"cost",children:"Cost"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Date"}),e.jsxs("select",{className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"",children:"Any time"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"tomorrow",children:"Tomorrow"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"})]})]})]})}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:qe.map(s=>e.jsx(F,{variant:o===s.value?"default":"outline",className:"cursor-pointer whitespace-nowrap",onClick:()=>m(s.value),children:s.name},s.value))})})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx(N,{variant:y==="list"?"default":"outline",size:"sm",onClick:()=>u("list"),children:"List View"}),e.jsx(N,{variant:y==="map"?"default":"outline",size:"sm",onClick:()=>u("map"),children:"Map View"})]}),y==="list"?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold",children:[f.length," games found"]}),x&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:['Results for "',x,'"']})]})}),e.jsx("div",{className:"space-y-4",children:f.map(s=>e.jsxs("div",{className:"relative",children:[e.jsx(K,{game:{...s,participants:s.currentPlayers||s.participants||0,maxParticipants:s.maxPlayers||s.maxParticipants||0,host:{name:s.hostName||"Host",avatar:s.hostAvatar||""},isHosted:!1},onSelect:()=>g(s.id)}),e.jsx("div",{className:"absolute top-4 left-4 bg-background/95 backdrop-blur-sm rounded px-2 py-1",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:s.distance})})]},s.id))}),f.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Q,{className:"w-6 h-6 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No games found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),e.jsx(N,{variant:"outline",onClick:()=>{v(""),m("all")},children:"Clear filters"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-card rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Games Near You"}),n?e.jsxs("div",{className:"relative",children:[e.jsx(De,{games:f.map(s=>({id:s.id,title:s.title,sport:s.sport,location:{latitude:s.latitude||n.latitude+(Math.random()-.5)*.01,longitude:s.longitude||n.longitude+(Math.random()-.5)*.01},locationName:s.location,date:s.date,time:s.time,players:s.currentPlayers||s.players,maxPlayers:s.maxPlayers,cost:s.cost,difficulty:s.difficulty})),center:n,zoom:13,className:"h-64 md:h-80",showCurrentLocation:!0,showGameMarkers:!0,onGameSelect:g}),e.jsxs("div",{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm rounded-md px-2 py-1 text-xs",children:["ðŸ“ You â€¢ ðŸŽ® ",f.length," Games"]})]}):e.jsxs("div",{className:"w-full h-64 md:h-80 bg-muted rounded-lg flex flex-col items-center justify-center border",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ“"}),e.jsx("p",{className:"text-muted-foreground text-center",children:"Allow location access to see games on map"}),e.jsx(N,{onClick:d,variant:"outline",size:"sm",className:"mt-2",disabled:c,children:c?"Requesting...":"Enable Location"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h3",{className:"text-lg font-semibold",children:[f.length," games in map area"]})}),f.map(s=>e.jsx(K,{game:{...s,participants:s.currentPlayers||s.participants||0,maxParticipants:s.maxPlayers||s.maxParticipants||0,host:{name:s.hostName||"Host",avatar:s.hostAvatar||""},isHosted:!1},onSelect:()=>g(s.id)},s.id))]})]})]})]})}export{is as SearchDiscovery};
//# sourceMappingURL=SearchDiscovery-BmDyWpm3.js.map
