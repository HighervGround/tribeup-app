{"version":3,"file":"GameDetails-Cjwv3sr6.js","sources":["../../node_modules/lucide-react/dist/esm/icons/copy.js","../../node_modules/lucide-react/dist/esm/icons/dollar-sign.js","../../node_modules/lucide-react/dist/esm/icons/ellipsis-vertical.js","../../node_modules/lucide-react/dist/esm/icons/navigation.js","../../node_modules/lucide-react/dist/esm/icons/pen-line.js","../../node_modules/lucide-react/dist/esm/icons/phone.js","../../src/components/ui/dropdown-menu.tsx","../../src/components/ui/dialog.tsx","../../src/hooks/useGameActions.ts","../../src/components/QuickJoinModal.tsx","../../src/components/ShareGameModal.tsx","../../src/lib/weatherService.ts","../../src/components/GameDetails.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"14\", height: \"14\", x: \"8\", y: \"8\", rx: \"2\", ry: \"2\", key: \"17jyea\" }],\n  [\"path\", { d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\", key: \"zix9uf\" }]\n];\nconst Copy = createLucideIcon(\"copy\", __iconNode);\n\nexport { __iconNode, Copy as default };\n//# sourceMappingURL=copy.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"22\", key: \"7eqyqh\" }],\n  [\"path\", { d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\", key: \"1b0p4s\" }]\n];\nconst DollarSign = createLucideIcon(\"dollar-sign\", __iconNode);\n\nexport { __iconNode, DollarSign as default };\n//# sourceMappingURL=dollar-sign.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"1\", key: \"41hilf\" }],\n  [\"circle\", { cx: \"12\", cy: \"5\", r: \"1\", key: \"gxeob9\" }],\n  [\"circle\", { cx: \"12\", cy: \"19\", r: \"1\", key: \"lyex9k\" }]\n];\nconst EllipsisVertical = createLucideIcon(\"ellipsis-vertical\", __iconNode);\n\nexport { __iconNode, EllipsisVertical as default };\n//# sourceMappingURL=ellipsis-vertical.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"polygon\", { points: \"3 11 22 2 13 21 11 13 3 11\", key: \"1ltx0t\" }]\n];\nconst Navigation = createLucideIcon(\"navigation\", __iconNode);\n\nexport { __iconNode, Navigation as default };\n//# sourceMappingURL=navigation.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 20h9\", key: \"t2du7b\" }],\n  [\n    \"path\",\n    {\n      d: \"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z\",\n      key: \"1ykcvy\"\n    }\n  ]\n];\nconst PenLine = createLucideIcon(\"pen-line\", __iconNode);\n\nexport { __iconNode, PenLine as default };\n//# sourceMappingURL=pen-line.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\",\n      key: \"foiqr5\"\n    }\n  ]\n];\nconst Phone = createLucideIcon(\"phone\", __iconNode);\n\nexport { __iconNode, Phone as default };\n//# sourceMappingURL=phone.js.map\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"./utils\";\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />;\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  );\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n};\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { XIcon } from \"lucide-react\";\n\nimport { cn } from \"./utils\";\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <DialogPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n          <XIcon />\n          <span className=\"sr-only\">Close</span>\n        </DialogPrimitive.Close>\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  );\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n","import { useCallback } from 'react';\nimport { useAppStore } from '../store/appStore';\nimport { toast } from 'sonner';\n\nexport function useGameActions() {\n  const { joinGame, leaveGame, updateGame, setLoading, setError } = useAppStore();\n  const games = useAppStore((state) => state.games);\n\n  // Join a game\n  const handleJoinGame = useCallback(async (gameId: string) => {\n    const game = games.find(g => g.id === gameId);\n    if (!game) {\n      toast.error('Game not found');\n      return false;\n    }\n\n    if (game.isJoined) {\n      toast('Already joined', { description: 'You are already part of this game' });\n      return false;\n    }\n\n    if (game.currentPlayers >= game.maxPlayers) {\n      toast.error('Game is full', { description: 'This game has reached maximum capacity' });\n      return false;\n    }\n\n    try {\n      await joinGame(gameId);\n      \n      toast.success('Joined game!', {\n        description: `You're now part of ${game.title}`,\n      });\n      \n      return true;\n    } catch (error) {\n      toast.error('Failed to join game', {\n        description: 'Please try again later',\n      });\n      return false;\n    }\n  }, [games, joinGame]);\n\n  // Leave a game\n  const handleLeaveGame = useCallback(async (gameId: string) => {\n    const game = games.find(g => g.id === gameId);\n    if (!game) {\n      toast.error('Game not found');\n      return false;\n    }\n\n    if (!game.isJoined) {\n      toast('Not joined', { description: 'You are not part of this game' });\n      return false;\n    }\n\n    try {\n      await leaveGame(gameId);\n      \n      toast.success('Left game successfully', {\n        description: `You've left ${game.title}`,\n      });\n      \n      return true;\n    } catch (error) {\n      toast.error('Failed to leave game', {\n        description: 'Please try again later',\n      });\n      return false;\n    }\n  }, [games, leaveGame]);\n\n  // Toggle game participation\n  const toggleGameParticipation = useCallback(async (gameId: string) => {\n    const game = games.find(g => g.id === gameId);\n    if (!game) return false;\n\n    if (game.isJoined) {\n      return await handleLeaveGame(gameId);\n    } else {\n      return await handleJoinGame(gameId);\n    }\n  }, [games, handleJoinGame, handleLeaveGame]);\n\n  // Cancel a game (for creators)\n  const cancelGame = useCallback(async (gameId: string, reason?: string) => {\n    try {\n      updateGame(gameId, { \n        description: `${reason ? `CANCELLED: ${reason}` : 'CANCELLED'}` \n      });\n      \n      toast.success('Game cancelled', {\n        description: reason || 'The game has been cancelled',\n      });\n      \n      return true;\n    } catch (error) {\n      toast.error('Failed to cancel game', {\n        description: 'Please try again later',\n      });\n      return false;\n    }\n  }, [updateGame]);\n\n  return {\n    joinGame: handleJoinGame,\n    leaveGame: handleLeaveGame,\n    toggleGameParticipation,\n    cancelGame,\n  };\n}","import React, { useState } from 'react';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { X, Mail, User, Phone } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { useAuth } from '../providers/AuthProvider';\n\ninterface QuickJoinModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  gameTitle: string;\n  gameId: string;\n  onJoinSuccess: () => void;\n}\n\nexport function QuickJoinModal({ isOpen, onClose, gameTitle, gameId, onJoinSuccess }: QuickJoinModalProps) {\n  const { signUp, signInWithOAuth } = useAuth();\n  const [step, setStep] = useState<'signup' | 'verify'>('signup');\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    phone: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  if (!isOpen) return null;\n\n  const handleQuickSignup = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      // Create account with minimal info\n      await signUp(formData.email, 'temp-password-' + Date.now(), {\n        name: formData.name,\n        email: formData.email,\n        phone: formData.phone,\n        pendingGameId: gameId // Store which game they want to join\n      });\n      \n      setStep('verify');\n      toast.success('Account created! Check your email to verify and join the game.');\n    } catch (error: any) {\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSocialLogin = async (provider: 'google' | 'apple') => {\n    try {\n      setLoading(true);\n      await signInWithOAuth(provider, { pendingGameId: gameId });\n      toast.success(`Signing in with ${provider}...`);\n      // The AuthProvider will handle auto-joining after successful login\n      onClose();\n    } catch (error: any) {\n      toast.error(error.message || 'Social login failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"flex flex-row items-center justify-between\">\n          <CardTitle className=\"text-lg\">\n            {step === 'signup' ? `Join \"${gameTitle}\"` : 'Check Your Email'}\n          </CardTitle>\n          <Button variant=\"ghost\" size=\"icon\" onClick={onClose}>\n            <X className=\"w-4 h-4\" />\n          </Button>\n        </CardHeader>\n        \n        <CardContent>\n          {step === 'signup' ? (\n            <div className=\"space-y-4\">\n              {/* Social Login Options */}\n              <div className=\"space-y-2\">\n                <Button \n                  variant=\"outline\" \n                  className=\"w-full\"\n                  onClick={() => handleSocialLogin('google')}\n                  disabled={loading}\n                >\n                  <svg className=\"w-4 h-4 mr-2\" viewBox=\"0 0 24 24\">\n                    <path fill=\"currentColor\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                    <path fill=\"currentColor\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                    <path fill=\"currentColor\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                    <path fill=\"currentColor\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                  </svg>\n                  Continue with Google\n                </Button>\n                \n                <Button \n                  variant=\"outline\" \n                  className=\"w-full\"\n                  onClick={() => handleSocialLogin('apple')}\n                  disabled={loading}\n                >\n                  <svg className=\"w-4 h-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path d=\"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z\"/>\n                  </svg>\n                  Continue with Apple\n                </Button>\n              </div>\n\n              <div className=\"relative\">\n                <div className=\"absolute inset-0 flex items-center\">\n                  <span className=\"w-full border-t\" />\n                </div>\n                <div className=\"relative flex justify-center text-xs uppercase\">\n                  <span className=\"bg-background px-2 text-muted-foreground\">Or continue with email</span>\n                </div>\n              </div>\n\n              {/* Quick Signup Form */}\n              <form onSubmit={handleQuickSignup} className=\"space-y-3\">\n                <div>\n                  <Input\n                    type=\"text\"\n                    placeholder=\"Your name\"\n                    value={formData.name}\n                    onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                    required\n                    className=\"pl-10\"\n                  />\n                  <User className=\"w-4 h-4 absolute left-3 top-3 text-muted-foreground\" />\n                </div>\n                \n                <div className=\"relative\">\n                  <Input\n                    type=\"email\"\n                    placeholder=\"Email address\"\n                    value={formData.email}\n                    onChange={(e) => setFormData(prev => ({ ...prev, email: e.target.value }))}\n                    required\n                    className=\"pl-10\"\n                  />\n                  <Mail className=\"w-4 h-4 absolute left-3 top-3 text-muted-foreground\" />\n                </div>\n                \n                <div className=\"relative\">\n                  <Input\n                    type=\"tel\"\n                    placeholder=\"Phone (optional)\"\n                    value={formData.phone}\n                    onChange={(e) => setFormData(prev => ({ ...prev, phone: e.target.value }))}\n                    className=\"pl-10\"\n                  />\n                  <Phone className=\"w-4 h-4 absolute left-3 top-3 text-muted-foreground\" />\n                </div>\n\n                {error && (\n                  <Alert variant=\"destructive\">\n                    <AlertDescription>{error}</AlertDescription>\n                  </Alert>\n                )}\n\n                <Button type=\"submit\" className=\"w-full\" disabled={loading}>\n                  {loading ? 'Creating Account...' : 'Join Game'}\n                </Button>\n              </form>\n\n              <p className=\"text-xs text-muted-foreground text-center\">\n                By joining, you agree to our Terms of Service and Privacy Policy\n              </p>\n            </div>\n          ) : (\n            <div className=\"text-center space-y-4\">\n              <div className=\"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center\">\n                <Mail className=\"w-8 h-8 text-primary\" />\n              </div>\n              <div>\n                <h3 className=\"font-semibold mb-2\">Check your email</h3>\n                <p className=\"text-sm text-muted-foreground\">\n                  We sent a verification link to <strong>{formData.email}</strong>\n                </p>\n                <p className=\"text-sm text-muted-foreground mt-2\">\n                  Click the link to verify your account and automatically join \"{gameTitle}\"\n                </p>\n              </div>\n              <Button variant=\"outline\" onClick={onClose} className=\"w-full\">\n                Got it\n              </Button>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { Separator } from './ui/separator';\nimport { \n  Share2, \n  Copy, \n  Mail, \n  MessageSquare, \n  ExternalLink,\n  QrCode,\n  Calendar,\n  MapPin,\n  Users,\n  Clock\n} from 'lucide-react';\nimport { toast } from 'sonner';\n\ninterface ShareGameModalProps {\n  game: any;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport function ShareGameModal({ game, isOpen, onClose }: ShareGameModalProps) {\n  const [copied, setCopied] = useState(false);\n  \n  if (!isOpen) return null;\n\n  const shareUrl = `${window.location.origin}/public/game/${game.id}`;\n  const shareText = `Join me for ${game.sport} at ${game.location} on ${game.date}!`;\n\n  const handleCopyLink = async () => {\n    try {\n      await navigator.clipboard.writeText(shareUrl);\n      setCopied(true);\n      toast.success('Link copied to clipboard!');\n      setTimeout(() => setCopied(false), 2000);\n    } catch (error) {\n      toast.error('Failed to copy link');\n    }\n  };\n\n  const handleNativeShare = async () => {\n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: `Join ${game.title}`,\n          text: shareText,\n          url: shareUrl\n        });\n      } catch (error) {\n        // User cancelled share\n      }\n    } else {\n      handleCopyLink();\n    }\n  };\n\n  const handleEmailShare = () => {\n    const subject = encodeURIComponent(`Join me for ${game.sport}!`);\n    const body = encodeURIComponent(`\nHi!\n\nI'm organizing a ${game.sport} game and would love for you to join:\n\nðŸ“ ${game.location}\nðŸ“… ${game.date} at ${game.time}\nðŸ’° ${game.cost || 'Free'}\nðŸ‘¥ ${game.currentPlayers}/${game.maxPlayers} players\n\n${game.description ? game.description + '\\n\\n' : ''}RSVP here: ${shareUrl}\n\nHope to see you there!\n    `.trim());\n    \n    window.open(`mailto:?subject=${subject}&body=${body}`);\n  };\n\n  const handleSMSShare = () => {\n    const message = encodeURIComponent(`${shareText} RSVP: ${shareUrl}`);\n    window.open(`sms:?body=${message}`);\n  };\n\n  const handleWhatsAppShare = () => {\n    const message = encodeURIComponent(`${shareText} RSVP: ${shareUrl}`);\n    window.open(`https://wa.me/?text=${message}`);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Share2 className=\"w-5 h-5\" />\n            Share Game\n          </CardTitle>\n        </CardHeader>\n        \n        <CardContent className=\"space-y-6\">\n          {/* Game Preview */}\n          <div className=\"bg-muted/50 rounded-lg p-4\">\n            <h3 className=\"font-semibold mb-2\">{game.title}</h3>\n            <div className=\"space-y-2 text-sm\">\n              <div className=\"flex items-center gap-2\">\n                <Badge variant=\"secondary\">{game.sport}</Badge>\n              </div>\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <MapPin className=\"w-4 h-4\" />\n                <span>{game.location}</span>\n              </div>\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <Calendar className=\"w-4 h-4\" />\n                <span>{game.date}</span>\n              </div>\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <Clock className=\"w-4 h-4\" />\n                <span>{game.time}</span>\n              </div>\n              <div className=\"flex items-center gap-2 text-muted-foreground\">\n                <Users className=\"w-4 h-4\" />\n                <span>{game.currentPlayers}/{game.maxPlayers} players</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Share Link */}\n          <div>\n            <label className=\"text-sm font-medium mb-2 block\">\n              Public RSVP Link\n            </label>\n            <div className=\"flex gap-2\">\n              <Input\n                value={shareUrl}\n                readOnly\n                className=\"flex-1\"\n              />\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleCopyLink}\n                className={copied ? 'bg-green-50 text-green-700' : ''}\n              >\n                <Copy className=\"w-4 h-4\" />\n              </Button>\n            </div>\n            <p className=\"text-xs text-muted-foreground mt-2\">\n              Anyone with this link can view game details and RSVP\n            </p>\n          </div>\n\n          <Separator />\n\n          {/* Share Options */}\n          <div>\n            <h4 className=\"text-sm font-medium mb-3\">Share via</h4>\n            <div className=\"grid grid-cols-2 gap-3\">\n              <Button\n                variant=\"outline\"\n                onClick={handleNativeShare}\n                className=\"flex items-center gap-2\"\n              >\n                <Share2 className=\"w-4 h-4\" />\n                Share\n              </Button>\n              \n              <Button\n                variant=\"outline\"\n                onClick={handleEmailShare}\n                className=\"flex items-center gap-2\"\n              >\n                <Mail className=\"w-4 h-4\" />\n                Email\n              </Button>\n              \n              <Button\n                variant=\"outline\"\n                onClick={handleSMSShare}\n                className=\"flex items-center gap-2\"\n              >\n                <MessageSquare className=\"w-4 h-4\" />\n                SMS\n              </Button>\n              \n              <Button\n                variant=\"outline\"\n                onClick={handleWhatsAppShare}\n                className=\"flex items-center gap-2\"\n              >\n                <MessageSquare className=\"w-4 h-4\" />\n                WhatsApp\n              </Button>\n            </div>\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3\">\n            <Button variant=\"outline\" onClick={onClose} className=\"flex-1\">\n              Close\n            </Button>\n            <Button onClick={handleCopyLink} className=\"flex-1\">\n              <Copy className=\"w-4 h-4 mr-2\" />\n              Copy Link\n            </Button>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","export interface WeatherData {\n  temperature: number;\n  condition: string;\n  description: string;\n  humidity: number;\n  windSpeed: number;\n  precipitation: number;\n  icon: string;\n  isOutdoorFriendly: boolean;\n  alerts?: string[];\n}\n\nexport interface WeatherForecast {\n  current: WeatherData;\n  hourly: WeatherData[];\n  daily: WeatherData[];\n}\n\nexport class WeatherService {\n  private static readonly API_KEY = (import.meta as any).env?.VITE_OPENWEATHER_API_KEY || '***REMOVED***';\n  private static readonly BASE_URL = 'https://api.openweathermap.org/data/2.5';\n  \n  // Weather configuration\n  private static readonly CONFIG = {\n    temperatureUnit: 'fahrenheit',\n    updateInterval: 3600,\n    includeHourlyForecast: true,\n    rainThreshold: 0.1,\n    windThreshold: 15\n  };\n\n  // Get current weather for coordinates\n  static async getCurrentWeather(lat: number, lng: number): Promise<WeatherData | null> {\n    try {\n      const response = await fetch(\n        `${this.BASE_URL}/weather?lat=${lat}&lon=${lng}&appid=${this.API_KEY}&units=imperial`\n      );\n\n      if (!response.ok) {\n        throw new Error(`Weather API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return this.transformWeatherData(data);\n    } catch (error) {\n      console.error('Error fetching weather:', error);\n      return this.getMockWeatherData();\n    }\n  }\n\n  // Get weather forecast for game time with 4-hour window analysis\n  static async getGameWeather(lat: number, lng: number, gameDateTime: Date): Promise<WeatherData | null> {\n    try {\n      // Ensure coordinates are properly formatted (max 6 decimal places for precision)\n      const formattedLat = parseFloat(lat.toFixed(6));\n      const formattedLng = parseFloat(lng.toFixed(6));\n      \n      console.log(`ðŸŒ¤ï¸ Fetching weather for coordinates: ${formattedLat}, ${formattedLng}`);\n      console.log(`ðŸ• Game time: ${gameDateTime.toISOString()}`);\n      \n      const response = await fetch(\n        `${this.BASE_URL}/forecast?lat=${formattedLat}&lon=${formattedLng}&appid=${this.API_KEY}&units=imperial`\n      );\n\n      if (!response.ok) {\n        console.error(`Weather API error: ${response.status} ${response.statusText}`);\n        // Try current weather as fallback\n        return await this.getCurrentWeather(formattedLat, formattedLng);\n      }\n\n      const data = await response.json();\n      \n      if (!data.list || data.list.length === 0) {\n        console.warn('No forecast data available, falling back to current weather');\n        return await this.getCurrentWeather(formattedLat, formattedLng);\n      }\n      \n      console.log(`ðŸ“Š Received ${data.list.length} forecast entries`);\n      \n      // Define 4-hour window around game time (2 hours before to 2 hours after)\n      const gameTime = gameDateTime.getTime();\n      const windowStart = gameTime - (2 * 60 * 60 * 1000); // 2 hours before\n      const windowEnd = gameTime + (2 * 60 * 60 * 1000);   // 2 hours after\n      \n      console.log(`ðŸ• Weather window: ${new Date(windowStart).toISOString()} to ${new Date(windowEnd).toISOString()}`);\n      \n      // Find all forecasts within the 4-hour window\n      const windowForecasts = data.list.filter((forecast: any) => {\n        const forecastTime = forecast.dt * 1000;\n        return forecastTime >= windowStart && forecastTime <= windowEnd;\n      });\n      \n      console.log(`ðŸ“ˆ Found ${windowForecasts.length} forecasts in 4-hour window`);\n      \n      let selectedForecast;\n      \n      if (windowForecasts.length > 0) {\n        // Use the forecast closest to game time within the window\n        selectedForecast = windowForecasts.reduce((closest: any, current: any) => {\n          const currentDiff = Math.abs((current.dt * 1000) - gameTime);\n          const closestDiff = Math.abs((closest.dt * 1000) - gameTime);\n          return currentDiff < closestDiff ? current : closest;\n        });\n        \n        console.log(`ðŸŽ¯ Selected forecast: ${new Date(selectedForecast.dt * 1000).toISOString()}`);\n      } else {\n        // Fallback: find the closest forecast to game time (even outside window)\n        selectedForecast = data.list.reduce((closest: any, current: any) => {\n          const currentDiff = Math.abs((current.dt * 1000) - gameTime);\n          const closestDiff = Math.abs((closest.dt * 1000) - gameTime);\n          return currentDiff < closestDiff ? current : closest;\n        });\n        \n        console.log(`âš ï¸ No forecasts in window, using closest: ${new Date(selectedForecast.dt * 1000).toISOString()}`);\n      }\n\n      // Analyze conditions across the window for better insights\n      const weatherSummary = this.analyzeWeatherWindow(windowForecasts, selectedForecast);\n      \n      return this.transformWeatherData(selectedForecast, weatherSummary);\n    } catch (error) {\n      console.error('Error fetching game weather:', error);\n      return this.getMockWeatherData();\n    }\n  }\n\n  // Get weather by zipcode (more reliable for US locations)\n  static async getWeatherByZipcode(zipcode: string, gameDateTime: Date): Promise<WeatherData | null> {\n    try {\n      console.log(`ðŸŒ¤ï¸ Fetching weather for zipcode: ${zipcode}`);\n      console.log(`ðŸ• Game time: ${gameDateTime.toISOString()}`);\n      \n      const response = await fetch(\n        `${this.BASE_URL}/forecast?zip=${zipcode},US&appid=${this.API_KEY}&units=imperial`\n      );\n\n      if (!response.ok) {\n        throw new Error(`Weather API error: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log(`ðŸ“Š Received ${data.list.length} forecast entries for ${zipcode}`);\n      \n      // Define 4-hour window around game time (2 hours before to 2 hours after)\n      const gameTime = gameDateTime.getTime();\n      const windowStart = gameTime - (2 * 60 * 60 * 1000); // 2 hours before\n      const windowEnd = gameTime + (2 * 60 * 60 * 1000);   // 2 hours after\n      \n      console.log(`ðŸ• Weather window: ${new Date(windowStart).toISOString()} to ${new Date(windowEnd).toISOString()}`);\n      \n      // Find all forecasts within the 4-hour window\n      const windowForecasts = data.list.filter((forecast: any) => {\n        const forecastTime = forecast.dt * 1000;\n        return forecastTime >= windowStart && forecastTime <= windowEnd;\n      });\n      \n      console.log(`ðŸ“ˆ Found ${windowForecasts.length} forecasts in 4-hour window`);\n      \n      let selectedForecast;\n      \n      if (windowForecasts.length > 0) {\n        // Use the forecast closest to game time within the window\n        selectedForecast = windowForecasts.reduce((closest: any, current: any) => {\n          const currentDiff = Math.abs((current.dt * 1000) - gameTime);\n          const closestDiff = Math.abs((closest.dt * 1000) - gameTime);\n          return currentDiff < closestDiff ? current : closest;\n        });\n        \n        console.log(`ðŸŽ¯ Selected forecast: ${new Date(selectedForecast.dt * 1000).toISOString()}`);\n      } else {\n        // Fallback: find the closest forecast to game time (even outside window)\n        selectedForecast = data.list.reduce((closest: any, current: any) => {\n          const currentDiff = Math.abs((current.dt * 1000) - gameTime);\n          const closestDiff = Math.abs((closest.dt * 1000) - gameTime);\n          return currentDiff < closestDiff ? current : closest;\n        });\n        \n        console.log(`âš ï¸ No forecasts in window, using closest: ${new Date(selectedForecast.dt * 1000).toISOString()}`);\n      }\n\n      // Analyze conditions across the window for better insights\n      const weatherSummary = this.analyzeWeatherWindow(windowForecasts, selectedForecast);\n      \n      return this.transformWeatherData(selectedForecast, weatherSummary);\n    } catch (error) {\n      console.error('Error fetching weather by zipcode:', error);\n      return null;\n    }\n  }\n\n  // Extract zipcode from location string\n  static extractZipcode(location: string): string | null {\n    // Match 5-digit zipcode (with optional +4)\n    const zipcodeMatch = location.match(/\\b(\\d{5}(?:-\\d{4})?)\\b/);\n    return zipcodeMatch ? zipcodeMatch[1].split('-')[0] : null; // Return just the 5-digit part\n  }\n  \n  // Analyze weather conditions across the 4-hour window\n  private static analyzeWeatherWindow(windowForecasts: any[], primaryForecast: any) {\n    if (windowForecasts.length === 0) {\n      return { alerts: [], windowSummary: '' };\n    }\n    \n    const temps = windowForecasts.map(f => f.main.temp);\n    const conditions = windowForecasts.map(f => f.weather[0].main);\n    const precipitations = windowForecasts.map(f => f.rain?.['3h'] || f.snow?.['3h'] || 0);\n    \n    const minTemp = Math.min(...temps);\n    const maxTemp = Math.max(...temps);\n    const avgTemp = temps.reduce((a, b) => a + b, 0) / temps.length;\n    const maxPrecip = Math.max(...precipitations);\n    \n    const alerts: string[] = [];\n    let windowSummary = '';\n    \n    // Temperature variation alert\n    if (maxTemp - minTemp > 10) {\n      alerts.push(`ðŸŒ¡ï¸ Temperature will vary ${Math.round(minTemp)}Â°F to ${Math.round(maxTemp)}Â°F during game time`);\n    }\n    \n    // Precipitation alert\n    if (maxPrecip > 0.1) {\n      alerts.push(`ðŸŒ§ï¸ Possible precipitation during game window`);\n    }\n    \n    // Condition changes\n    const uniqueConditions = [...new Set(conditions)];\n    if (uniqueConditions.length > 1) {\n      alerts.push(`ðŸŒ¤ï¸ Weather conditions may change: ${uniqueConditions.join(', ')}`);\n    }\n    \n    // Create window summary\n    if (windowForecasts.length > 1) {\n      windowSummary = `4-hour forecast: ${Math.round(minTemp)}-${Math.round(maxTemp)}Â°F, ${uniqueConditions.join('/')}`;\n    }\n    \n    return { alerts, windowSummary };\n  }\n\n  // Transform API response to our weather data format\n  private static transformWeatherData(apiData: any, weatherSummary?: { alerts: string[], windowSummary: string }): WeatherData {\n    const temp = Math.round(apiData.main.temp);\n    const condition = apiData.weather[0].main;\n    const description = apiData.weather[0].description;\n    const precipitation = apiData.rain?.['1h'] || apiData.snow?.['1h'] || 0;\n    \n    // Combine standard alerts with window-specific alerts\n    const standardAlerts = this.generateWeatherAlerts(condition, temp, precipitation, apiData.wind.speed);\n    const allAlerts = weatherSummary ? [...standardAlerts, ...weatherSummary.alerts] : standardAlerts;\n    \n    // Use window summary as description if available\n    const finalDescription = weatherSummary?.windowSummary || this.capitalizeWords(description);\n    \n    return {\n      temperature: temp,\n      condition,\n      description: finalDescription,\n      humidity: apiData.main.humidity,\n      windSpeed: Math.round(apiData.wind.speed), // Already in mph from imperial units\n      precipitation,\n      icon: this.getWeatherIcon(condition),\n      isOutdoorFriendly: this.isOutdoorFriendly(condition, temp, precipitation, apiData.wind.speed),\n      alerts: allAlerts\n    };\n  }\n\n  // Determine if weather is suitable for outdoor activities\n  private static isOutdoorFriendly(condition: string, temp: number, precipitation: number, windSpeed: number): boolean {\n    // Too cold (below 40Â°F) or too hot (above 95Â°F)\n    if (temp < 40 || temp > 95) return false;\n    \n    // Heavy rain or snow (using custom threshold)\n    if (precipitation > this.CONFIG.rainThreshold) return false;\n    \n    // Strong winds (using custom threshold in mph)\n    if (windSpeed > this.CONFIG.windThreshold) return false;\n    \n    // Severe weather conditions\n    const severeConditions = ['Thunderstorm', 'Tornado', 'Squall'];\n    if (severeConditions.includes(condition)) return false;\n    \n    return true;\n  }\n\n  // Generate weather alerts for games\n  private static generateWeatherAlerts(condition: string, temp: number, precipitation: number, windSpeed: number): string[] {\n    const alerts: string[] = [];\n    \n    if (temp < 50) {\n      alerts.push('ðŸ§¥ Dress warmly - temperature below 50Â°F');\n    } else if (temp > 85) {\n      alerts.push('â˜€ï¸ Stay hydrated - high temperature expected');\n    }\n    \n    if (precipitation > this.CONFIG.rainThreshold) {\n      alerts.push('ðŸŒ§ï¸ Rain expected - consider indoor backup plan');\n    }\n    \n    if (windSpeed > 12) {\n      alerts.push('ðŸ’¨ Windy conditions - secure loose items');\n    }\n    \n    if (condition === 'Thunderstorm') {\n      alerts.push('âš¡ Thunderstorm warning - move indoors immediately');\n    }\n    \n    return alerts;\n  }\n\n  // Get weather icon based on condition\n  private static getWeatherIcon(condition: string): string {\n    const iconMap: Record<string, string> = {\n      'Clear': 'â˜€ï¸',\n      'Clouds': 'â˜ï¸',\n      'Rain': 'ðŸŒ§ï¸',\n      'Drizzle': 'ðŸŒ¦ï¸',\n      'Thunderstorm': 'â›ˆï¸',\n      'Snow': 'â„ï¸',\n      'Mist': 'ðŸŒ«ï¸',\n      'Fog': 'ðŸŒ«ï¸',\n      'Haze': 'ðŸŒ«ï¸'\n    };\n    \n    return iconMap[condition] || 'ðŸŒ¤ï¸';\n  }\n\n  // Capitalize first letter of each word\n  private static capitalizeWords(str: string): string {\n    return str.replace(/\\b\\w/g, char => char.toUpperCase());\n  }\n\n  // Mock weather data for development/fallback\n  private static getMockWeatherData(): WeatherData {\n    return {\n      temperature: 72,\n      condition: 'Clear',\n      description: 'Clear Sky',\n      humidity: 65,\n      windSpeed: 8,\n      precipitation: 0,\n      icon: 'â˜€ï¸',\n      isOutdoorFriendly: true,\n      alerts: []\n    };\n  }\n\n  // Check if weather API is configured\n  static isConfigured(): boolean {\n    return this.API_KEY !== 'demo_key' && this.API_KEY.length > 0;\n  }\n\n  // Get weather recommendation text\n  static getWeatherRecommendation(weather: WeatherData): string {\n    if (!weather.isOutdoorFriendly) {\n      return 'Weather conditions may not be ideal for outdoor activities. Consider rescheduling or moving indoors.';\n    }\n    \n    if (weather.temperature < 60) {\n      return 'Cool weather - dress in layers and bring warm clothing.';\n    } else if (weather.temperature > 80) {\n      return 'Warm weather - bring water and sun protection.';\n    }\n    \n    return 'Great weather for outdoor activities!';\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { Avatar, AvatarFallback } from './ui/avatar';\nimport { Separator } from './ui/separator';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from './ui/dropdown-menu';\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from './ui/dialog';\nimport { Input } from './ui/input';\nimport { Textarea } from './ui/textarea';\nimport { \n  ArrowLeft, \n  Calendar, \n  MapPin, \n  Users, \n  MessageCircle, \n  Share, \n  Flag, \n  Clock,\n  DollarSign,\n  Star,\n  Navigation,\n  Loader2,\n  Edit3,\n  Trash2,\n  MoreVertical,\n} from 'lucide-react';\nimport { ImageWithFallback } from './figma/ImageWithFallback';\nimport { useGames, useAppLoading, useAppStore } from '../store/appStore';\nimport { useGameActions } from '../hooks/useGameActions';\nimport { useDeepLinks } from '../hooks/useDeepLinks';\nimport { QuickJoinModal } from './QuickJoinModal';\nimport { ShareGameModal } from './ShareGameModal';\nimport { toast } from 'sonner';\nimport { WeatherService, WeatherData } from '../lib/weatherService';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { formatEventHeader, formatCalendarInfo } from '../lib/dateUtils';\n\n\n\n// Weather Info Component\nfunction WeatherInfo({ game }: { game: any }) {\n  const [weather, setWeather] = useState<WeatherData | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const getWeatherData = async () => {\n      console.log('ðŸŒ¤ï¸ Getting weather data for game:', game.id);\n      console.log('ðŸ“ Coordinates:', game.latitude, game.longitude);\n      console.log('ðŸ“ Location:', game.location);\n      \n      try {\n        let weatherData: WeatherData | null = null;\n        const gameDateTime = new Date(`${game.date} ${game.time}`);\n        \n        if (game.latitude && game.longitude) {\n          // Use exact coordinates\n          console.log('ðŸŽ¯ Using exact coordinates for weather');\n          weatherData = await WeatherService.getGameWeather(game.latitude, game.longitude, gameDateTime);\n        } else if (game.location) {\n          // Use Google Maps Geocoding API (same as the map uses)\n          console.log('ðŸ—ºï¸ Using Google Maps geocoding for weather (same as map)');\n          const googleApiKey = (import.meta as any).env?.VITE_GOOGLE_MAPS_API_KEY;\n          \n          try {\n            const geocodeResponse = await fetch(\n              `https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(game.location)}&key=${googleApiKey}`\n            );\n            \n            if (geocodeResponse.ok) {\n              const geocodeData = await geocodeResponse.json();\n              console.log('ðŸ—ºï¸ Google geocoding results:', geocodeData);\n              \n              if (geocodeData.status === 'OK' && geocodeData.results && geocodeData.results.length > 0) {\n                const { lat, lng } = geocodeData.results[0].geometry.location;\n                console.log('ðŸŽ¯ Using Google Maps coordinates for weather:', lat, lng);\n                weatherData = await WeatherService.getGameWeather(lat, lng, gameDateTime);\n                console.log('âœ… Weather from Google Maps coordinates:', weatherData);\n              } else {\n                console.warn('ðŸ—ºï¸ Google geocoding failed:', geocodeData.status, geocodeData.error_message);\n              }\n            } else {\n              console.error('ðŸ—ºï¸ Google geocoding HTTP error:', geocodeResponse.status, geocodeResponse.statusText);\n            }\n          } catch (error) {\n            console.error('âŒ Google Maps geocoding failed:', error);\n          }\n          \n          // Fallback to zipcode if Google Maps geocoding fails\n          if (!weatherData) {\n            const zipcode = WeatherService.extractZipcode(game.location);\n            if (zipcode) {\n              console.log('ðŸ“® Fallback: Using zipcode for weather:', zipcode);\n              weatherData = await WeatherService.getWeatherByZipcode(zipcode, gameDateTime);\n            }\n          }\n          \n          // Final fallback to simple location search\n          if (!weatherData) {\n            console.log('ðŸŒ¤ï¸ Final fallback: Simple weather search');\n            const simpleResponse = await fetch(\n              `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(game.location)}&appid=${(import.meta as any).env?.VITE_OPENWEATHER_API_KEY}&units=imperial`\n            );\n            \n            if (simpleResponse.ok) {\n              const simpleData = await simpleResponse.json();\n              weatherData = {\n                temperature: Math.round(simpleData.main.temp),\n                condition: simpleData.weather[0].main,\n                description: simpleData.weather[0].description,\n                humidity: simpleData.main.humidity,\n                windSpeed: Math.round(simpleData.wind.speed),\n                precipitation: simpleData.rain?.['1h'] || simpleData.snow?.['1h'] || 0,\n                icon: simpleData.weather[0].main === 'Clear' ? 'â˜€ï¸' : simpleData.weather[0].main === 'Clouds' ? 'â˜ï¸' : simpleData.weather[0].main === 'Rain' ? 'ðŸŒ§ï¸' : 'ðŸŒ¤ï¸',\n                isOutdoorFriendly: true,\n                alerts: []\n              };\n            }\n          }\n        }\n        \n        if (weatherData) {\n          console.log('âœ… Weather data received:', weatherData);\n          setWeather(weatherData);\n        } else {\n          throw new Error('No weather data available');\n        }\n      } catch (error) {\n        console.error('âŒ Weather error:', error);\n        // Try one more fallback with current weather for a default US location\n        try {\n          console.log('ðŸ”„ Final attempt: Using current weather API');\n          const fallbackResponse = await fetch(\n            `https://api.openweathermap.org/data/2.5/weather?zip=10001,US&appid=${(import.meta as any).env?.VITE_OPENWEATHER_API_KEY}&units=imperial`\n          );\n          \n          if (fallbackResponse.ok) {\n            const fallbackData = await fallbackResponse.json();\n            const temp = Math.round(fallbackData.main.temp);\n            const condition = fallbackData.weather[0].main;\n            const description = fallbackData.weather[0].description;\n            \n            setWeather({\n              temperature: temp,\n              condition,\n              description: `${description.charAt(0).toUpperCase() + description.slice(1)} (nearby area)`,\n              humidity: fallbackData.main.humidity,\n              windSpeed: Math.round(fallbackData.wind.speed),\n              precipitation: fallbackData.rain?.['1h'] || fallbackData.snow?.['1h'] || 0,\n              icon: condition === 'Clear' ? 'â˜€ï¸' : condition === 'Clouds' ? 'â˜ï¸' : condition === 'Rain' ? 'ðŸŒ§ï¸' : 'ðŸŒ¤ï¸',\n              isOutdoorFriendly: temp > 40 && temp < 95,\n              alerts: [`ðŸ“ Showing weather for nearby area - actual conditions at ${game.location || 'game location'} may vary`]\n            });\n          } else {\n            throw new Error('Fallback weather failed');\n          }\n        } catch (fallbackError) {\n          console.error('âŒ All weather sources failed:', fallbackError);\n          // Final mock data\n          setWeather({\n            temperature: 72,\n            condition: 'Clear',\n            description: 'Weather data temporarily unavailable',\n            humidity: 65,\n            windSpeed: 8,\n            precipitation: 0,\n            icon: 'ðŸŒ¤ï¸',\n            isOutdoorFriendly: true,\n            alerts: [`ðŸ”„ Weather service temporarily unavailable for ${game.location || 'this location'}`]\n          });\n        }\n      }\n      \n      setLoading(false);\n    };\n\n    getWeatherData();\n  }, [game.latitude, game.longitude, game.location, game.date, game.time]);\n\n  if (loading) {\n    return <div className=\"text-sm text-muted-foreground\">Loading weather...</div>;\n  }\n\n  if (!weather) {\n    return <div className=\"text-sm text-muted-foreground\">Weather unavailable</div>;\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-2xl\">{weather.icon}</span>\n          <div>\n            <div className=\"font-medium\">{weather.temperature}Â°F</div>\n            <div className=\"text-sm text-muted-foreground\">{weather.description}</div>\n          </div>\n        </div>\n        <div className=\"text-right text-sm text-muted-foreground\">\n          <div>Humidity: {weather.humidity}%</div>\n          <div>Wind: {weather.windSpeed} mph</div>\n        </div>\n      </div>\n      \n      {weather.alerts && weather.alerts.length > 0 && (\n        <div className=\"space-y-1\">\n          {weather.alerts.map((alert, index) => (\n            <div key={index} className=\"text-xs bg-yellow-50 text-yellow-800 p-2 rounded\">\n              {alert}\n            </div>\n          ))}\n        </div>\n      )}\n      \n      <div className=\"text-xs text-muted-foreground\">\n        {WeatherService.getWeatherRecommendation(weather)}\n      </div>\n    </div>\n  );\n}\n\nexport function GameDetails() {\n  const navigate = useNavigate();\n  const { gameId } = useParams();\n  const games = useGames();\n  const isLoading = useAppLoading();\n  const { user } = useAppStore();\n  const { toggleGameParticipation } = useGameActions();\n  const { shareGame, navigateToChat, navigateToUser } = useDeepLinks();\n  const [showFullDescription, setShowFullDescription] = useState(false);\n  const [players, setPlayers] = useState([] as any[]);\n  const [loadingPlayers, setLoadingPlayers] = useState(false);\n  const [showQuickJoin, setShowQuickJoin] = useState(false);\n  const [showInvite, setShowInvite] = useState(false);\n  const [showEditDialog, setShowEditDialog] = useState(false);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [editFormData, setEditFormData] = useState({\n    title: '',\n    description: '',\n    location: '',\n    maxPlayers: 0,\n    cost: ''\n  });\n  const [deleteReason, setDeleteReason] = useState('');\n  const [actionLoading, setActionLoading] = useState(false);\n  \n  // Find the game by ID\n  const game = games.find(g => g.id === gameId);\n\n  // Load players for this game\n  useEffect(() => {\n    if (gameId) {\n      const loadPlayers = async () => {\n        setLoadingPlayers(true);\n        try {\n          const gamePlayers = await SupabaseService.getGameParticipants(gameId);\n          setPlayers(gamePlayers);\n        } catch (error) {\n          console.error('Error loading players:', error);\n          setPlayers([]);\n        } finally {\n          setLoadingPlayers(false);\n        }\n      };\n      \n      loadPlayers();\n    }\n  }, [gameId]);\n  \n  \n  if (!game) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl mb-4\">Game not found</h1>\n          <p className=\"text-muted-foreground mb-4\">The game you're looking for doesn't exist or has been removed.</p>\n          <Button onClick={() => navigate('/')}>Go Home</Button>\n        </div>\n      </div>\n    );\n  }\n\n  // Precompute formatted date/time labels for header and calendar\n  const headerInfo = formatEventHeader(game.date, game.time);\n  const calendarInfo = formatCalendarInfo(game.date, game.time);\n\n  const isFull = game.currentPlayers >= game.maxPlayers;\n  const tags: string[] | undefined = (game as any).tags;\n\n  const handleJoinLeave = async () => {\n    // If user is not authenticated, show quick join modal\n    if (!user) {\n      setShowQuickJoin(true);\n      return;\n    }\n    \n    await toggleGameParticipation(game.id);\n  };\n\n  const handleQuickJoinSuccess = async () => {\n    setShowQuickJoin(false);\n    // After successful signup, join the game\n    if (gameId) {\n      await toggleGameParticipation(gameId);\n    }\n  };\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  const handleChat = () => {\n    navigateToChat('game', gameId!);\n  };\n\n\n  const handleShare = async () => {\n    setShowInvite(true);\n  };\n\n  const handleDirections = () => {\n    const address = game.location || \"Location not specified\";\n    const encodedAddress = encodeURIComponent(address);\n    \n    // Try to open in native maps app first, fallback to Google Maps\n    const mapsUrl = `https://maps.google.com/maps?q=${encodedAddress}&t=m&z=16`;\n    \n    try {\n      // For mobile devices, try to open native maps\n      if (navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)) {\n        const nativeUrl = `maps://maps.google.com/maps?q=${encodedAddress}`;\n        window.location.href = nativeUrl;\n        \n        // Fallback to web maps if native doesn't open\n        setTimeout(() => {\n          window.open(mapsUrl, '_blank');\n        }, 1000);\n      } else {\n        window.open(mapsUrl, '_blank');\n      }\n      \n      toast.success('Opening directions...');\n    } catch (error) {\n      toast.error('Failed to open directions');\n    }\n  };\n\n  const handleEditGame = () => {\n    setEditFormData({\n      title: game.title,\n      description: game.description,\n      location: game.location,\n      maxPlayers: game.maxPlayers,\n      cost: game.cost\n    });\n    setShowEditDialog(true);\n  };\n\n  const handleSaveEdit = async () => {\n    if (!gameId) return;\n    \n    setActionLoading(true);\n    try {\n      await SupabaseService.updateGame(gameId, editFormData);\n      toast.success('Game updated successfully');\n      setShowEditDialog(false);\n      // Refresh the page to show updated data\n      window.location.reload();\n    } catch (error: any) {\n      toast.error('Failed to update game', {\n        description: error.message || 'Please try again later'\n      });\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  const handleDeleteGame = async () => {\n    if (!gameId) return;\n    \n    setActionLoading(true);\n    try {\n      await SupabaseService.deleteGame(gameId, deleteReason);\n      toast.success('Game cancelled successfully');\n      setShowDeleteDialog(false);\n      navigate('/');\n    } catch (error: any) {\n      toast.error('Failed to cancel game', {\n        description: error.message || 'Please try again later'\n      });\n    } finally {\n      setActionLoading(false);\n    }\n  };\n\n  // Check if current user is the game creator\n  const isGameCreator = user && game && game.createdBy === user.id;\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10\">\n        <div className=\"flex items-center justify-between px-4 py-4\">\n          <div className=\"flex items-center gap-4\">\n            <Button \n              variant=\"ghost\" \n              size=\"icon\" \n              onClick={handleBack}\n              aria-label=\"Go back\"\n            >\n              <ArrowLeft className=\"w-5 h-5\" />\n            </Button>\n            <div role=\"text\" aria-label={`Event: ${game.title}. ${headerInfo.aria}`}>\n              <h1 className=\"text-xl font-semibold line-clamp-2\">{game.title}</h1>\n              <p className=\"text-sm text-muted-foreground\">{headerInfo.label}</p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button \n              variant=\"ghost\" \n              size=\"icon\" \n              onClick={handleShare}\n              data-action=\"share\"\n              aria-label=\"Share game\"\n              title=\"Share game (U)\"\n            >\n              <Share className=\"w-5 h-5\" />\n            </Button>\n            {isGameCreator && (\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button \n                    variant=\"ghost\" \n                    size=\"icon\"\n                    aria-label=\"Game options\"\n                  >\n                    <MoreVertical className=\"w-5 h-5\" />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"end\">\n                  <DropdownMenuItem onClick={handleEditGame}>\n                    <Edit3 className=\"w-4 h-4 mr-2\" />\n                    Edit Game\n                  </DropdownMenuItem>\n                  <DropdownMenuItem \n                    onClick={() => setShowDeleteDialog(true)}\n                    className=\"text-destructive focus:text-destructive\"\n                  >\n                    <Trash2 className=\"w-4 h-4 mr-2\" />\n                    Cancel Game\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            )}\n            <Button \n              variant=\"ghost\" \n              size=\"icon\"\n              aria-label=\"Report game\"\n            >\n              <Flag className=\"w-5 h-5\" />\n            </Button>\n          </div>\n        </div>\n\n      </div>\n\n      <div className=\"px-4 py-6 space-y-6\" id=\"main-content\">\n        {/* Hero Image & Basic Info */}\n        <Card>\n          {game.imageUrl && (\n            <div className=\"relative\">\n              <div className=\"aspect-video overflow-hidden rounded-t-lg\">\n                <ImageWithFallback\n                  src={game.imageUrl}\n                  alt={`${game.sport} game`}\n                  className=\"w-full h-full object-cover\"\n                />\n              </div>\n              <div className=\"absolute top-4 right-4\">\n                <Badge className={`${game.sportColor} text-white border-none`}>\n                  {game.sport}\n                </Badge>\n              </div>\n            </div>\n          )}\n          {!game.imageUrl && (\n            <div className=\"p-4 border-b\">\n              <Badge className={`${game.sportColor} text-white border-none`}>\n                {game.sport}\n              </Badge>\n            </div>\n          )}\n          \n          <CardContent className=\"p-6\">\n            {/* Game Info Grid */}\n            <div className=\"grid grid-cols-2 gap-4 mb-6\">\n              <div className=\"flex items-center gap-3\">\n                <Calendar className=\"w-5 h-5 text-muted-foreground\" />\n                <div>\n                  <div>{calendarInfo.date}</div>\n                  <div className=\"text-sm text-muted-foreground\">{calendarInfo.time}</div>\n                </div>\n              </div>\n              \n              <div className=\"flex items-center gap-3\">\n                <Clock className=\"w-5 h-5 text-muted-foreground\" />\n                <div>\n                  <div>2 hours</div>\n                  <div className=\"text-sm text-muted-foreground\">Duration</div>\n                </div>\n              </div>\n              \n              \n              <div className=\"flex items-center gap-3\">\n                <DollarSign className=\"w-5 h-5 text-muted-foreground\" />\n                <div>\n                  <div>{game.cost}</div>\n                  <div className=\"text-sm text-muted-foreground\">Cost</div>\n                </div>\n              </div>\n            </div>\n\n            {/* Tags */}\n            <div className=\"flex flex-wrap gap-2 mb-6\">\n              {Array.isArray(tags) && tags.map((tag: string) => (\n                <Badge key={tag} variant=\"secondary\">{tag}</Badge>\n              ))}\n            </div>\n\n            {/* Join Button */}\n            <Button\n              onClick={handleJoinLeave}\n              disabled={(!game.isJoined && isFull) || isLoading}\n              className=\"w-full h-12\"\n              variant={game.isJoined ? 'outline' : 'default'}\n              data-action=\"join-game\"\n              title={`${game.isJoined ? 'Leave' : 'Join'} game (J)`}\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  {game.isJoined ? 'Leaving...' : 'Joining...'}\n                </>\n              ) : isFull && !game.isJoined ? (\n                'Game is Full'\n              ) : game.isJoined ? (\n                'Leave Game'\n              ) : !user ? (\n                'Join Game - Sign Up'\n              ) : (\n                'Join Game'\n              )}\n            </Button>\n          </CardContent>\n        </Card>\n\n        {/* Location */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2\">\n              <MapPin className=\"w-5 h-5\" />\n              Location\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <div>\n                <div>{game.location}</div>\n              </div>\n              \n              <div className=\"aspect-video bg-muted rounded-lg flex items-center justify-center\">\n                {(game.latitude && game.longitude) || game.location ? (\n                  <iframe\n                    src={`https://www.google.com/maps/embed/v1/place?key=${(import.meta as any).env?.VITE_GOOGLE_MAPS_API_KEY || ''}&q=${\n                      game.latitude && game.longitude \n                        ? `${game.latitude},${game.longitude}` \n                        : encodeURIComponent(game.location)\n                    }&zoom=15`}\n                    width=\"100%\"\n                    height=\"100%\"\n                    style={{ border: 0 }}\n                    allowFullScreen\n                    loading=\"lazy\"\n                    referrerPolicy=\"no-referrer-when-downgrade\"\n                    className=\"rounded-lg\"\n                    title=\"Game location map\"\n                  />\n                ) : (\n                  <div className=\"text-center text-muted-foreground\">\n                    <MapPin className=\"w-8 h-8 mx-auto mb-2\" />\n                    <p>Map not available</p>\n                  </div>\n                )}\n              </div>\n              \n              <Button \n                variant=\"outline\" \n                className=\"w-full\"\n                onClick={handleDirections}\n                data-action=\"directions\"\n                title=\"Get directions (L)\"\n              >\n                <Navigation className=\"w-4 h-4 mr-2\" />\n                Get Directions\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Weather */}\n        {((game.latitude && game.longitude) || game.location) && (\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                â˜€ï¸ Weather Forecast\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <WeatherInfo game={game} />\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Description */}\n        <Card>\n          <CardHeader>\n            <CardTitle>About This Game</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <p className={`text-sm leading-relaxed ${!showFullDescription ? 'line-clamp-3' : ''}`}>\n                {game.description}\n              </p>\n              {game.description.length > 150 && (\n                <Button \n                  variant=\"ghost\" \n                  size=\"sm\" \n                  onClick={() => setShowFullDescription(!showFullDescription)}\n                  className=\"p-0 h-auto\"\n                >\n                  {showFullDescription ? 'Show less' : 'Show more'}\n                </Button>\n              )}\n              \n              <div>\n                <h4 className=\"mb-2\">Requirements</h4>\n                <ul className=\"space-y-1\">\n                  {['Athletic shoes required', 'Bring water bottle', 'No experience necessary'].map((req, index) => (\n                    <li key={index} className=\"text-sm text-muted-foreground flex items-start gap-2\">\n                      <span className=\"w-1 h-1 bg-muted-foreground rounded-full mt-2 flex-shrink-0\"></span>\n                      {req}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Host Information */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Game Host</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-3\">\n                <button \n                  onClick={() => navigateToUser('host1')}\n                  className=\"flex items-center gap-3 hover:opacity-80 transition-opacity\"\n                  data-action=\"view-profile\"\n                >\n                  <Avatar>\n                    <AvatarFallback>{game.createdBy?.charAt(0) || 'U'}</AvatarFallback>\n                  </Avatar>\n                  <div>\n                    <div>{game.createdBy || 'Unknown'}</div>\n                    <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n                      <Star className=\"w-3 h-3 fill-current text-warning\" />\n                      No rating yet\n                    </div>\n                  </div>\n                </button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Players List */}\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n                              <CardTitle>Players ({players.length}/{game.maxPlayers})</CardTitle>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-3\">\n                              {players.map((player, index) => (\n                <div key={player.id}>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <Avatar>\n                        <AvatarFallback>{player.avatar}</AvatarFallback>\n                      </Avatar>\n                      <div>\n                        <div className=\"flex items-center gap-2\">\n                          <button \n                            onClick={() => navigateToUser(player.id)}\n                            className=\"hover:text-primary transition-colors cursor-pointer\"\n                          >\n                            {player.name}\n                          </button>\n                          {player.isHost && (\n                            <Badge variant=\"secondary\" className=\"text-xs px-2 py-0\">Host</Badge>\n                          )}\n                        </div>\n                        <div className=\"flex items-center gap-1 text-sm text-muted-foreground\">\n                          <Star className=\"w-3 h-3 fill-current text-warning\" />\n                          {player.rating}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  {index < players.length - 1 && <Separator className=\"mt-3\" />}\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Join Status Alert */}\n        {game.isJoined && (\n          <Alert className=\"border-success text-success-foreground\">\n            <AlertDescription>\n              You're joined! See you on the field!\n            </AlertDescription>\n          </Alert>\n        )}\n      </div>\n\n      {/* Quick Join Modal */}\n      <QuickJoinModal\n        isOpen={showQuickJoin}\n        onClose={() => setShowQuickJoin(false)}\n        gameTitle={game.title}\n        gameId={game.id}\n        onJoinSuccess={handleQuickJoinSuccess}\n      />\n\n      {/* Share Game Modal */}\n      <ShareGameModal\n        isOpen={showInvite}\n        onClose={() => setShowInvite(false)}\n        game={game}\n      />\n\n      {/* Edit Game Dialog */}\n      <Dialog open={showEditDialog} onOpenChange={setShowEditDialog}>\n        <DialogContent className=\"sm:max-w-[425px]\">\n          <DialogHeader>\n            <DialogTitle>Edit Game</DialogTitle>\n            <DialogDescription>\n              Make changes to your game. Participants will be notified of any updates.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"grid gap-4 py-4\">\n            <div className=\"space-y-2\">\n              <label htmlFor=\"edit-title\" className=\"text-sm font-medium\">\n                Title\n              </label>\n              <Input\n                id=\"edit-title\"\n                value={editFormData.title}\n                onChange={(e) => setEditFormData(prev => ({ ...prev, title: e.target.value }))}\n                placeholder=\"Game title\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <label htmlFor=\"edit-description\" className=\"text-sm font-medium\">\n                Description\n              </label>\n              <Textarea\n                id=\"edit-description\"\n                value={editFormData.description}\n                onChange={(e) => setEditFormData(prev => ({ ...prev, description: e.target.value }))}\n                placeholder=\"Game description\"\n                rows={3}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <label htmlFor=\"edit-location\" className=\"text-sm font-medium\">\n                Location\n              </label>\n              <Input\n                id=\"edit-location\"\n                value={editFormData.location}\n                onChange={(e) => setEditFormData(prev => ({ ...prev, location: e.target.value }))}\n                placeholder=\"Game location\"\n              />\n            </div>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <label htmlFor=\"edit-maxPlayers\" className=\"text-sm font-medium\">\n                  Max Players\n                </label>\n                <Input\n                  id=\"edit-maxPlayers\"\n                  type=\"number\"\n                  min=\"2\"\n                  max=\"50\"\n                  value={editFormData.maxPlayers}\n                  onChange={(e) => setEditFormData(prev => ({ ...prev, maxPlayers: parseInt(e.target.value) || 0 }))}\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <label htmlFor=\"edit-cost\" className=\"text-sm font-medium\">\n                  Cost\n                </label>\n                <Input\n                  id=\"edit-cost\"\n                  value={editFormData.cost}\n                  onChange={(e) => setEditFormData(prev => ({ ...prev, cost: e.target.value }))}\n                  placeholder=\"FREE or $10\"\n                />\n              </div>\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowEditDialog(false)}>\n              Cancel\n            </Button>\n            <Button onClick={handleSaveEdit} disabled={actionLoading}>\n              {actionLoading ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  Saving...\n                </>\n              ) : (\n                'Save Changes'\n              )}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Delete Game Dialog */}\n      <Dialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n        <DialogContent className=\"sm:max-w-[425px]\">\n          <DialogHeader>\n            <DialogTitle>Cancel Game</DialogTitle>\n            <DialogDescription>\n              This action cannot be undone. All participants will be notified of the cancellation.\n            </DialogDescription>\n          </DialogHeader>\n          <div className=\"grid gap-4 py-4\">\n            <div className=\"space-y-2\">\n              <label htmlFor=\"delete-reason\" className=\"text-sm font-medium\">\n                Reason for cancellation (optional)\n              </label>\n              <Textarea\n                id=\"delete-reason\"\n                value={deleteReason}\n                onChange={(e) => setDeleteReason(e.target.value)}\n                placeholder=\"Let participants know why the game is cancelled...\"\n                rows={3}\n              />\n            </div>\n          </div>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowDeleteDialog(false)}>\n              Keep Game\n            </Button>\n            <Button \n              variant=\"destructive\" \n              onClick={handleDeleteGame} \n              disabled={actionLoading}\n            >\n              {actionLoading ? (\n                <>\n                  <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                  Cancelling...\n                </>\n              ) : (\n                'Cancel Game'\n              )}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default GameDetails;"],"names":["__iconNode","Copy","createLucideIcon","DollarSign","EllipsisVertical","Navigation","PenLine","Phone","DropdownMenu","props","DropdownMenuPrimitive.Root","DropdownMenuTrigger","jsx","DropdownMenuPrimitive.Trigger","DropdownMenuContent","className","sideOffset","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","cn","DropdownMenuItem","inset","variant","DropdownMenuPrimitive.Item","Dialog","DialogPrimitive.Root","DialogPortal","DialogPrimitive.Portal","DialogOverlay","DialogPrimitive.Overlay","DialogContent","children","jsxs","DialogPrimitive.Content","DialogPrimitive.Close","XIcon","DialogHeader","DialogFooter","DialogTitle","DialogPrimitive.Title","DialogDescription","DialogPrimitive.Description","useGameActions","joinGame","leaveGame","updateGame","setLoading","setError","useAppStore","games","state","handleJoinGame","useCallback","gameId","game","g","toast","handleLeaveGame","toggleGameParticipation","cancelGame","reason","QuickJoinModal","isOpen","onClose","gameTitle","onJoinSuccess","signUp","signInWithOAuth","useAuth","step","setStep","useState","formData","setFormData","loading","error","handleQuickSignup","e","handleSocialLogin","provider","Card","CardHeader","CardTitle","Button","X","CardContent","Input","prev","User","Mail","Alert","AlertDescription","ShareGameModal","copied","setCopied","shareUrl","shareText","handleCopyLink","handleNativeShare","handleEmailShare","subject","body","handleSMSShare","message","handleWhatsAppShare","Share2","Badge","MapPin","Calendar","Clock","Users","Separator","MessageSquare","WeatherService","lat","lng","response","data","gameDateTime","formattedLat","formattedLng","gameTime","windowStart","windowEnd","windowForecasts","forecast","forecastTime","selectedForecast","closest","current","currentDiff","closestDiff","weatherSummary","zipcode","location","zipcodeMatch","primaryForecast","temps","f","conditions","precipitations","minTemp","maxTemp","a","b","maxPrecip","alerts","windowSummary","uniqueConditions","apiData","temp","condition","description","precipitation","standardAlerts","allAlerts","finalDescription","windSpeed","str","char","weather","WeatherInfo","setWeather","useEffect","weatherData","googleApiKey","geocodeResponse","geocodeData","simpleResponse","simpleData","fallbackResponse","fallbackData","fallbackError","alert","index","GameDetails","navigate","useNavigate","useParams","useGames","isLoading","useAppLoading","user","navigateToUser","useDeepLinks","showFullDescription","setShowFullDescription","players","setPlayers","loadingPlayers","setLoadingPlayers","showQuickJoin","setShowQuickJoin","showInvite","setShowInvite","showEditDialog","setShowEditDialog","showDeleteDialog","setShowDeleteDialog","editFormData","setEditFormData","deleteReason","setDeleteReason","actionLoading","setActionLoading","gamePlayers","SupabaseService","headerInfo","formatEventHeader","calendarInfo","formatCalendarInfo","isFull","tags","handleJoinLeave","handleQuickJoinSuccess","handleBack","handleShare","handleDirections","address","encodedAddress","mapsUrl","nativeUrl","handleEditGame","handleSaveEdit","handleDeleteGame","isGameCreator","ArrowLeft","Share","MoreVertical","Edit3","Trash2","Flag","ImageWithFallback","tag","Fragment","Loader2","req","Avatar","AvatarFallback","Star","player","Textarea"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}