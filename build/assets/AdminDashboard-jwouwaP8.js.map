{"version":3,"file":"AdminDashboard-jwouwaP8.js","sources":["../../node_modules/lucide-react/dist/esm/icons/activity.js","../../node_modules/lucide-react/dist/esm/icons/user-check.js","../../node_modules/lucide-react/dist/esm/icons/user-x.js","../../src/hooks/useAdmin.ts","../../src/components/AdminDashboard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2\",\n      key: \"169zse\"\n    }\n  ]\n];\nconst Activity = createLucideIcon(\"activity\", __iconNode);\n\nexport { __iconNode, Activity as default };\n//# sourceMappingURL=activity.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"polyline\", { points: \"16 11 18 13 22 9\", key: \"1pwet4\" }]\n];\nconst UserCheck = createLucideIcon(\"user-check\", __iconNode);\n\nexport { __iconNode, UserCheck as default };\n//# sourceMappingURL=user-check.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"line\", { x1: \"17\", x2: \"22\", y1: \"8\", y2: \"13\", key: \"3nzzx3\" }],\n  [\"line\", { x1: \"22\", x2: \"17\", y1: \"8\", y2: \"13\", key: \"1swrse\" }]\n];\nconst UserX = createLucideIcon(\"user-x\", __iconNode);\n\nexport { __iconNode, UserX as default };\n//# sourceMappingURL=user-x.js.map\n","import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { toast } from 'sonner';\nimport { useAppStore } from '../store/appStore';\n\n// Query keys\nexport const adminKeys = {\n  all: ['admin'] as const,\n  users: () => [...adminKeys.all, 'users'] as const,\n  auditLog: () => [...adminKeys.all, 'auditLog'] as const,\n  permissions: (userId: string) => [...adminKeys.all, 'permissions', userId] as const,\n};\n\n/**\n * Hook to check if current user has admin role\n */\nexport function useIsAdmin() {\n  const { user } = useAppStore();\n  \n  return useQuery({\n    queryKey: ['admin', 'isAdmin', user?.id],\n    queryFn: async () => {\n      if (!user?.id) return false;\n      return await SupabaseService.hasAdminRole(user.id);\n    },\n    enabled: !!user?.id,\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\n/**\n * Hook to check if current user has moderator role\n */\nexport function useIsModerator() {\n  const { user } = useAppStore();\n  \n  return useQuery({\n    queryKey: ['admin', 'isModerator', user?.id],\n    queryFn: async () => {\n      if (!user?.id) return false;\n      return await SupabaseService.hasModeratorRole(user.id);\n    },\n    enabled: !!user?.id,\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\n/**\n * Hook to get all users (admin only)\n */\nexport function useAllUsers() {\n  return useQuery({\n    queryKey: adminKeys.users(),\n    queryFn: async () => {\n      return await SupabaseService.getAllUsers();\n    },\n    staleTime: 2 * 60 * 1000, // 2 minutes\n  });\n}\n\n/**\n * Hook to get admin audit log\n */\nexport function useAdminAuditLog(limit = 50) {\n  return useQuery({\n    queryKey: [...adminKeys.auditLog(), limit],\n    queryFn: async () => {\n      return await SupabaseService.getAdminAuditLog(limit);\n    },\n    staleTime: 1 * 60 * 1000, // 1 minute\n  });\n}\n\n/**\n * Hook to update user role (admin only)\n */\nexport function useUpdateUserRole() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async ({ userId, role }: { userId: string; role: 'user' | 'moderator' | 'admin' }) => {\n      return await SupabaseService.updateUserRole(userId, role);\n    },\n    onSuccess: (_, { userId, role }) => {\n      // Invalidate related queries\n      queryClient.invalidateQueries({ queryKey: adminKeys.users() });\n      queryClient.invalidateQueries({ queryKey: adminKeys.auditLog() });\n      \n      toast.success('User role updated successfully!', {\n        description: `User role changed to ${role}`,\n      });\n    },\n    onError: (error) => {\n      console.error('Update user role error:', error);\n      toast.error('Failed to update user role', {\n        description: error instanceof Error ? error.message : 'Please try again later',\n      });\n    },\n  });\n}\n\n/**\n * Hook to delete game (admin/moderator)\n */\nexport function useDeleteGame() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: async ({ gameId, reason }: { gameId: string; reason?: string }) => {\n      return await SupabaseService.deleteGame(gameId, reason);\n    },\n    onSuccess: (_, { gameId }) => {\n      // Invalidate games queries\n      queryClient.invalidateQueries({ queryKey: ['games'] });\n      queryClient.invalidateQueries({ queryKey: adminKeys.auditLog() });\n      \n      toast.success('Game deleted successfully!', {\n        description: 'The game has been removed and participants have been notified',\n      });\n    },\n    onError: (error) => {\n      console.error('Delete game error:', error);\n      toast.error('Failed to delete game', {\n        description: error instanceof Error ? error.message : 'Please try again later',\n      });\n    },\n  });\n}\n\n/**\n * Hook to check if user can perform admin actions\n */\nexport function useCanPerformAdminActions() {\n  const { data: isAdmin } = useIsAdmin();\n  const { data: isModerator } = useIsModerator();\n  \n  return {\n    canDeleteAnyGame: isAdmin || isModerator,\n    canManageUsers: isAdmin,\n    canViewAuditLog: isAdmin,\n    canAssignModerators: isAdmin,\n  };\n}\n","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { Input } from './ui/input';\nimport { Textarea } from './ui/textarea';\nimport { \n  ArrowLeft, \n  Users, \n  Calendar, \n  Shield, \n  Trash2, \n  UserCheck, \n  UserX,\n  Eye,\n  AlertTriangle,\n  Activity\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { useAllUsers, useAdminAuditLog, useUpdateUserRole, useDeleteGame, useCanPerformAdminActions } from '../hooks/useAdmin';\nimport { useGames } from '../hooks/useGames';\nimport { useAppStore } from '../store/appStore';\n\nfunction AdminDashboard() {\n  const navigate = useNavigate();\n  const { user } = useAppStore();\n  const [selectedTab, setSelectedTab] = useState<'overview' | 'users' | 'games' | 'audit'>('overview');\n  const [deleteReason, setDeleteReason] = useState('');\n  const [gameToDelete, setGameToDelete] = useState<string | null>(null);\n\n  // Hooks\n  const { data: allUsers, isLoading: usersLoading } = useAllUsers();\n  const { data: games, isLoading: gamesLoading } = useGames();\n  const { data: auditLog, isLoading: auditLoading } = useAdminAuditLog();\n  const updateUserRoleMutation = useUpdateUserRole();\n  const deleteGameMutation = useDeleteGame();\n  const canPerform = useCanPerformAdminActions();\n\n  // Check if user has admin access\n  if (!canPerform?.canViewAuditLog) {\n    return (\n      <div className=\"min-h-screen bg-background p-4\">\n        <div className=\"max-w-2xl mx-auto\">\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Shield className=\"w-5 h-5\" />\n                Access Denied\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-muted-foreground mb-4\">\n                You don't have permission to access the admin dashboard.\n              </p>\n              <Button onClick={() => navigate('/')} variant=\"outline\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back to Home\n              </Button>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n\n  // Check if user has admin access\n  if (!user || user.role !== 'admin') {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <Card className=\"w-full max-w-md\">\n          <CardContent className=\"pt-6\">\n            <div className=\"text-center\">\n              <Shield className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n              <h2 className=\"text-xl font-semibold mb-2\">Access Denied</h2>\n              <p className=\"text-muted-foreground mb-4\">\n                You don't have permission to access the admin dashboard.\n              </p>\n              <Button onClick={() => navigate('/')}>\n                Return to Home\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const handleRoleUpdate = (userId: string, newRole: 'user' | 'moderator' | 'admin') => {\n    if (userId === user.id && newRole !== 'admin') {\n      toast.error('You cannot remove your own admin privileges');\n      return;\n    }\n    \n    updateUserRoleMutation.mutate({ userId, role: newRole });\n  };\n\n  const handleDeleteGame = (gameId: string) => {\n    if (!deleteReason.trim()) {\n      toast.error('Please provide a reason for deletion');\n      return;\n    }\n    \n    deleteGameMutation.mutate({ \n      gameId, \n      reason: deleteReason \n    }, {\n      onSuccess: () => {\n        setGameToDelete(null);\n        setDeleteReason('');\n      }\n    });\n  };\n\n  const getRoleBadgeVariant = (role: string) => {\n    switch (role) {\n      case 'admin': return 'destructive';\n      case 'moderator': return 'default';\n      default: return 'secondary';\n    }\n  };\n\n  const tabs = [\n    { id: 'overview', label: 'Overview', icon: Activity },\n    { id: 'users', label: 'Users', icon: Users },\n    { id: 'games', label: 'Games', icon: Calendar },\n    { id: 'audit', label: 'Audit Log', icon: Eye },\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 pt-12 pb-6\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => navigate('/')}>\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <div>\n            <h1 className=\"text-xl font-semibold\">Admin Dashboard</h1>\n            <p className=\"text-sm text-muted-foreground\">Manage users, games, and platform settings</p>\n          </div>\n        </div>\n        <Badge variant=\"destructive\" className=\"flex items-center gap-1\">\n          <Shield className=\"w-3 h-3\" />\n          Admin\n        </Badge>\n      </div>\n\n      {/* Tab Navigation */}\n      <div className=\"px-4 mb-6\">\n        <div className=\"flex space-x-1 bg-muted p-1 rounded-lg\">\n          {tabs.map((tab) => {\n            const Icon = tab.icon;\n            return (\n              <button\n                key={tab.id}\n                onClick={() => setSelectedTab(tab.id as any)}\n                className={`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                  selectedTab === tab.id\n                    ? 'bg-background text-foreground shadow-sm'\n                    : 'text-muted-foreground hover:text-foreground'\n                }`}\n              >\n                <Icon className=\"w-4 h-4\" />\n                {tab.label}\n              </button>\n            );\n          })}\n        </div>\n      </div>\n\n      <div className=\"px-4 space-y-6\">\n        {/* Overview Tab */}\n        {selectedTab === 'overview' && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Total Users</p>\n                    <p className=\"text-2xl font-bold\">{allUsers?.length || 0}</p>\n                  </div>\n                  <Users className=\"w-8 h-8 text-muted-foreground\" />\n                </div>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Active Games</p>\n                    <p className=\"text-2xl font-bold\">{games?.length || 0}</p>\n                  </div>\n                  <Calendar className=\"w-8 h-8 text-muted-foreground\" />\n                </div>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Moderators</p>\n                    <p className=\"text-2xl font-bold\">\n                      {allUsers?.filter(u => u.role === 'moderator').length || 0}\n                    </p>\n                  </div>\n                  <Shield className=\"w-8 h-8 text-muted-foreground\" />\n                </div>\n              </CardContent>\n            </Card>\n            \n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <p className=\"text-sm font-medium text-muted-foreground\">Recent Actions</p>\n                    <p className=\"text-2xl font-bold\">{auditLog?.length || 0}</p>\n                  </div>\n                  <Activity className=\"w-8 h-8 text-muted-foreground\" />\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        {/* Users Tab */}\n        {selectedTab === 'users' && (\n          <Card>\n            <CardHeader>\n              <CardTitle>User Management</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {usersLoading ? (\n                <p>Loading users...</p>\n              ) : (\n                <div className=\"space-y-4\">\n                  {allUsers?.map((userItem) => (\n                    <div key={userItem.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-10 h-10 rounded-full bg-muted flex items-center justify-center\">\n                          {userItem.name?.charAt(0).toUpperCase() || 'U'}\n                        </div>\n                        <div>\n                          <p className=\"font-medium\">{userItem.name}</p>\n                          <p className=\"text-sm text-muted-foreground\">{userItem.email}</p>\n                          <p className=\"text-xs text-muted-foreground\">@{userItem.username}</p>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Badge variant={getRoleBadgeVariant(userItem.role)}>\n                          {userItem.role}\n                        </Badge>\n                        {userItem.id !== user.id && (\n                          <div className=\"flex gap-1\">\n                            {userItem.role !== 'moderator' && (\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => handleRoleUpdate(userItem.id, 'moderator')}\n                                disabled={updateUserRoleMutation.isPending}\n                              >\n                                <UserCheck className=\"w-3 h-3 mr-1\" />\n                                Make Moderator\n                              </Button>\n                            )}\n                            {userItem.role !== 'user' && (\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => handleRoleUpdate(userItem.id, 'user')}\n                                disabled={updateUserRoleMutation.isPending}\n                              >\n                                <UserX className=\"w-3 h-3 mr-1\" />\n                                Remove Role\n                              </Button>\n                            )}\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Games Tab */}\n        {selectedTab === 'games' && (\n          <Card>\n            <CardHeader>\n              <CardTitle>Game Management</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {gamesLoading ? (\n                <p>Loading games...</p>\n              ) : (\n                <div className=\"space-y-4\">\n                  {games?.map((game) => (\n                    <div key={game.id} className=\"flex items-center justify-between p-4 border rounded-lg\">\n                      <div>\n                        <h3 className=\"font-medium\">{game.title}</h3>\n                        <p className=\"text-sm text-muted-foreground\">\n                          {game.sport} • {game.date} at {game.time}\n                        </p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          {game.location} • {game.currentPlayers}/{game.maxPlayers} players\n                        </p>\n                      </div>\n                      <Button\n                        size=\"sm\"\n                        variant=\"destructive\"\n                        onClick={() => setGameToDelete(game.id)}\n                        disabled={deleteGameMutation.isPending}\n                      >\n                        <Trash2 className=\"w-3 h-3 mr-1\" />\n                        Delete\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Audit Log Tab */}\n        {selectedTab === 'audit' && (\n          <Card>\n            <CardHeader>\n              <CardTitle>Audit Log</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {auditLoading ? (\n                <p>Loading audit log...</p>\n              ) : (\n                <div className=\"space-y-4\">\n                  {auditLog?.map((entry) => (\n                    <div key={entry.id} className=\"p-4 border rounded-lg\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <Badge variant=\"outline\">{entry.action}</Badge>\n                        <span className=\"text-xs text-muted-foreground\">\n                          {new Date(entry.created_at).toLocaleString()}\n                        </span>\n                      </div>\n                      <p className=\"text-sm\">\n                        <strong>{entry.admin?.full_name || 'Unknown Admin'}</strong> performed{' '}\n                        <strong>{entry.action}</strong> on {entry.target_type}\n                        {entry.target_id && ` (${entry.target_id.slice(0, 8)}...)`}\n                      </p>\n                      {entry.details && (\n                        <pre className=\"text-xs text-muted-foreground mt-2 bg-muted p-2 rounded\">\n                          {JSON.stringify(entry.details, null, 2)}\n                        </pre>\n                      )}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      {/* Delete Game Modal */}\n      {gameToDelete && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\n          <Card className=\"w-full max-w-md\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center gap-2\">\n                <AlertTriangle className=\"w-5 h-5 text-destructive\" />\n                Delete Game\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <p className=\"text-sm text-muted-foreground\">\n                This action cannot be undone. Please provide a reason for deleting this game.\n              </p>\n              <Textarea\n                placeholder=\"Reason for deletion...\"\n                value={deleteReason}\n                onChange={(e) => setDeleteReason(e.target.value)}\n                rows={3}\n              />\n              <div className=\"flex gap-2\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => {\n                    setGameToDelete(null);\n                    setDeleteReason('');\n                  }}\n                  className=\"flex-1\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  variant=\"destructive\"\n                  onClick={() => handleDeleteGame(gameToDelete)}\n                  disabled={deleteGameMutation.isPending || !deleteReason.trim()}\n                  className=\"flex-1\"\n                >\n                  {deleteGameMutation.isPending ? 'Deleting...' : 'Delete Game'}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AdminDashboard;\n"],"names":["__iconNode","Activity","createLucideIcon","UserCheck","UserX","adminKeys","userId","useIsAdmin","user","useAppStore","useQuery","SupabaseService","useIsModerator","useAllUsers","useAdminAuditLog","limit","useUpdateUserRole","queryClient","useQueryClient","useMutation","role","_","toast","error","useDeleteGame","gameId","reason","useCanPerformAdminActions","isAdmin","isModerator","AdminDashboard","navigate","useNavigate","selectedTab","setSelectedTab","useState","deleteReason","setDeleteReason","gameToDelete","setGameToDelete","allUsers","usersLoading","games","gamesLoading","useGames","auditLog","auditLoading","updateUserRoleMutation","deleteGameMutation","jsx","jsxs","Card","CardHeader","CardTitle","Shield","CardContent","Button","ArrowLeft","handleRoleUpdate","newRole","handleDeleteGame","getRoleBadgeVariant","tabs","Users","Calendar","Eye","Badge","tab","Icon","u","userItem","game","Trash2","entry","AlertTriangle","Textarea","e"],"mappings":"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","x_google_ignoreList":[0,1,2]}