import{j as e,R as Ge,T as Pe,P as Fe,C as De,I as Me,a as Ae,b as We,c as Ie,d as Ee,D as ze,e as Le,O as Te}from"./ui-Ca5AhCQM.js";import{r as g}from"./vendor-IUqyc6Bg.js";import{x as E,D as P,m as J,q as j,A as Re,C as k,y as D,z as M,B as f,v as $,w as Ue,E as _e,F as Oe,G as Je,L as _,o as O}from"./index-CgFXuVCN.js";import{B as R}from"./badge-DJ-Hd5ZM.js";import{A as Z,b as X}from"./avatar-MboSZoIJ.js";import{S as he}from"./separator-CfIJuVGv.js";import{A as ue,a as xe}from"./alert-CNk9DYtH.js";import{X as pe}from"./x-BrA1qL1u.js";import{I as G}from"./input-C0Em6iGK.js";import{T as ee}from"./textarea-St2JfnrO.js";import{I as He}from"./ImageWithFallback-5OQG_zrT.js";import{u as qe,T as Be}from"./useDeepLinks-e3vHyinM.js";import{U as Ye}from"./user-OTDuiyN6.js";import{M as H}from"./mail-CuGKjoOj.js";import{S as te}from"./share-2-COSSWzSP.js";import{M as q}from"./map-pin-DffyMoe2.js";import{C as fe}from"./calendar-DHKyDRPM.js";import{C as ge}from"./clock-C7S_tc4T.js";import{U as Ke}from"./users-Byz5f1Hg.js";import{M as se}from"./message-square-D-01n8bU.js";import{a as Qe,b as Ve}from"./dateUtils-But3d3jk.js";import{A as Ze}from"./arrow-left-hoaBxXb6.js";import{S as Xe,a as ae}from"./star-kw1A4LQg.js";import{F as et}from"./flag-qxa0drnA.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ie=E("copy",tt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],at=E("dollar-sign",st);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rt=E("ellipsis-vertical",it);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],ot=E("navigation",nt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],ct=E("pen-line",lt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],mt=E("phone",dt);function ht({...s}){return e.jsx(Ge,{"data-slot":"dropdown-menu",...s})}function ut({...s}){return e.jsx(Pe,{"data-slot":"dropdown-menu-trigger",...s})}function xt({className:s,sideOffset:t=4,...d}){return e.jsx(Fe,{children:e.jsx(De,{"data-slot":"dropdown-menu-content",sideOffset:t,className:P("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...d})})}function re({className:s,inset:t,variant:d="default",...m}){return e.jsx(Me,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":d,className:P("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...m})}function ne({...s}){return e.jsx(Ae,{"data-slot":"dialog",...s})}function pt({...s}){return e.jsx(Le,{"data-slot":"dialog-portal",...s})}function ft({className:s,...t}){return e.jsx(Te,{"data-slot":"dialog-overlay",className:P("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function oe({className:s,children:t,...d}){return e.jsxs(pt,{"data-slot":"dialog-portal",children:[e.jsx(ft,{}),e.jsxs(We,{"data-slot":"dialog-content",className:P("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...d,children:[t,e.jsxs(Ie,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(pe,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function le({className:s,...t}){return e.jsx("div",{"data-slot":"dialog-header",className:P("flex flex-col gap-2 text-center sm:text-left",s),...t})}function ce({className:s,...t}){return e.jsx("div",{"data-slot":"dialog-footer",className:P("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function de({className:s,...t}){return e.jsx(Ee,{"data-slot":"dialog-title",className:P("text-lg leading-none font-semibold",s),...t})}function me({className:s,...t}){return e.jsx(ze,{"data-slot":"dialog-description",className:P("text-muted-foreground text-sm",s),...t})}function gt(){const{joinGame:s,leaveGame:t,updateGame:d,setLoading:m,setError:x}=J(),l=J(i=>i.games),c=g.useCallback(async i=>{const o=l.find(r=>r.id===i);if(!o)return j.error("Game not found"),!1;if(o.isJoined)return j("Already joined",{description:"You are already part of this game"}),!1;if(o.currentPlayers>=o.maxPlayers)return j.error("Game is full",{description:"This game has reached maximum capacity"}),!1;try{return await s(i),j.success("Joined game!",{description:`You're now part of ${o.title}`}),!0}catch{return j.error("Failed to join game",{description:"Please try again later"}),!1}},[l,s]),h=g.useCallback(async i=>{const o=l.find(r=>r.id===i);if(!o)return j.error("Game not found"),!1;if(!o.isJoined)return j("Not joined",{description:"You are not part of this game"}),!1;try{return await t(i),j.success("Left game successfully",{description:`You've left ${o.title}`}),!0}catch{return j.error("Failed to leave game",{description:"Please try again later"}),!1}},[l,t]),u=g.useCallback(async i=>{const o=l.find(r=>r.id===i);return o?o.isJoined?await h(i):await c(i):!1},[l,c,h]),n=g.useCallback(async(i,o)=>{try{return d(i,{description:`${o?`CANCELLED: ${o}`:"CANCELLED"}`}),j.success("Game cancelled",{description:o||"The game has been cancelled"}),!0}catch{return j.error("Failed to cancel game",{description:"Please try again later"}),!1}},[d]);return{joinGame:c,leaveGame:h,toggleGameParticipation:u,cancelGame:n}}function jt({isOpen:s,onClose:t,gameTitle:d,gameId:m,onJoinSuccess:x}){const{signUp:l,signInWithOAuth:c}=Re(),[h,u]=g.useState("signup"),[n,i]=g.useState({name:"",email:"",phone:""}),[o,r]=g.useState(!1),[y,N]=g.useState("");if(!s)return null;const b=async v=>{v.preventDefault(),r(!0),N("");try{await l(n.email,"temp-password-"+Date.now(),{name:n.name,email:n.email,phone:n.phone,pendingGameId:m}),u("verify"),j.success("Account created! Check your email to verify and join the game.")}catch(C){N(C.message)}finally{r(!1)}},S=async v=>{try{r(!0),await c(v,{pendingGameId:m}),j.success(`Signing in with ${v}...`),t()}catch(C){j.error(C.message||"Social login failed")}finally{r(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(k,{className:"w-full max-w-md",children:[e.jsxs(D,{className:"flex flex-row items-center justify-between",children:[e.jsx(M,{className:"text-lg",children:h==="signup"?`Join "${d}"`:"Check Your Email"}),e.jsx(f,{variant:"ghost",size:"icon",onClick:t,children:e.jsx(pe,{className:"w-4 h-4"})})]}),e.jsx($,{children:h==="signup"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(f,{variant:"outline",className:"w-full",onClick:()=>S("google"),disabled:o,children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs(f,{variant:"outline",className:"w-full",onClick:()=>S("apple"),disabled:o,children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"Continue with Apple"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:b,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(G,{type:"text",placeholder:"Your name",value:n.name,onChange:v=>i(C=>({...C,name:v.target.value})),required:!0,className:"pl-10"}),e.jsx(Ye,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{type:"email",placeholder:"Email address",value:n.email,onChange:v=>i(C=>({...C,email:v.target.value})),required:!0,className:"pl-10"}),e.jsx(H,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{type:"tel",placeholder:"Phone (optional)",value:n.phone,onChange:v=>i(C=>({...C,phone:v.target.value})),className:"pl-10"}),e.jsx(mt,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),y&&e.jsx(ue,{variant:"destructive",children:e.jsx(xe,{children:y})}),e.jsx(f,{type:"submit",className:"w-full",disabled:o,children:o?"Creating Account...":"Join Game"})]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"By joining, you agree to our Terms of Service and Privacy Policy"})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(H,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Check your email"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a verification link to ",e.jsx("strong",{children:n.email})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:['Click the link to verify your account and automatically join "',d,'"']})]}),e.jsx(f,{variant:"outline",onClick:t,className:"w-full",children:"Got it"})]})})]})})}function wt({game:s,isOpen:t,onClose:d}){const[m,x]=g.useState(!1);if(!t)return null;const l=`${window.location.origin}/public/game/${s.id}`,c=`Join me for ${s.sport} at ${s.location} on ${s.date}!`,h=async()=>{try{await navigator.clipboard.writeText(l),x(!0),j.success("Link copied to clipboard!"),setTimeout(()=>x(!1),2e3)}catch{j.error("Failed to copy link")}},u=async()=>{if(navigator.share)try{await navigator.share({title:`Join ${s.title}`,text:c,url:l})}catch{}else h()},n=()=>{const r=encodeURIComponent(`Join me for ${s.sport}!`),y=encodeURIComponent(`
Hi!

I'm organizing a ${s.sport} game and would love for you to join:

üìç ${s.location}
üìÖ ${s.date} at ${s.time}
üí∞ ${s.cost||"Free"}
üë• ${s.currentPlayers}/${s.maxPlayers} players

${s.description?s.description+`

`:""}RSVP here: ${l}

Hope to see you there!
    `.trim());window.open(`mailto:?subject=${r}&body=${y}`)},i=()=>{const r=encodeURIComponent(`${c} RSVP: ${l}`);window.open(`sms:?body=${r}`)},o=()=>{const r=encodeURIComponent(`${c} RSVP: ${l}`);window.open(`https://wa.me/?text=${r}`)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(k,{className:"w-full max-w-md",children:[e.jsx(D,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5"}),"Share Game"]})}),e.jsxs($,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:s.title}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(R,{variant:"secondary",children:s.sport})}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{children:s.date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:s.time})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Ke,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.currentPlayers,"/",s.maxPlayers," players"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Public RSVP Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{value:l,readOnly:!0,className:"flex-1"}),e.jsx(f,{variant:"outline",size:"sm",onClick:h,className:m?"bg-green-50 text-green-700":"",children:e.jsx(ie,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Anyone with this link can view game details and RSVP"})]}),e.jsx(he,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-3",children:"Share via"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(f,{variant:"outline",onClick:u,className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4"}),"Share"]}),e.jsxs(f,{variant:"outline",onClick:n,className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4"}),"Email"]}),e.jsxs(f,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"SMS"]}),e.jsxs(f,{variant:"outline",onClick:o,className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"WhatsApp"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(f,{variant:"outline",onClick:d,className:"flex-1",children:"Close"}),e.jsxs(f,{onClick:h,className:"flex-1",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Copy Link"]})]})]})]})})}class T{static API_KEY="***REMOVED***";static BASE_URL="https://api.openweathermap.org/data/2.5";static CONFIG={temperatureUnit:"fahrenheit",updateInterval:3600,includeHourlyForecast:!0,rainThreshold:.1,windThreshold:15};static async getCurrentWeather(t,d){try{const m=await fetch(`${this.BASE_URL}/weather?lat=${t}&lon=${d}&appid=${this.API_KEY}&units=imperial`);if(!m.ok)throw new Error(`Weather API error: ${m.status}`);const x=await m.json();return this.transformWeatherData(x)}catch(m){return console.error("Error fetching weather:",m),this.getMockWeatherData()}}static async getGameWeather(t,d,m){try{const x=parseFloat(t.toFixed(6)),l=parseFloat(d.toFixed(6));console.log(`üå§Ô∏è Fetching weather for coordinates: ${x}, ${l}`),console.log(`üïê Game time: ${m.toISOString()}`);const c=await fetch(`${this.BASE_URL}/forecast?lat=${x}&lon=${l}&appid=${this.API_KEY}&units=imperial`);if(!c.ok)return console.error(`Weather API error: ${c.status} ${c.statusText}`),await this.getCurrentWeather(x,l);const h=await c.json();if(!h.list||h.list.length===0)return console.warn("No forecast data available, falling back to current weather"),await this.getCurrentWeather(x,l);console.log(`üìä Received ${h.list.length} forecast entries`);const u=m.getTime(),n=u-2*60*60*1e3,i=u+2*60*60*1e3;console.log(`üïê Weather window: ${new Date(n).toISOString()} to ${new Date(i).toISOString()}`);const o=h.list.filter(N=>{const b=N.dt*1e3;return b>=n&&b<=i});console.log(`üìà Found ${o.length} forecasts in 4-hour window`);let r;o.length>0?(r=o.reduce((N,b)=>{const S=Math.abs(b.dt*1e3-u),v=Math.abs(N.dt*1e3-u);return S<v?b:N}),console.log(`üéØ Selected forecast: ${new Date(r.dt*1e3).toISOString()}`)):(r=h.list.reduce((N,b)=>{const S=Math.abs(b.dt*1e3-u),v=Math.abs(N.dt*1e3-u);return S<v?b:N}),console.log(`‚ö†Ô∏è No forecasts in window, using closest: ${new Date(r.dt*1e3).toISOString()}`));const y=this.analyzeWeatherWindow(o,r);return this.transformWeatherData(r,y)}catch(x){return console.error("Error fetching game weather:",x),this.getMockWeatherData()}}static async getWeatherByZipcode(t,d){try{console.log(`üå§Ô∏è Fetching weather for zipcode: ${t}`),console.log(`üïê Game time: ${d.toISOString()}`);const m=await fetch(`${this.BASE_URL}/forecast?zip=${t},US&appid=${this.API_KEY}&units=imperial`);if(!m.ok)throw new Error(`Weather API error: ${m.status}`);const x=await m.json();console.log(`üìä Received ${x.list.length} forecast entries for ${t}`);const l=d.getTime(),c=l-2*60*60*1e3,h=l+2*60*60*1e3;console.log(`üïê Weather window: ${new Date(c).toISOString()} to ${new Date(h).toISOString()}`);const u=x.list.filter(o=>{const r=o.dt*1e3;return r>=c&&r<=h});console.log(`üìà Found ${u.length} forecasts in 4-hour window`);let n;u.length>0?(n=u.reduce((o,r)=>{const y=Math.abs(r.dt*1e3-l),N=Math.abs(o.dt*1e3-l);return y<N?r:o}),console.log(`üéØ Selected forecast: ${new Date(n.dt*1e3).toISOString()}`)):(n=x.list.reduce((o,r)=>{const y=Math.abs(r.dt*1e3-l),N=Math.abs(o.dt*1e3-l);return y<N?r:o}),console.log(`‚ö†Ô∏è No forecasts in window, using closest: ${new Date(n.dt*1e3).toISOString()}`));const i=this.analyzeWeatherWindow(u,n);return this.transformWeatherData(n,i)}catch(m){return console.error("Error fetching weather by zipcode:",m),null}}static extractZipcode(t){const d=t.match(/\b(\d{5}(?:-\d{4})?)\b/);return d?d[1].split("-")[0]:null}static analyzeWeatherWindow(t,d){if(t.length===0)return{alerts:[],windowSummary:""};const m=t.map(r=>r.main.temp),x=t.map(r=>r.weather[0].main),l=t.map(r=>r.rain?.["3h"]||r.snow?.["3h"]||0),c=Math.min(...m),h=Math.max(...m);m.reduce((r,y)=>r+y,0)/m.length;const u=Math.max(...l),n=[];let i="";h-c>10&&n.push(`üå°Ô∏è Temperature will vary ${Math.round(c)}¬∞F to ${Math.round(h)}¬∞F during game time`),u>.1&&n.push("üåßÔ∏è Possible precipitation during game window");const o=[...new Set(x)];return o.length>1&&n.push(`üå§Ô∏è Weather conditions may change: ${o.join(", ")}`),t.length>1&&(i=`4-hour forecast: ${Math.round(c)}-${Math.round(h)}¬∞F, ${o.join("/")}`),{alerts:n,windowSummary:i}}static transformWeatherData(t,d){const m=Math.round(t.main.temp),x=t.weather[0].main,l=t.weather[0].description,c=t.rain?.["1h"]||t.snow?.["1h"]||0,h=this.generateWeatherAlerts(x,m,c,t.wind.speed),u=d?[...h,...d.alerts]:h,n=d?.windowSummary||this.capitalizeWords(l);return{temperature:m,condition:x,description:n,humidity:t.main.humidity,windSpeed:Math.round(t.wind.speed),precipitation:c,icon:this.getWeatherIcon(x),isOutdoorFriendly:this.isOutdoorFriendly(x,m,c,t.wind.speed),alerts:u}}static isOutdoorFriendly(t,d,m,x){return!(d<40||d>95||m>this.CONFIG.rainThreshold||x>this.CONFIG.windThreshold||["Thunderstorm","Tornado","Squall"].includes(t))}static generateWeatherAlerts(t,d,m,x){const l=[];return d<50?l.push("üß• Dress warmly - temperature below 50¬∞F"):d>85&&l.push("‚òÄÔ∏è Stay hydrated - high temperature expected"),m>this.CONFIG.rainThreshold&&l.push("üåßÔ∏è Rain expected - consider indoor backup plan"),x>12&&l.push("üí® Windy conditions - secure loose items"),t==="Thunderstorm"&&l.push("‚ö° Thunderstorm warning - move indoors immediately"),l}static getWeatherIcon(t){return{Clear:"‚òÄÔ∏è",Clouds:"‚òÅÔ∏è",Rain:"üåßÔ∏è",Drizzle:"üå¶Ô∏è",Thunderstorm:"‚õàÔ∏è",Snow:"‚ùÑÔ∏è",Mist:"üå´Ô∏è",Fog:"üå´Ô∏è",Haze:"üå´Ô∏è"}[t]||"üå§Ô∏è"}static capitalizeWords(t){return t.replace(/\b\w/g,d=>d.toUpperCase())}static getMockWeatherData(){return{temperature:72,condition:"Clear",description:"Clear Sky",humidity:65,windSpeed:8,precipitation:0,icon:"‚òÄÔ∏è",isOutdoorFriendly:!0,alerts:[]}}static isConfigured(){return this.API_KEY!=="demo_key"&&this.API_KEY.length>0}static getWeatherRecommendation(t){return t.isOutdoorFriendly?t.temperature<60?"Cool weather - dress in layers and bring warm clothing.":t.temperature>80?"Warm weather - bring water and sun protection.":"Great weather for outdoor activities!":"Weather conditions may not be ideal for outdoor activities. Consider rescheduling or moving indoors."}}function vt({game:s}){const[t,d]=g.useState(null),[m,x]=g.useState(!0);return g.useEffect(()=>{(async()=>{console.log("üå§Ô∏è Getting weather data for game:",s.id),console.log("üìç Coordinates:",s.latitude,s.longitude),console.log("üìç Location:",s.location);try{let c=null;const h=new Date(`${s.date} ${s.time}`);if(s.latitude&&s.longitude)console.log("üéØ Using exact coordinates for weather"),c=await T.getGameWeather(s.latitude,s.longitude,h);else if(s.location){console.log("üó∫Ô∏è Using Google Maps geocoding for weather (same as map)");const u="AIzaSyCs_MsE3qt74h6eIR04QJqmf2FYgSys4UQ";try{const n=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(s.location)}&key=${u}`);if(n.ok){const i=await n.json();if(console.log("üó∫Ô∏è Google geocoding results:",i),i.status==="OK"&&i.results&&i.results.length>0){const{lat:o,lng:r}=i.results[0].geometry.location;console.log("üéØ Using Google Maps coordinates for weather:",o,r),c=await T.getGameWeather(o,r,h),console.log("‚úÖ Weather from Google Maps coordinates:",c)}else console.warn("üó∫Ô∏è Google geocoding failed:",i.status,i.error_message)}else console.error("üó∫Ô∏è Google geocoding HTTP error:",n.status,n.statusText)}catch(n){console.error("‚ùå Google Maps geocoding failed:",n)}if(!c){const n=T.extractZipcode(s.location);n&&(console.log("üìÆ Fallback: Using zipcode for weather:",n),c=await T.getWeatherByZipcode(n,h))}if(!c){console.log("üå§Ô∏è Final fallback: Simple weather search");const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(s.location)}&appid=***REMOVED***&units=imperial`);if(n.ok){const i=await n.json();c={temperature:Math.round(i.main.temp),condition:i.weather[0].main,description:i.weather[0].description,humidity:i.main.humidity,windSpeed:Math.round(i.wind.speed),precipitation:i.rain?.["1h"]||i.snow?.["1h"]||0,icon:i.weather[0].main==="Clear"?"‚òÄÔ∏è":i.weather[0].main==="Clouds"?"‚òÅÔ∏è":i.weather[0].main==="Rain"?"üåßÔ∏è":"üå§Ô∏è",isOutdoorFriendly:!0,alerts:[]}}}}if(c)console.log("‚úÖ Weather data received:",c),d(c);else throw new Error("No weather data available")}catch(c){console.error("‚ùå Weather error:",c);try{console.log("üîÑ Final attempt: Using current weather API");const h=await fetch("https://api.openweathermap.org/data/2.5/weather?zip=10001,US&appid=***REMOVED***&units=imperial");if(h.ok){const u=await h.json(),n=Math.round(u.main.temp),i=u.weather[0].main,o=u.weather[0].description;d({temperature:n,condition:i,description:`${o.charAt(0).toUpperCase()+o.slice(1)} (nearby area)`,humidity:u.main.humidity,windSpeed:Math.round(u.wind.speed),precipitation:u.rain?.["1h"]||u.snow?.["1h"]||0,icon:i==="Clear"?"‚òÄÔ∏è":i==="Clouds"?"‚òÅÔ∏è":i==="Rain"?"üåßÔ∏è":"üå§Ô∏è",isOutdoorFriendly:n>40&&n<95,alerts:[`üìç Showing weather for nearby area - actual conditions at ${s.location||"game location"} may vary`]})}else throw new Error("Fallback weather failed")}catch(h){console.error("‚ùå All weather sources failed:",h),d({temperature:72,condition:"Clear",description:"Weather data temporarily unavailable",humidity:65,windSpeed:8,precipitation:0,icon:"üå§Ô∏è",isOutdoorFriendly:!0,alerts:[`üîÑ Weather service temporarily unavailable for ${s.location||"this location"}`]})}}x(!1)})()},[s.latitude,s.longitude,s.location,s.date,s.time]),m?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading weather..."}):t?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[t.temperature,"¬∞F"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.description})]})]}),e.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[e.jsxs("div",{children:["Humidity: ",t.humidity,"%"]}),e.jsxs("div",{children:["Wind: ",t.windSpeed," mph"]})]})]}),t.alerts&&t.alerts.length>0&&e.jsx("div",{className:"space-y-1",children:t.alerts.map((l,c)=>e.jsx("div",{className:"text-xs bg-yellow-50 text-yellow-800 p-2 rounded",children:l},c))}),e.jsx("div",{className:"text-xs text-muted-foreground",children:T.getWeatherRecommendation(t)})]}):e.jsx("div",{className:"text-sm text-muted-foreground",children:"Weather unavailable"})}function Ht(){const s=Ue(),{gameId:t}=_e(),d=Oe();Je();const{user:m}=J(),{toggleGameParticipation:x}=gt(),{navigateToUser:l}=qe(),[c,h]=g.useState(!1),[u,n]=g.useState([]),[i,o]=g.useState(!1),[r,y]=g.useState(!1),[N,b]=g.useState(!1),[S,v]=g.useState(!1),[C,U]=g.useState(!1),[A,W]=g.useState({title:"",description:"",location:"",maxPlayers:0,cost:""}),[B,je]=g.useState(""),[F,I]=g.useState(!1),a=d.find(p=>p.id===t);if(g.useEffect(()=>{t&&(async()=>{o(!0);try{const w=await O.getGameParticipants(t);console.log("üîç Loaded players:",w);const z=w.map(L=>({...L,isHost:L.id===a.creator_id}));console.log("üîç Players with host info:",z),n(z)}catch(w){console.error("Error loading players:",w),n([])}finally{o(!1)}})()},[t,a.creator_id]),!a)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl mb-4",children:"Game not found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The game you're looking for doesn't exist or has been removed."}),e.jsx(f,{onClick:()=>s("/"),children:"Go Home"})]})});const Y=Qe(a.date,a.time),K=Ve(a.date,a.time),Q=a.currentPlayers>=a.maxPlayers,V=a.tags,we=async()=>{if(!F){if(!m){y(!0);return}I(!0);try{await x(a.id)}finally{I(!1)}}},ve=async()=>{y(!1),t&&await x(t)},ye=()=>{s(-1)},Ne=async()=>{b(!0)},be=()=>{const p=a.location||"Location not specified",w=encodeURIComponent(p),z=`https://maps.google.com/maps?q=${w}&t=m&z=16`;try{if(navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)){const L=`maps://maps.google.com/maps?q=${w}`;window.location.href=L,setTimeout(()=>{window.open(z,"_blank")},1e3)}else window.open(z,"_blank");j.success("Opening directions...")}catch{j.error("Failed to open directions")}},Ce=()=>{W({title:a.title,description:a.description,location:a.location,maxPlayers:a.maxPlayers,cost:a.cost}),v(!0)},Se=async()=>{if(t){I(!0);try{await O.updateGame(t,A),j.success("Game updated successfully"),v(!1),window.location.reload()}catch(p){j.error("Failed to update game",{description:p.message||"Please try again later"})}finally{I(!1)}}},ke=async()=>{if(t){I(!0);try{await O.deleteGame(t,B),j.success("Game cancelled successfully"),U(!1),s("/")}catch(p){j.error("Failed to cancel game",{description:p.message||"Please try again later"})}finally{I(!1)}}},$e=m&&a&&a.createdBy===m.id;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(f,{variant:"ghost",size:"icon",onClick:ye,"aria-label":"Go back",children:e.jsx(Ze,{className:"w-5 h-5"})}),e.jsxs("div",{role:"text","aria-label":`Event: ${a.title}. ${Y.aria}`,children:[e.jsx("h1",{className:"text-xl font-semibold line-clamp-2",children:a.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:Y.label})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{variant:"ghost",size:"icon",onClick:Ne,"data-action":"share","aria-label":"Share game",title:"Share game (U)",children:e.jsx(Xe,{className:"w-5 h-5"})}),$e&&e.jsxs(ht,{children:[e.jsx(ut,{asChild:!0,children:e.jsx(f,{variant:"ghost",size:"icon","aria-label":"Game options",children:e.jsx(rt,{className:"w-5 h-5"})})}),e.jsxs(xt,{align:"end",children:[e.jsxs(re,{onClick:Ce,children:[e.jsx(ct,{className:"w-4 h-4 mr-2"}),"Edit Game"]}),e.jsxs(re,{onClick:()=>U(!0),className:"text-destructive focus:text-destructive",children:[e.jsx(Be,{className:"w-4 h-4 mr-2"}),"Cancel Game"]})]})]}),e.jsx(f,{variant:"ghost",size:"icon","aria-label":"Report game",children:e.jsx(et,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"px-4 py-6 space-y-6",id:"main-content",children:[e.jsxs(k,{children:[a.imageUrl&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-video overflow-hidden rounded-t-lg",children:e.jsx(He,{src:a.imageUrl,alt:`${a.sport} game`,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(R,{className:`${a.sportColor} text-white border-none`,children:a.sport})})]}),!a.imageUrl&&e.jsx("div",{className:"p-4 border-b",children:e.jsx(R,{className:`${a.sportColor} text-white border-none`,children:a.sport})}),e.jsxs($,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(fe,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:K.date}),e.jsx("div",{className:"text-sm text-muted-foreground",children:K.time})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ge,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:"2 hours"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(at,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:a.cost}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Cost"})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Array.isArray(V)&&V.map(p=>e.jsx(R,{variant:"secondary",children:p},p))}),e.jsx(f,{onClick:we,disabled:!a.isJoined&&Q||F,className:"w-full h-12",variant:a.isJoined?"outline":"default","data-action":"join-game",title:`${a.isJoined?"Leave":"Join"} game (J)`,children:F?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 mr-2 animate-spin"}),a.isJoined?"Leaving...":"Joining..."]}):Q&&!a.isJoined?"Game is Full":a.isJoined?"Leave Game":m?"Join Game":"Join Game - Sign Up"})]})]}),e.jsxs(k,{children:[e.jsx(D,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5"}),"Location"]})}),e.jsx($,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx("div",{children:a.location})}),e.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:a.latitude&&a.longitude||a.location?e.jsx("iframe",{src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyCs_MsE3qt74h6eIR04QJqmf2FYgSys4UQ&q=${a.latitude&&a.longitude?`${a.latitude},${a.longitude}`:encodeURIComponent(a.location)}&zoom=15`,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"rounded-lg",title:"Game location map"}):e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(q,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{children:"Map not available"})]})}),e.jsxs(f,{variant:"outline",className:"w-full",onClick:be,"data-action":"directions",title:"Get directions (L)",children:[e.jsx(ot,{className:"w-4 h-4 mr-2"}),"Get Directions"]})]})})]}),(a.latitude&&a.longitude||a.location)&&e.jsxs(k,{children:[e.jsx(D,{children:e.jsx(M,{className:"flex items-center gap-2",children:"‚òÄÔ∏è Weather Forecast"})}),e.jsx($,{children:e.jsx(vt,{game:a})})]}),e.jsxs(k,{children:[e.jsx(D,{children:e.jsx(M,{children:"About This Game"})}),e.jsx($,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm leading-relaxed ${c?"":"line-clamp-3"}`,children:a.description}),a.description.length>150&&e.jsx(f,{variant:"ghost",size:"sm",onClick:()=>h(!c),className:"p-0 h-auto",children:c?"Show less":"Show more"}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2",children:"Requirements"}),e.jsx("ul",{className:"space-y-1",children:["Athletic shoes required","Bring water bottle","No experience necessary"].map((p,w)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-2 flex-shrink-0"}),p]},w))})]})]})})]}),e.jsxs(k,{children:[e.jsx(D,{children:e.jsx(M,{children:"Game Host"})}),e.jsx($,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>l("host1"),className:"flex items-center gap-3 hover:opacity-80 transition-opacity","data-action":"view-profile",children:[e.jsx(Z,{children:e.jsx(X,{children:a.createdBy?.charAt(0)||"U"})}),e.jsxs("div",{children:[e.jsx("div",{children:a.createdBy||"Unknown"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(ae,{className:"w-3 h-3 fill-current text-warning"}),"No rating yet"]})]})]})})})})]}),e.jsxs(k,{children:[e.jsx(D,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(M,{children:["Players (",u.length,"/",a.maxPlayers,")"]})})}),e.jsx($,{children:e.jsx("div",{className:"space-y-3",children:u.map((p,w)=>e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Z,{children:e.jsx(X,{children:p.avatar})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{console.log("üîç Clicking on player:",p),l(p.id)},className:"hover:text-primary transition-colors cursor-pointer",children:p.name}),p.isHost&&e.jsx(R,{variant:"secondary",className:"text-xs px-2 py-0",children:"Host"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(ae,{className:"w-3 h-3 fill-current text-warning"}),p.rating]})]})]})}),w<u.length-1&&e.jsx(he,{className:"mt-3"})]},p.id))})})]}),a.isJoined&&e.jsx(ue,{className:"border-success text-success-foreground",children:e.jsx(xe,{children:"You're joined! See you on the field!"})})]}),e.jsx(jt,{isOpen:r,onClose:()=>y(!1),gameTitle:a.title,gameId:a.id,onJoinSuccess:ve}),e.jsx(wt,{isOpen:N,onClose:()=>b(!1),game:a}),e.jsx(ne,{open:S,onOpenChange:v,children:e.jsxs(oe,{className:"sm:max-w-[425px]",children:[e.jsxs(le,{children:[e.jsx(de,{children:"Edit Game"}),e.jsx(me,{children:"Make changes to your game. Participants will be notified of any updates."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"edit-title",className:"text-sm font-medium",children:"Title"}),e.jsx(G,{id:"edit-title",value:A.title,onChange:p=>W(w=>({...w,title:p.target.value})),placeholder:"Game title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"edit-description",className:"text-sm font-medium",children:"Description"}),e.jsx(ee,{id:"edit-description",value:A.description,onChange:p=>W(w=>({...w,description:p.target.value})),placeholder:"Game description",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"edit-location",className:"text-sm font-medium",children:"Location"}),e.jsx(G,{id:"edit-location",value:A.location,onChange:p=>W(w=>({...w,location:p.target.value})),placeholder:"Game location"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"edit-maxPlayers",className:"text-sm font-medium",children:"Max Players"}),e.jsx(G,{id:"edit-maxPlayers",type:"number",min:"2",max:"50",value:A.maxPlayers,onChange:p=>W(w=>({...w,maxPlayers:parseInt(p.target.value)||0}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"edit-cost",className:"text-sm font-medium",children:"Cost"}),e.jsx(G,{id:"edit-cost",value:A.cost,onChange:p=>W(w=>({...w,cost:p.target.value})),placeholder:"FREE or $10"})]})]})]}),e.jsxs(ce,{children:[e.jsx(f,{variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsx(f,{onClick:Se,disabled:F,children:F?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})}),e.jsx(ne,{open:C,onOpenChange:U,children:e.jsxs(oe,{className:"sm:max-w-[425px]",children:[e.jsxs(le,{children:[e.jsx(de,{children:"Cancel Game"}),e.jsx(me,{children:"This action cannot be undone. All participants will be notified of the cancellation."})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"delete-reason",className:"text-sm font-medium",children:"Reason for cancellation (optional)"}),e.jsx(ee,{id:"delete-reason",value:B,onChange:p=>je(p.target.value),placeholder:"Let participants know why the game is cancelled...",rows:3})]})}),e.jsxs(ce,{children:[e.jsx(f,{variant:"outline",onClick:()=>U(!1),children:"Keep Game"}),e.jsx(f,{variant:"destructive",onClick:ke,disabled:F,children:F?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Cancel Game"})]})]})})]})}export{Ht as GameDetails,Ht as default};
//# sourceMappingURL=GameDetails-CP9S2jG4.js.map
