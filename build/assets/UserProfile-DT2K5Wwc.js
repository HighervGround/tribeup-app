import{j as e}from"./ui-Ca5AhCQM.js";import{r}from"./vendor-IUqyc6Bg.js";import{u as G,a as k,B as o,C as l,b as i,d,e as m,S as j}from"./index-B_FlWj16.js";import{B as x}from"./badge-BFuHp4QD.js";import{A as B,a as H,b as E}from"./avatar-BAdaMQWd.js";import{f as T}from"./dateUtils-But3d3jk.js";import{C as h}from"./calendar-C4nklbHV.js";import{M as f}from"./map-pin-95o81VIX.js";import{T as v}from"./trophy-CD59-xCD.js";import{S as D}from"./settings-jBWwu9qp.js";function K(){const n=G(),{user:a}=k(),[N,g]=r.useState([{label:"Games Played",value:"0",icon:h},{label:"Games Hosted",value:"0",icon:f},{label:"Achievements",value:"0",icon:v}]),[p,b]=r.useState([]),[y,u]=r.useState(!0);r.useEffect(()=>{(async()=>{if(!a?.id){u(!1);return}try{const t=await j.getUserStats(a.id);g([{label:"Games Played",value:t.gamesPlayed.toString(),icon:h},{label:"Games Hosted",value:t.gamesHosted.toString(),icon:f},{label:"Achievements",value:t.achievements.toString(),icon:v}]);const U=await j.getUserRecentGames(a.id,5);b(U)}catch(t){console.error("Error loading user data:",t)}finally{u(!1)}})()},[a?.id]);const c=a?.name||"User Profile",S=a?.username?`@${a.username}`:"@user",w=a?.bio||"Sports enthusiast â€¢ Always up for a game!",C=a?.avatar||"",A=a?.preferences?.sports||["Basketball","Soccer","Tennis","Volleyball"],P=!(a?.name&&a?.email);return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 pt-12 pb-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Profile"}),e.jsx(o,{variant:"ghost",size:"icon",onClick:()=>n("/settings"),children:e.jsx(D,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"px-4 space-y-6",children:[e.jsx(l,{children:e.jsxs(i,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(B,{className:"w-16 h-16",children:[e.jsx(H,{src:C,alt:c}),e.jsx(E,{className:"text-xl",children:c.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold",children:c}),e.jsx("p",{className:"text-muted-foreground",children:S}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:w})]})]}),e.jsx(o,{variant:"outline",className:"w-full",onClick:()=>n("/profile/edit"),children:"Edit Profile"}),P&&e.jsx(o,{variant:"outline",className:"w-full mt-2",onClick:()=>n("/onboarding"),children:"Complete Profile"})]})}),e.jsxs(l,{children:[e.jsx(d,{children:e.jsx(m,{children:"Stats"})}),e.jsx(i,{children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:N.map(s=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(s.icon,{className:"w-5 h-5 text-primary"})}),e.jsx("div",{className:"text-2xl font-semibold",children:s.value}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.label})]},s.label))})})]}),e.jsxs(l,{children:[e.jsx(d,{children:e.jsx(m,{children:"Sports I Play"})}),e.jsx(i,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(s=>e.jsx(x,{variant:"secondary",children:s},s))})})]}),e.jsxs(l,{children:[e.jsx(d,{children:e.jsx(m,{children:"Recent Games"})}),e.jsx(i,{children:e.jsx("div",{className:"space-y-3",children:y?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Loading recent games..."})]}):p.length>0?p.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:s.title}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(s.date).toLocaleDateString()," at ",T(s.time)]}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[s.isHost&&e.jsx(x,{variant:"secondary",className:"text-xs",children:"Host"}),e.jsx(x,{variant:"outline",children:s.sport})]})]},s.id||t)):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(h,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No recent games"}),e.jsx("p",{className:"text-sm",children:"Join your first game to see it here!"})]})})})]})]})]})}export{K as UserProfile,K as default};
//# sourceMappingURL=UserProfile-DT2K5Wwc.js.map
