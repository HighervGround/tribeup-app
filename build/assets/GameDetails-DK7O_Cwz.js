import{c as D,a as I,r as v,t as x,i as ce,j as e,C,d as P,e as $,B as j,b as S,A as K,f as Z,u as oe,k as de,l as me,m as he,L as xe,S as ue}from"./index-Cc4LGJhl.js";import{B as L}from"./badge-BZqIAurU.js";import{A as R,a as O}from"./avatar-57gEUNAQ.js";import{S as pe}from"./separator-DwHV1OXc.js";import{I as Y}from"./ImageWithFallback-krGPp_0L.js";import{u as fe}from"./useDeepLinks-CBixCW8v.js";import{P as je,u as ge}from"./useKeyboardShortcuts-BjYqHNiJ.js";import{I as T}from"./input-Cimo5Sw3.js";import{X as ee}from"./x-BV3IJR_V.js";import{U as ve}from"./user-DCpiiyEw.js";import{M as U}from"./mail-ft7Lvpwk.js";import{C as W}from"./check-DCR14BGo.js";import{M as se,F as ye}from"./message-circle-Bk0bycPZ.js";import{U as ae}from"./users-DGcEP12b.js";import{A as Ne}from"./arrow-left-B4jFT5KQ.js";import{S as we,a as Q}from"./star-CG9_Rs5y.js";import{K as be}from"./keyboard-q1eWkVZ_.js";import{C as ke}from"./calendar-y8SxkHJ-.js";import{M as Ce}from"./map-pin-DYOO4G7j.js";import{N as Se}from"./navigation-BO1vVKDZ.js";import"./index-LLE0TcD7.js";import"./index-sz72u-6r.js";import"./index-BCKr6HAX.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$e=D("clock",Pe);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],V=D("copy",Ge);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ae=D("dollar-sign",Me);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Le=D("share-2",Je);function Te(){const{joinGame:t,leaveGame:a,updateGame:d,setLoading:i,setError:m}=I(),o=I(c=>c.games),g=v.useCallback(async c=>{const r=o.find(n=>n.id===c);if(!r)return x.error("Game not found"),!1;if(r.isJoined)return x("Already joined",{description:"You are already part of this game"}),!1;if(r.currentPlayers>=r.maxPlayers)return x.error("Game is full",{description:"This game has reached maximum capacity"}),!1;try{return i(!0),await new Promise(n=>setTimeout(n,800)),t(c),x.success("Joined game!",{description:`You're now part of ${r.title}`}),!0}catch{return m("Failed to join game"),x.error("Failed to join game",{description:"Please try again later"}),!1}finally{i(!1)}},[o,t,i,m]),u=v.useCallback(async c=>{const r=o.find(n=>n.id===c);if(!r)return x.error("Game not found"),!1;if(!r.isJoined)return x("Not joined",{description:"You are not part of this game"}),!1;try{return i(!0),await new Promise(n=>setTimeout(n,500)),a(c),x.success("Left game successfully",{description:`You've left ${r.title}`}),!0}catch{return m("Failed to leave game"),x.error("Failed to leave game",{description:"Please try again later"}),!1}finally{i(!1)}},[o,a,i,m]),h=v.useCallback(async c=>{const r=o.find(n=>n.id===c);return r?r.isJoined?await u(c):await g(c):!1},[o,g,u]),l=v.useCallback(async(c,r)=>{try{return i(!0),await new Promise(n=>setTimeout(n,1e3)),d(c,{description:`${r?`CANCELLED: ${r}`:"CANCELLED"}`}),x.success("Game cancelled",{description:r||"The game has been cancelled"}),!0}catch{return m("Failed to cancel game"),x.error("Failed to cancel game",{description:"Please try again later"}),!1}finally{i(!1)}},[d,i,m]);return{joinGame:g,leaveGame:u,toggleGameParticipation:h,cancelGame:l}}function De({isOpen:t,onClose:a,gameTitle:d,gameId:i,onJoinSuccess:m}){const{signUp:o,signInWithOAuth:g}=ce(),[u,h]=v.useState("signup"),[l,c]=v.useState({name:"",email:"",phone:""}),[r,n]=v.useState(!1),[w,N]=v.useState("");if(!t)return null;const k=async y=>{y.preventDefault(),n(!0),N("");try{await o(l.email,"temp-password-"+Date.now(),{name:l.name,email:l.email,phone:l.phone,pendingGameId:i}),h("verify"),x.success("Account created! Check your email to verify and join the game.")}catch(s){N(s.message)}finally{n(!1)}},G=async y=>{try{n(!0),await g(y,{pendingGameId:i}),x.success(`Signing in with ${y}...`),a()}catch(s){x.error(s.message||"Social login failed")}finally{n(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(C,{className:"w-full max-w-md",children:[e.jsxs(P,{className:"flex flex-row items-center justify-between",children:[e.jsx($,{className:"text-lg",children:u==="signup"?`Join "${d}"`:"Check Your Email"}),e.jsx(j,{variant:"ghost",size:"icon",onClick:a,children:e.jsx(ee,{className:"w-4 h-4"})})]}),e.jsx(S,{children:u==="signup"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(j,{variant:"outline",className:"w-full",onClick:()=>G("google"),disabled:r,children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs(j,{variant:"outline",className:"w-full",onClick:()=>G("apple"),disabled:r,children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"Continue with Apple"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:k,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(T,{type:"text",placeholder:"Your name",value:l.name,onChange:y=>c(s=>({...s,name:y.target.value})),required:!0,className:"pl-10"}),e.jsx(ve,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{type:"email",placeholder:"Email address",value:l.email,onChange:y=>c(s=>({...s,email:y.target.value})),required:!0,className:"pl-10"}),e.jsx(U,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{type:"tel",placeholder:"Phone (optional)",value:l.phone,onChange:y=>c(s=>({...s,phone:y.target.value})),className:"pl-10"}),e.jsx(je,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),w&&e.jsx(K,{variant:"destructive",children:e.jsx(Z,{children:w})}),e.jsx(j,{type:"submit",className:"w-full",disabled:r,children:r?"Creating Account...":"Join Game"})]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"By joining, you agree to our Terms of Service and Privacy Policy"})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(U,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Check your email"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a verification link to ",e.jsx("strong",{children:l.email})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:['Click the link to verify your account and automatically join "',d,'"']})]}),e.jsx(j,{variant:"outline",onClick:a,className:"w-full",children:"Got it"})]})})]})})}function Ie({isOpen:t,onClose:a,gameTitle:d,gameId:i,gameDate:m,gameTime:o,gameLocation:g,sport:u}){const[h,l]=v.useState(!1),[c,r]=v.useState([]);if(!t)return null;const n=`${window.location.origin}/game/${i}`,w=`ðŸƒâ€â™‚ï¸ Join me for ${u}!

"${d}"
ðŸ“… ${m} at ${o}
ðŸ“ ${g}

Tap to RSVP: ${n}`,N=async()=>{try{await navigator.clipboard.writeText(n),l(!0),x.success("Link copied to clipboard!"),setTimeout(()=>l(!1),2e3)}catch{x.error("Failed to copy link")}},M=[{name:"Copy Link",icon:h?W:V,action:N,description:"Copy shareable link",color:h?"text-green-600":"text-blue-600"},{name:"Share",icon:Le,action:async()=>{if(navigator.share)try{await navigator.share({title:`Join me for ${u}!`,text:w,url:n}),x.success("Shared successfully!")}catch{N()}else N()},description:"Use device share menu",color:"text-purple-600"},{name:"Text Message",icon:se,action:()=>{const f=`sms:?body=${encodeURIComponent(w)}`;window.open(f,"_blank"),x.success("SMS app opened!")},description:"Send via SMS",color:"text-green-600"},{name:"Email",icon:U,action:()=>{const f=encodeURIComponent(`Join me for ${u} - ${d}`),A=encodeURIComponent(`Hi!

I'm organizing a ${u} game and would love for you to join!

${d}
ðŸ“… ${m} at ${o}
ðŸ“ ${g}

Click here to RSVP: ${n}

See you there!
`),J=`mailto:?subject=${f}&body=${A}`;window.open(J,"_blank"),x.success("Email app opened!")},description:"Send via email",color:"text-red-600"},{name:"WhatsApp",icon:ae,action:()=>{const f=`https://wa.me/?text=${encodeURIComponent(w)}`;window.open(f,"_blank"),x.success("WhatsApp opened!")},description:"Share on WhatsApp",color:"text-green-500"}];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(C,{className:"w-full max-w-md",children:[e.jsxs(P,{className:"flex flex-row items-center justify-between",children:[e.jsx($,{className:"text-lg",children:"Invite Friends"}),e.jsx(j,{variant:"ghost",size:"icon",onClick:a,children:e.jsx(ee,{className:"w-4 h-4"})})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:"secondary",children:u}),e.jsx("h3",{className:"font-semibold text-sm",children:d})]}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[e.jsxs("div",{children:["ðŸ“… ",m," at ",o]}),e.jsxs("div",{children:["ðŸ“ ",g]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Game Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{value:n,readOnly:!0,className:"text-xs"}),e.jsx(j,{variant:"outline",size:"icon",onClick:N,className:h?"text-green-600":"",children:h?e.jsx(W,{className:"w-4 h-4"}):e.jsx(V,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-sm font-medium",children:"Quick Invite"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:M.map(f=>e.jsxs(j,{variant:"outline",className:"h-auto p-3 flex flex-col items-center gap-2",onClick:f.action,children:[e.jsx(f.icon,{className:`w-5 h-5 ${f.color}`}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs font-medium",children:f.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:f.description})]})]},f.name))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Message Preview"}),e.jsx("div",{className:"bg-muted/30 rounded-lg p-3 text-xs text-muted-foreground border-l-2 border-primary/20",children:w})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Anyone with the link can view and join this game"})]})]})})}function X(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}function te(t,a){if(!t&&!a)return null;if(t&&!a){const d=new Date(t);return isNaN(d.getTime())?null:d}if(!t&&a){const d=new Date(a);return isNaN(d.getTime())?null:d}try{const[d,i,m]=t.split("-").map(Number);if(!d||!i||!m)throw new Error("bad date");let o=0,g=0;if(a){const h=a.trim().match(/^(\d{1,2})(?::(\d{2}))?\s*(AM|PM)?$/i);if(h){o=parseInt(h[1],10),g=h[2]?parseInt(h[2],10):0;const l=h[3]?.toUpperCase();l&&(l==="PM"&&o<12&&(o+=12),l==="AM"&&o===12&&(o=0))}}const u=new Date(d,i-1,m,o,g);return isNaN(u.getTime())?null:u}catch{return null}}function ie(t,a){return new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"2-digit"}).format(t)}function ne(t,a){return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}).format(t)}function Ue(t,a,d){const i=new Date,m=te(t,a);if(!m){const N=t||"",k=a||"";return{label:[N,k].filter(Boolean).join(" Â· "),aria:`Event ${[N,k].filter(Boolean).join(" at ")}`,isPast:!1,isToday:!1,date:N,time:k}}const o=X(i),g=X(m),u=Math.round((g.getTime()-o.getTime())/864e5),h=a?ie(m):"";let l="",c=!1;u===0?(l="Today",c=!0):u===1?l="Tomorrow":l=ne(m);const r=[l,h].filter(Boolean).join(" Â· "),n=`Event ${l}${h?` at ${h}`:""}`,w=m.getTime()<i.getTime();return{label:r,aria:n,isPast:w,isToday:c,date:l,time:h}}function ze(t,a,d){const i=te(t,a);return i?{date:ne(i),time:ie(i)}:{date:t||"",time:a||""}}function cs(){const t=oe(),{gameId:a}=de(),d=me(),i=he(),{user:m}=I(),{toggleGameParticipation:o}=Te(),{navigateToChat:g,navigateToUser:u}=fe(),[h,l]=v.useState(!1),[c,r]=v.useState([]),[n,w]=v.useState(!1),[N,k]=v.useState(!1),[G,y]=v.useState(!1),s=d.find(p=>p.id===a);if(v.useEffect(()=>{a&&(async()=>{w(!0);try{const b=await ue.getGameParticipants(a);r(b)}catch(b){console.error("Error loading players:",b),r([])}finally{w(!1)}})()},[a]),ge([{key:"j",description:"Join/Leave game",action:()=>{s&&!i&&z()},disabled:!s||i},{key:"m",description:"Open group chat",action:()=>{s&&F()},disabled:!s},{key:"u",description:"Share game",action:()=>{s&&H()},disabled:!s},{key:"l",description:"Get directions",action:()=>{s&&B()},disabled:!s}]),!s)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl mb-4",children:"Game not found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The game you're looking for doesn't exist or has been removed."}),e.jsx(j,{onClick:()=>t("/"),children:"Go Home"})]})});const M=Ue(s.date,s.time),f=ze(s.date,s.time),A=s.currentPlayers>=s.maxPlayers,J=s.tags,z=async()=>{if(!m){k(!0);return}await o(s.id)},re=async()=>{k(!1),a&&await o(a)},le=()=>{t(-1)},F=()=>{g("game",a)},E=(p,b)=>{g("direct",p)},H=async()=>{y(!0)},B=()=>{const p=s.location||"Location not specified",b=encodeURIComponent(p),_=`https://maps.google.com/maps?q=${b}&t=m&z=16`;try{if(navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)){const q=`maps://maps.google.com/maps?q=${b}`;window.location.href=q,setTimeout(()=>{window.open(_,"_blank")},1e3)}else window.open(_,"_blank");x.success("Opening directions...")}catch{x.error("Failed to open directions")}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{variant:"ghost",size:"icon",onClick:le,"aria-label":"Go back",children:e.jsx(Ne,{className:"w-5 h-5"})}),e.jsxs("div",{role:"text","aria-label":`Event: ${s.title}. ${M.aria}`,children:[e.jsx("h1",{className:"text-xl font-semibold line-clamp-2",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:M.label})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{variant:"ghost",size:"icon",onClick:H,"data-action":"share","aria-label":"Share game",title:"Share game (U)",children:e.jsx(we,{className:"w-5 h-5"})}),e.jsx(j,{variant:"ghost",size:"icon","aria-label":"Report game",children:e.jsx(ye,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"hidden lg:block px-4 pb-2",children:e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(be,{className:"w-3 h-3"}),"Shortcuts:"]}),e.jsx("span",{children:"J = Join/Leave"}),e.jsx("span",{children:"M = Chat"}),e.jsx("span",{children:"U = Share"}),e.jsx("span",{children:"L = Directions"}),e.jsx("span",{children:"? = All shortcuts"})]})})]}),e.jsxs("div",{className:"px-4 py-6 space-y-6",id:"main-content",children:[e.jsxs(C,{children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-video overflow-hidden rounded-t-lg",children:e.jsx(Y,{src:s.imageUrl,alt:`${s.sport} game`,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(L,{className:`${s.sportColor} text-white border-none`,children:s.sport})})]}),e.jsxs(S,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ke,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:f.date}),e.jsx("div",{className:"text-sm text-muted-foreground",children:f.time})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:"2 hours"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ae,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsxs("div",{children:[s.currentPlayers,"/",s.maxPlayers]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Players"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ae,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:s.cost}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Cost"})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Array.isArray(J)&&J.map(p=>e.jsx(L,{variant:"secondary",children:p},p))}),e.jsx(j,{onClick:z,disabled:!s.isJoined&&A||i,className:"w-full h-12",variant:s.isJoined?"outline":"default","data-action":"join-game",title:`${s.isJoined?"Leave":"Join"} game (J)`,children:i?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"w-4 h-4 mr-2 animate-spin"}),s.isJoined?"Leaving...":"Joining..."]}):A&&!s.isJoined?"Game is Full":s.isJoined?"Leave Game":m?"Join Game":"Join Game - Sign Up"})]})]}),e.jsxs(C,{children:[e.jsx(P,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"w-5 h-5"}),"Location"]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx("div",{children:s.location})}),e.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:e.jsx(Y,{src:"https://images.unsplash.com/photo-1694928850410-b209896782a2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx1bml2ZXJzaXR5JTIwY2FtcHVzJTIwbWFwfGVufDF8fHx8MTc1NjIyMjUxOXww&ixlib=rb-4.1.0&q=80&w=1080",alt:"Location map",className:"w-full h-full object-cover rounded-lg"})}),e.jsxs(j,{variant:"outline",className:"w-full",onClick:B,"data-action":"directions",title:"Get directions (L)",children:[e.jsx(Se,{className:"w-4 h-4 mr-2"}),"Get Directions"]})]})})]}),e.jsxs(C,{children:[e.jsx(P,{children:e.jsx($,{children:"About This Game"})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm leading-relaxed ${h?"":"line-clamp-3"}`,children:s.description}),s.description.length>150&&e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>l(!h),className:"p-0 h-auto",children:h?"Show less":"Show more"}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2",children:"Requirements"}),e.jsx("ul",{className:"space-y-1",children:["Athletic shoes required","Bring water bottle","No experience necessary"].map((p,b)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-2 flex-shrink-0"}),p]},b))})]})]})})]}),e.jsxs(C,{children:[e.jsx(P,{children:e.jsx($,{children:"Game Host"})}),e.jsx(S,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>u("host1"),className:"flex items-center gap-3 hover:opacity-80 transition-opacity","data-action":"view-profile",children:[e.jsx(R,{children:e.jsx(O,{children:s.createdBy?.charAt(0)||"U"})}),e.jsxs("div",{children:[e.jsx("div",{children:s.createdBy||"Unknown"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(Q,{className:"w-3 h-3 fill-current text-warning"}),"No rating yet"]})]})]})}),e.jsx(j,{variant:"outline",size:"sm",onClick:()=>E("host1",s.createdBy||"Host"),children:"Message"})]})})]}),e.jsxs(C,{children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs($,{children:["Players (",c.length,"/",s.maxPlayers,")"]}),e.jsxs(j,{variant:"outline",size:"sm",onClick:F,"data-action":"group-chat",title:"Open group chat (M)",children:[e.jsx(se,{className:"w-4 h-4 mr-2"}),"Group Chat"]})]})}),e.jsx(S,{children:e.jsx("div",{className:"space-y-3",children:c.map((p,b)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{children:e.jsx(O,{children:p.avatar})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>u(p.id),className:"hover:text-primary transition-colors cursor-pointer",children:p.name}),p.isHost&&e.jsx(L,{variant:"secondary",className:"text-xs px-2 py-0",children:"Host"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(Q,{className:"w-3 h-3 fill-current text-warning"}),p.rating]})]})]}),!p.isHost&&e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>E(p.id,p.name),children:"Message"})]}),b<c.length-1&&e.jsx(pe,{className:"mt-3"})]},p.id))})})]}),s.isJoined&&e.jsx(K,{className:"border-success text-success-foreground",children:e.jsx(Z,{children:"You're joined! Check the group chat for updates and coordinate with other players."})})]}),e.jsx(De,{isOpen:N,onClose:()=>k(!1),gameTitle:s.title,gameId:s.id,onJoinSuccess:re}),e.jsx(Ie,{isOpen:G,onClose:()=>y(!1),gameTitle:s.title,gameId:s.id,gameDate:f.date,gameTime:f.time,gameLocation:s.location,sport:s.sport})]})}export{cs as GameDetails,cs as default};
//# sourceMappingURL=GameDetails-DK7O_Cwz.js.map
