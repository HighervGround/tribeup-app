import{j as e,R as Ge,T as De,P as Fe,C as Me,I as Pe,a as Ie,b as We,c as Ae,d as Ee,D as ze,e as Le,O as Te}from"./ui-Ca5AhCQM.js";import{r as g}from"./vendor-IUqyc6Bg.js";import{c as A,g as G,b as O,t as N,f as Re,C as S,d as F,e as M,B as p,a as k,u as Ue,h as _e,L as U,S as _}from"./index-DAbKcXBL.js";import{B as T}from"./badge-DWKnx1MB.js";import{A as V,b as Z}from"./avatar-IBi9SeLW.js";import{S as me}from"./separator-BxKxoSv7.js";import{A as he,a as ue}from"./alert-D5_0ny3A.js";import{X as xe}from"./x-t3lJwD8d.js";import{I as $}from"./input-CmGyG_b2.js";import{T as X}from"./textarea-BwKqlvtB.js";import{I as Oe}from"./ImageWithFallback-5OQG_zrT.js";import{a as Je,b as He,c as Be}from"./useGames-B8Fvb8QH.js";import{u as qe,T as Ye}from"./useDeepLinks-qFUtu55f.js";import{U as Ke}from"./user-DV59EkLM.js";import{M as J}from"./mail-BSu54FAO.js";import{S as ee}from"./share-2-WVKM7PfQ.js";import{M as H}from"./map-pin-DLVPrWWO.js";import{C as pe}from"./calendar-CQCABtko.js";import{C as ge}from"./clock-CwHTmlhJ.js";import{U as Qe}from"./users-AUXtbR3j.js";import{M as te}from"./message-square-WZmVlt0P.js";import{a as Ve,b as Ze}from"./dateUtils-But3d3jk.js";import{A as Xe}from"./arrow-left-84LH_DOE.js";import{S as et,a as se}from"./star-Mb1BDWRn.js";import{F as tt}from"./flag-Ccc2grEO.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ae=A("copy",st);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],it=A("dollar-sign",at);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rt=A("ellipsis-vertical",nt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],lt=A("navigation",ot);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],dt=A("pen-line",ct);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],ht=A("phone",mt);function ut({...a}){return e.jsx(Ge,{"data-slot":"dropdown-menu",...a})}function xt({...a}){return e.jsx(De,{"data-slot":"dropdown-menu-trigger",...a})}function pt({className:a,sideOffset:s=4,...o}){return e.jsx(Fe,{children:e.jsx(Me,{"data-slot":"dropdown-menu-content",sideOffset:s,className:G("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...o})})}function ie({className:a,inset:s,variant:o="default",...c}){return e.jsx(Pe,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":o,className:G("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...c})}function ne({...a}){return e.jsx(Ie,{"data-slot":"dialog",...a})}function gt({...a}){return e.jsx(Le,{"data-slot":"dialog-portal",...a})}function ft({className:a,...s}){return e.jsx(Te,{"data-slot":"dialog-overlay",className:G("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...s})}function re({className:a,children:s,...o}){return e.jsxs(gt,{"data-slot":"dialog-portal",children:[e.jsx(ft,{}),e.jsxs(We,{"data-slot":"dialog-content",className:G("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...o,children:[s,e.jsxs(Ae,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(xe,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function oe({className:a,...s}){return e.jsx("div",{"data-slot":"dialog-header",className:G("flex flex-col gap-2 text-center sm:text-left",a),...s})}function le({className:a,...s}){return e.jsx("div",{"data-slot":"dialog-footer",className:G("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...s})}function ce({className:a,...s}){return e.jsx(Ee,{"data-slot":"dialog-title",className:G("text-lg leading-none font-semibold",a),...s})}function de({className:a,...s}){return e.jsx(ze,{"data-slot":"dialog-description",className:G("text-muted-foreground text-sm",a),...s})}function jt(){const{updateGame:a,setLoading:s,setError:o}=O(),c=Je(),t=He(),d=g.useCallback(async i=>{try{return c.mutate(i),!0}catch{return!1}},[c]),l=g.useCallback(async i=>{try{return t.mutate(i),!0}catch{return!1}},[t]),m=g.useCallback(async i=>{try{const{games:n}=O.getState();return n.find(r=>r.id===i)?.isJoined?await l(i):await d(i)}catch(n){return console.error("Error toggling game participation:",n),!1}},[d,l]),h=g.useCallback(async(i,n)=>{try{return a(i,{description:`${n?`CANCELLED: ${n}`:"CANCELLED"}`}),N.success("Game cancelled",{description:n||"The game has been cancelled"}),!0}catch{return N.error("Failed to cancel game",{description:"Please try again later"}),!1}},[a]);return{joinGame:d,leaveGame:l,toggleGameParticipation:m,cancelGame:h}}function wt({isOpen:a,onClose:s,gameTitle:o,gameId:c,onJoinSuccess:t}){const{signUp:d,signInWithOAuth:l}=Re(),[m,h]=g.useState("signup"),[i,n]=g.useState({name:"",email:"",phone:""}),[u,r]=g.useState(!1),[v,j]=g.useState("");if(!a)return null;const b=async w=>{w.preventDefault(),r(!0),j("");try{await d(i.email,"temp-password-"+Date.now(),{name:i.name,email:i.email,phone:i.phone,pendingGameId:c}),h("verify"),N.success("Account created! Check your email to verify and join the game.")}catch(y){j(y.message)}finally{r(!1)}},C=async w=>{try{r(!0),await l(w,{pendingGameId:c}),N.success(`Signing in with ${w}...`),s()}catch(y){N.error(y.message||"Social login failed")}finally{r(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(S,{className:"w-full max-w-md",children:[e.jsxs(F,{className:"flex flex-row items-center justify-between",children:[e.jsx(M,{className:"text-lg",children:m==="signup"?`Join "${o}"`:"Check Your Email"}),e.jsx(p,{variant:"ghost",size:"icon",onClick:s,children:e.jsx(xe,{className:"w-4 h-4"})})]}),e.jsx(k,{children:m==="signup"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(p,{variant:"outline",className:"w-full",onClick:()=>C("google"),disabled:u,children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs(p,{variant:"outline",className:"w-full",onClick:()=>C("apple"),disabled:u,children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"Continue with Apple"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:b,className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx($,{type:"text",placeholder:"Your name",value:i.name,onChange:w=>n(y=>({...y,name:w.target.value})),required:!0,className:"pl-10"}),e.jsx(Ke,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),e.jsxs("div",{className:"relative",children:[e.jsx($,{type:"email",placeholder:"Email address",value:i.email,onChange:w=>n(y=>({...y,email:w.target.value})),required:!0,className:"pl-10"}),e.jsx(J,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),e.jsxs("div",{className:"relative",children:[e.jsx($,{type:"tel",placeholder:"Phone (optional)",value:i.phone,onChange:w=>n(y=>({...y,phone:w.target.value})),className:"pl-10"}),e.jsx(ht,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"})]}),v&&e.jsx(he,{variant:"destructive",children:e.jsx(ue,{children:v})}),e.jsx(p,{type:"submit",className:"w-full",disabled:u,children:u?"Creating Account...":"Join Game"})]}),e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"By joining, you agree to our Terms of Service and Privacy Policy"})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(J,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Check your email"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["We sent a verification link to ",e.jsx("strong",{children:i.email})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:['Click the link to verify your account and automatically join "',o,'"']})]}),e.jsx(p,{variant:"outline",onClick:s,className:"w-full",children:"Got it"})]})})]})})}function vt({game:a,isOpen:s,onClose:o}){const[c,t]=g.useState(!1);if(!s)return null;const d=`${window.location.origin}/public/game/${a.id}`,l=`Join me for ${a.sport} at ${a.location} on ${a.date}!`,m=async()=>{try{await navigator.clipboard.writeText(d),t(!0),N.success("Link copied to clipboard!"),setTimeout(()=>t(!1),2e3)}catch{N.error("Failed to copy link")}},h=async()=>{if(navigator.share)try{await navigator.share({title:`Join ${a.title}`,text:l,url:d})}catch{}else m()},i=()=>{const r=encodeURIComponent(`Join me for ${a.sport}!`),v=encodeURIComponent(`
Hi!

I'm organizing a ${a.sport} game and would love for you to join:

üìç ${a.location}
üìÖ ${a.date} at ${a.time}
üí∞ ${a.cost||"Free"}
üë• ${a.currentPlayers}/${a.maxPlayers} players

${a.description?a.description+`

`:""}RSVP here: ${d}

Hope to see you there!
    `.trim());window.open(`mailto:?subject=${r}&body=${v}`)},n=()=>{const r=encodeURIComponent(`${l} RSVP: ${d}`);window.open(`sms:?body=${r}`)},u=()=>{const r=encodeURIComponent(`${l} RSVP: ${d}`);window.open(`https://wa.me/?text=${r}`)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(S,{className:"w-full max-w-md",children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5"}),"Share Game"]})}),e.jsxs(k,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:a.title}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(T,{variant:"secondary",children:a.sport})}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{children:a.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:a.date})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:a.time})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Qe,{className:"w-4 h-4"}),e.jsxs("span",{children:[a.currentPlayers,"/",a.maxPlayers," players"]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Public RSVP Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx($,{value:d,readOnly:!0,className:"flex-1"}),e.jsx(p,{variant:"outline",size:"sm",onClick:m,className:c?"bg-green-50 text-green-700":"",children:e.jsx(ae,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Anyone with this link can view game details and RSVP"})]}),e.jsx(me,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-3",children:"Share via"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(p,{variant:"outline",onClick:h,className:"flex items-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4"}),"Share"]}),e.jsxs(p,{variant:"outline",onClick:i,className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"}),"Email"]}),e.jsxs(p,{variant:"outline",onClick:n,className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4"}),"SMS"]}),e.jsxs(p,{variant:"outline",onClick:u,className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4"}),"WhatsApp"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(p,{variant:"outline",onClick:o,className:"flex-1",children:"Close"}),e.jsxs(p,{onClick:m,className:"flex-1",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Copy Link"]})]})]})]})})}class L{static API_KEY="3d49d90fb511ba08385a88435f10825c";static BASE_URL="https://api.openweathermap.org/data/2.5";static CONFIG={temperatureUnit:"fahrenheit",updateInterval:3600,includeHourlyForecast:!0,rainThreshold:.1,windThreshold:15};static async getCurrentWeather(s,o){try{const c=await fetch(`${this.BASE_URL}/weather?lat=${s}&lon=${o}&appid=${this.API_KEY}&units=imperial`);if(!c.ok)throw new Error(`Weather API error: ${c.status}`);const t=await c.json();return this.transformWeatherData(t)}catch(c){return console.error("Error fetching weather:",c),this.getMockWeatherData()}}static async getGameWeather(s,o,c){try{const t=parseFloat(s.toFixed(6)),d=parseFloat(o.toFixed(6));console.log(`üå§Ô∏è Fetching weather for coordinates: ${t}, ${d}`),console.log(`üïê Game time: ${c.toISOString()}`);const l=await fetch(`${this.BASE_URL}/forecast?lat=${t}&lon=${d}&appid=${this.API_KEY}&units=imperial`);if(!l.ok)return console.error(`Weather API error: ${l.status} ${l.statusText}`),await this.getCurrentWeather(t,d);const m=await l.json();if(!m.list||m.list.length===0)return console.warn("No forecast data available, falling back to current weather"),await this.getCurrentWeather(t,d);console.log(`üìä Received ${m.list.length} forecast entries`);const h=c.getTime(),i=h-2*60*60*1e3,n=h+2*60*60*1e3;console.log(`üïê Weather window: ${new Date(i).toISOString()} to ${new Date(n).toISOString()}`);const u=m.list.filter(j=>{const b=j.dt*1e3;return b>=i&&b<=n});console.log(`üìà Found ${u.length} forecasts in 4-hour window`);let r;u.length>0?(r=u.reduce((j,b)=>{const C=Math.abs(b.dt*1e3-h),w=Math.abs(j.dt*1e3-h);return C<w?b:j}),console.log(`üéØ Selected forecast: ${new Date(r.dt*1e3).toISOString()}`)):(r=m.list.reduce((j,b)=>{const C=Math.abs(b.dt*1e3-h),w=Math.abs(j.dt*1e3-h);return C<w?b:j}),console.log(`‚ö†Ô∏è No forecasts in window, using closest: ${new Date(r.dt*1e3).toISOString()}`));const v=this.analyzeWeatherWindow(u,r);return this.transformWeatherData(r,v)}catch(t){return console.error("Error fetching game weather:",t),this.getMockWeatherData()}}static async getWeatherByZipcode(s,o){try{console.log(`üå§Ô∏è Fetching weather for zipcode: ${s}`),console.log(`üïê Game time: ${o.toISOString()}`);const c=await fetch(`${this.BASE_URL}/forecast?zip=${s},US&appid=${this.API_KEY}&units=imperial`);if(!c.ok)throw new Error(`Weather API error: ${c.status}`);const t=await c.json();console.log(`üìä Received ${t.list.length} forecast entries for ${s}`);const d=o.getTime(),l=d-2*60*60*1e3,m=d+2*60*60*1e3;console.log(`üïê Weather window: ${new Date(l).toISOString()} to ${new Date(m).toISOString()}`);const h=t.list.filter(u=>{const r=u.dt*1e3;return r>=l&&r<=m});console.log(`üìà Found ${h.length} forecasts in 4-hour window`);let i;h.length>0?(i=h.reduce((u,r)=>{const v=Math.abs(r.dt*1e3-d),j=Math.abs(u.dt*1e3-d);return v<j?r:u}),console.log(`üéØ Selected forecast: ${new Date(i.dt*1e3).toISOString()}`)):(i=t.list.reduce((u,r)=>{const v=Math.abs(r.dt*1e3-d),j=Math.abs(u.dt*1e3-d);return v<j?r:u}),console.log(`‚ö†Ô∏è No forecasts in window, using closest: ${new Date(i.dt*1e3).toISOString()}`));const n=this.analyzeWeatherWindow(h,i);return this.transformWeatherData(i,n)}catch(c){return console.error("Error fetching weather by zipcode:",c),null}}static extractZipcode(s){const o=s.match(/\b(\d{5}(?:-\d{4})?)\b/);return o?o[1].split("-")[0]:null}static analyzeWeatherWindow(s,o){if(s.length===0)return{alerts:[],windowSummary:""};const c=s.map(r=>r.main.temp),t=s.map(r=>r.weather[0].main),d=s.map(r=>r.rain?.["3h"]||r.snow?.["3h"]||0),l=Math.min(...c),m=Math.max(...c);c.reduce((r,v)=>r+v,0)/c.length;const h=Math.max(...d),i=[];let n="";m-l>10&&i.push(`üå°Ô∏è Temperature will vary ${Math.round(l)}¬∞F to ${Math.round(m)}¬∞F during game time`),h>.1&&i.push("üåßÔ∏è Possible precipitation during game window");const u=[...new Set(t)];return u.length>1&&i.push(`üå§Ô∏è Weather conditions may change: ${u.join(", ")}`),s.length>1&&(n=`4-hour forecast: ${Math.round(l)}-${Math.round(m)}¬∞F, ${u.join("/")}`),{alerts:i,windowSummary:n}}static transformWeatherData(s,o){const c=Math.round(s.main.temp),t=s.weather[0].main,d=s.weather[0].description,l=s.rain?.["1h"]||s.snow?.["1h"]||0,m=this.generateWeatherAlerts(t,c,l,s.wind.speed),h=o?[...m,...o.alerts]:m,i=o?.windowSummary||this.capitalizeWords(d);return{temperature:c,condition:t,description:i,humidity:s.main.humidity,windSpeed:Math.round(s.wind.speed),precipitation:l,icon:this.getWeatherIcon(t),isOutdoorFriendly:this.isOutdoorFriendly(t,c,l,s.wind.speed),alerts:h}}static isOutdoorFriendly(s,o,c,t){return!(o<40||o>95||c>this.CONFIG.rainThreshold||t>this.CONFIG.windThreshold||["Thunderstorm","Tornado","Squall"].includes(s))}static generateWeatherAlerts(s,o,c,t){const d=[];return o<50?d.push("üß• Dress warmly - temperature below 50¬∞F"):o>85&&d.push("‚òÄÔ∏è Stay hydrated - high temperature expected"),c>this.CONFIG.rainThreshold&&d.push("üåßÔ∏è Rain expected - consider indoor backup plan"),t>12&&d.push("üí® Windy conditions - secure loose items"),s==="Thunderstorm"&&d.push("‚ö° Thunderstorm warning - move indoors immediately"),d}static getWeatherIcon(s){return{Clear:"‚òÄÔ∏è",Clouds:"‚òÅÔ∏è",Rain:"üåßÔ∏è",Drizzle:"üå¶Ô∏è",Thunderstorm:"‚õàÔ∏è",Snow:"‚ùÑÔ∏è",Mist:"üå´Ô∏è",Fog:"üå´Ô∏è",Haze:"üå´Ô∏è"}[s]||"üå§Ô∏è"}static capitalizeWords(s){return s.replace(/\b\w/g,o=>o.toUpperCase())}static getMockWeatherData(){return{temperature:72,condition:"Clear",description:"Clear Sky",humidity:65,windSpeed:8,precipitation:0,icon:"‚òÄÔ∏è",isOutdoorFriendly:!0,alerts:[]}}static isConfigured(){return this.API_KEY!=="demo_key"&&this.API_KEY.length>0}static getWeatherRecommendation(s){return s.isOutdoorFriendly?s.temperature<60?"Cool weather - dress in layers and bring warm clothing.":s.temperature>80?"Warm weather - bring water and sun protection.":"Great weather for outdoor activities!":"Weather conditions may not be ideal for outdoor activities. Consider rescheduling or moving indoors."}}function yt({game:a}){const[s,o]=g.useState(null),[c,t]=g.useState(!0);return g.useEffect(()=>{(async()=>{console.log("üå§Ô∏è Getting weather data for game:",a.id),console.log("üìç Coordinates:",a.latitude,a.longitude),console.log("üìç Location:",a.location);try{let l=null;const m=new Date(`${a.date} ${a.time}`);if(a.latitude&&a.longitude)console.log("üéØ Using exact coordinates for weather"),l=await L.getGameWeather(a.latitude,a.longitude,m);else if(a.location){console.log("üó∫Ô∏è Using Google Maps geocoding for weather (same as map)");const h="AIzaSyCs_MsE3qt74h6eIR04QJqmf2FYgSys4UQ";try{const i=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(a.location)}&key=${h}`);if(i.ok){const n=await i.json();if(console.log("üó∫Ô∏è Google geocoding results:",n),n.status==="OK"&&n.results&&n.results.length>0){const{lat:u,lng:r}=n.results[0].geometry.location;console.log("üéØ Using Google Maps coordinates for weather:",u,r),l=await L.getGameWeather(u,r,m),console.log("‚úÖ Weather from Google Maps coordinates:",l)}else console.warn("üó∫Ô∏è Google geocoding failed:",n.status,n.error_message)}else console.error("üó∫Ô∏è Google geocoding HTTP error:",i.status,i.statusText)}catch(i){console.error("‚ùå Google Maps geocoding failed:",i)}if(!l){const i=L.extractZipcode(a.location);i&&(console.log("üìÆ Fallback: Using zipcode for weather:",i),l=await L.getWeatherByZipcode(i,m))}if(!l){console.log("üå§Ô∏è Final fallback: Simple weather search");const i=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(a.location)}&appid=3d49d90fb511ba08385a88435f10825c&units=imperial`);if(i.ok){const n=await i.json();l={temperature:Math.round(n.main.temp),condition:n.weather[0].main,description:n.weather[0].description,humidity:n.main.humidity,windSpeed:Math.round(n.wind.speed),precipitation:n.rain?.["1h"]||n.snow?.["1h"]||0,icon:n.weather[0].main==="Clear"?"‚òÄÔ∏è":n.weather[0].main==="Clouds"?"‚òÅÔ∏è":n.weather[0].main==="Rain"?"üåßÔ∏è":"üå§Ô∏è",isOutdoorFriendly:!0,alerts:[]}}}}if(l)console.log("‚úÖ Weather data received:",l),o(l);else throw new Error("No weather data available")}catch(l){console.error("‚ùå Weather error:",l);try{console.log("üîÑ Final attempt: Using current weather API");const m=await fetch("https://api.openweathermap.org/data/2.5/weather?zip=10001,US&appid=3d49d90fb511ba08385a88435f10825c&units=imperial");if(m.ok){const h=await m.json(),i=Math.round(h.main.temp),n=h.weather[0].main,u=h.weather[0].description;o({temperature:i,condition:n,description:`${u.charAt(0).toUpperCase()+u.slice(1)} (nearby area)`,humidity:h.main.humidity,windSpeed:Math.round(h.wind.speed),precipitation:h.rain?.["1h"]||h.snow?.["1h"]||0,icon:n==="Clear"?"‚òÄÔ∏è":n==="Clouds"?"‚òÅÔ∏è":n==="Rain"?"üåßÔ∏è":"üå§Ô∏è",isOutdoorFriendly:i>40&&i<95,alerts:[`üìç Showing weather for nearby area - actual conditions at ${a.location||"game location"} may vary`]})}else throw new Error("Fallback weather failed")}catch(m){console.error("‚ùå All weather sources failed:",m),o({temperature:72,condition:"Clear",description:"Weather data temporarily unavailable",humidity:65,windSpeed:8,precipitation:0,icon:"üå§Ô∏è",isOutdoorFriendly:!0,alerts:[`üîÑ Weather service temporarily unavailable for ${a.location||"this location"}`]})}}t(!1)})()},[a.latitude,a.longitude,a.location,a.date,a.time]),c?e.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading weather..."}):s?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:s.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.temperature,"¬∞F"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.description})]})]}),e.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[e.jsxs("div",{children:["Humidity: ",s.humidity,"%"]}),e.jsxs("div",{children:["Wind: ",s.windSpeed," mph"]})]})]}),s.alerts&&s.alerts.length>0&&e.jsx("div",{className:"space-y-1",children:s.alerts.map((d,l)=>e.jsx("div",{className:"text-xs bg-yellow-50 text-yellow-800 p-2 rounded",children:d},l))}),e.jsx("div",{className:"text-xs text-muted-foreground",children:L.getWeatherRecommendation(s)})]}):e.jsx("div",{className:"text-sm text-muted-foreground",children:"Weather unavailable"})}function qt(){const a=Ue(),{gameId:s}=_e(),{user:o}=O(),{toggleGameParticipation:c}=jt(),{data:t,isLoading:d}=Be(s||""),{navigateToUser:l}=qe(),[m,h]=g.useState(!1),[i,n]=g.useState([]),[u,r]=g.useState(!1),[v,j]=g.useState(!1),[b,C]=g.useState(!1),[w,y]=g.useState(!1),[fe,R]=g.useState(!1),[P,I]=g.useState({title:"",description:"",location:"",maxPlayers:0,cost:""}),[B,je]=g.useState(""),[D,W]=g.useState(!1);if(d)return e.jsx("div",{className:"min-h-screen bg-background p-4",children:e.jsx("div",{className:"max-w-2xl mx-auto space-y-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-muted rounded mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded w-2/3 mb-4"}),e.jsx("div",{className:"h-48 bg-muted rounded"})]})})});if(!t)return e.jsx("div",{className:"min-h-screen bg-background p-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Game Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The game you're looking for doesn't exist or has been removed."}),e.jsx(p,{onClick:()=>a("/"),children:"Back to Home"})]})});if(g.useEffect(()=>{s&&t&&(async()=>{r(!0);try{const f=await _.getGameParticipants(s);console.log("üîç Loaded players:",f);const E=f.map(z=>({...z,isHost:z.id===t?.creator_id}));console.log("üîç Players with host info:",E),n(E)}catch(f){console.error("Error loading players:",f),n([])}finally{r(!1)}})()},[s,t?.creator_id]),d)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(U,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading game details..."})]})});if(!t)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl mb-4",children:"Game not found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"The game you're looking for doesn't exist or has been removed."}),e.jsx(p,{onClick:()=>a("/"),children:"Go Home"})]})});const q=Ve(t.date,t.time),Y=Ze(t.date,t.time),K=t.currentPlayers>=t.maxPlayers,Q=t.tags,we=async()=>{if(!D){if(!o){j(!0);return}W(!0);try{await c(t.id)}finally{W(!1)}}},ve=async()=>{j(!1),s&&await c(s)},ye=()=>{a(-1)},Ne=async()=>{C(!0)},be=()=>{const x=t.location||"Location not specified",f=encodeURIComponent(x),E=`https://maps.google.com/maps?q=${f}&t=m&z=16`;try{if(navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/)){const z=`maps://maps.google.com/maps?q=${f}`;window.location.href=z,setTimeout(()=>{window.open(E,"_blank")},1e3)}else window.open(E,"_blank");N.success("Opening directions...")}catch{N.error("Failed to open directions")}},Ce=()=>{I({title:t.title,description:t.description,location:t.location,maxPlayers:t.maxPlayers,cost:t.cost}),y(!0)},Se=async()=>{if(s){W(!0);try{await _.updateGame(s,P),N.success("Game updated successfully"),y(!1),window.location.reload()}catch(x){N.error("Failed to update game",{description:x.message||"Please try again later"})}finally{W(!1)}}},ke=async()=>{if(s){W(!0);try{await _.deleteGame(s,B),N.success("Game cancelled successfully"),R(!1),a("/")}catch(x){N.error("Failed to cancel game",{description:x.message||"Please try again later"})}finally{W(!1)}}},$e=o&&t&&t.createdBy===o.id;return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{variant:"ghost",size:"icon",onClick:ye,"aria-label":"Go back",children:e.jsx(Xe,{className:"w-5 h-5"})}),e.jsxs("div",{role:"text","aria-label":`Event: ${t.title}. ${q.aria}`,children:[e.jsx("h1",{className:"text-xl font-semibold line-clamp-2",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:q.label})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{variant:"ghost",size:"icon",onClick:Ne,"data-action":"share","aria-label":"Share game",title:"Share game (U)",children:e.jsx(et,{className:"w-5 h-5"})}),$e&&e.jsxs(ut,{children:[e.jsx(xt,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"icon","aria-label":"Game options",children:e.jsx(rt,{className:"w-5 h-5"})})}),e.jsxs(pt,{align:"end",children:[e.jsxs(ie,{onClick:Ce,children:[e.jsx(dt,{className:"w-4 h-4 mr-2"}),"Edit Game"]}),e.jsxs(ie,{onClick:()=>R(!0),className:"text-destructive focus:text-destructive",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"Cancel Game"]})]})]}),e.jsx(p,{variant:"ghost",size:"icon","aria-label":"Report game",children:e.jsx(tt,{className:"w-5 h-5"})})]})]})}),e.jsxs("div",{className:"px-4 py-6 space-y-6",id:"main-content",children:[e.jsxs(S,{children:[t.imageUrl&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-video overflow-hidden rounded-t-lg",children:e.jsx(Oe,{src:t.imageUrl,alt:`${t.sport} game`,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(T,{className:`${t.sportColor} text-white border-none`,children:t.sport})})]}),!t.imageUrl&&e.jsx("div",{className:"p-4 border-b",children:e.jsx(T,{className:`${t.sportColor} text-white border-none`,children:t.sport})}),e.jsxs(k,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:Y.date}),e.jsx("div",{className:"text-sm text-muted-foreground",children:Y.time})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ge,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:"2 hours"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(it,{className:"w-5 h-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("div",{children:t.cost}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Cost"})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Array.isArray(Q)&&Q.map(x=>e.jsx(T,{variant:"secondary",children:x},x))}),e.jsx(p,{onClick:we,disabled:!t.isJoined&&K||D,className:"w-full h-12",variant:t.isJoined?"outline":"default","data-action":"join-game",title:`${t.isJoined?"Leave":"Join"} game (J)`,children:D?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"w-4 h-4 mr-2 animate-spin"}),t.isJoined?"Leaving...":"Joining..."]}):K&&!t.isJoined?"Game is Full":t.isJoined?"Leave Game":o?"Join Game":"Join Game - Sign Up"})]})]}),e.jsxs(S,{children:[e.jsx(F,{children:e.jsxs(M,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),"Location"]})}),e.jsx(k,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx("div",{children:t.location})}),e.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:t.latitude&&t.longitude||t.location?e.jsx("iframe",{src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyCs_MsE3qt74h6eIR04QJqmf2FYgSys4UQ&q=${t.latitude&&t.longitude?`${t.latitude},${t.longitude}`:encodeURIComponent(t.location)}&zoom=15`,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"rounded-lg",title:"Game location map"}):e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(H,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{children:"Map not available"})]})}),e.jsxs(p,{variant:"outline",className:"w-full",onClick:be,"data-action":"directions",title:"Get directions (L)",children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),"Get Directions"]})]})})]}),(t.latitude&&t.longitude||t.location)&&e.jsxs(S,{children:[e.jsx(F,{children:e.jsx(M,{className:"flex items-center gap-2",children:"‚òÄÔ∏è Weather Forecast"})}),e.jsx(k,{children:e.jsx(yt,{game:t})})]}),e.jsxs(S,{children:[e.jsx(F,{children:e.jsx(M,{children:"About This Game"})}),e.jsx(k,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm leading-relaxed ${m?"":"line-clamp-3"}`,children:t.description}),t.description.length>150&&e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>h(!m),className:"p-0 h-auto",children:m?"Show less":"Show more"}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-2",children:"Requirements"}),e.jsx("ul",{className:"space-y-1",children:["Athletic shoes required","Bring water bottle","No experience necessary"].map((x,f)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-muted-foreground rounded-full mt-2 flex-shrink-0"}),x]},f))})]})]})})]}),e.jsxs(S,{children:[e.jsx(F,{children:e.jsx(M,{children:"Game Host"})}),e.jsx(k,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>l("host1"),className:"flex items-center gap-3 hover:opacity-80 transition-opacity","data-action":"view-profile",children:[e.jsx(V,{children:e.jsx(Z,{children:t.createdBy?.charAt(0)||"U"})}),e.jsxs("div",{children:[e.jsx("div",{children:t.createdBy||"Unknown"}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(se,{className:"w-3 h-3 fill-current text-warning"}),"No rating yet"]})]})]})})})})]}),e.jsxs(S,{children:[e.jsx(F,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs(M,{children:["Players (",i.length,"/",t.maxPlayers,")"]})})}),e.jsx(k,{children:e.jsx("div",{className:"space-y-3",children:i.map((x,f)=>e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(V,{children:e.jsx(Z,{children:x.avatar})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{console.log("üîç Clicking on player:",x),l(x.id)},className:"hover:text-primary transition-colors cursor-pointer",children:x.name}),x.isHost&&e.jsx(T,{variant:"secondary",className:"text-xs px-2 py-0",children:"Host"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(se,{className:"w-3 h-3 fill-current text-warning"}),x.rating]})]})]})}),f<i.length-1&&e.jsx(me,{className:"mt-3"})]},x.id))})})]}),t.isJoined&&e.jsx(he,{className:"border-success text-success-foreground",children:e.jsx(ue,{children:"You're joined! See you on the field!"})})]}),e.jsx(wt,{isOpen:v,onClose:()=>j(!1),gameTitle:t.title,gameId:t.id,onJoinSuccess:ve}),e.jsx(vt,{isOpen:b,onClose:()=>C(!1),game:t}),e.jsx(ne,{open:w,onOpenChange:y,children:e.jsxs(re,{className:"sm:max-w-[425px]",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Edit Game"}),e.jsx(de,{children:"Make changes to your game. Participants will be notified of any updates."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"edit-title",className:"text-sm font-medium",children:"Title"}),e.jsx($,{id:"edit-title",value:P.title,onChange:x=>I(f=>({...f,title:x.target.value})),placeholder:"Game title"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"edit-description",className:"text-sm font-medium",children:"Description"}),e.jsx(X,{id:"edit-description",value:P.description,onChange:x=>I(f=>({...f,description:x.target.value})),placeholder:"Game description",rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"edit-location",className:"text-sm font-medium",children:"Location"}),e.jsx($,{id:"edit-location",value:P.location,onChange:x=>I(f=>({...f,location:x.target.value})),placeholder:"Game location"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"edit-maxPlayers",className:"text-sm font-medium",children:"Max Players"}),e.jsx($,{id:"edit-maxPlayers",type:"number",min:"2",max:"50",value:P.maxPlayers,onChange:x=>I(f=>({...f,maxPlayers:parseInt(x.target.value)||0}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"edit-cost",className:"text-sm font-medium",children:"Cost"}),e.jsx($,{id:"edit-cost",value:P.cost,onChange:x=>I(f=>({...f,cost:x.target.value})),placeholder:"FREE or $10"})]})]})]}),e.jsxs(le,{children:[e.jsx(p,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e.jsx(p,{onClick:Se,disabled:D,children:D?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})}),e.jsx(ne,{open:fe,onOpenChange:R,children:e.jsxs(re,{className:"sm:max-w-[425px]",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:"Cancel Game"}),e.jsx(de,{children:"This action cannot be undone. All participants will be notified of the cancellation."})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"delete-reason",className:"text-sm font-medium",children:"Reason for cancellation (optional)"}),e.jsx(X,{id:"delete-reason",value:B,onChange:x=>je(x.target.value),placeholder:"Let participants know why the game is cancelled...",rows:3})]})}),e.jsxs(le,{children:[e.jsx(p,{variant:"outline",onClick:()=>R(!1),children:"Keep Game"}),e.jsx(p,{variant:"destructive",onClick:ke,disabled:D,children:D?e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Cancel Game"})]})]})})]})}export{qt as GameDetails,qt as default};
//# sourceMappingURL=GameDetails-CQPK7-qi.js.map
