import{d as e,u as t,e as r}from"./data-Bnv2A4Es.js";import{S as a}from"./index-DDX6CgvO.js";import{t as s}from"./utils-sWWcUyIH.js";const i={all:["users"],profile:e=>[...i.all,"profile",e],stats:e=>[...i.all,"stats",e],recentGames:e=>[...i.all,"recentGames",e],achievements:e=>[...i.all,"achievements",e]};function n(t){return e({queryKey:i.profile(t),queryFn:async()=>{if(!t)throw new Error("User ID is required");return await a.getUserProfile(t)},enabled:!!t,staleTime:3e5,gcTime:6e5})}function o(t){return e({queryKey:i.stats(t),queryFn:async()=>{if(!t)throw new Error("User ID is required");try{const e=await a.getUserStats(t);return{totalGamesPlayed:e.games_played||0,totalGamesHosted:e.games_hosted||0,averageRating:e.average_rating||0,totalPlayTime:e.total_play_time_minutes||0,favoritesSports:e.favorite_sport?[e.favorite_sport]:[],completionRate:e.completion_rate||0,totalDistance:e.total_distance||0}}catch(e){return{totalGamesPlayed:0,totalGamesHosted:0,averageRating:0,totalPlayTime:0,favoritesSports:[],completionRate:0,totalDistance:0}}},enabled:!!t,staleTime:12e4,gcTime:3e5})}function l(t,r=5){return e({queryKey:[...i.recentGames(t),r],queryFn:async()=>{if(!t)throw new Error("User ID is required");try{return await a.getUserRecentGames(t,r)}catch(e){return[]}},enabled:!!t,staleTime:6e4,gcTime:3e5})}function u(t){return e({queryKey:i.achievements(t),queryFn:async()=>{if(!t)throw new Error("User ID is required");try{return await a.getUserAchievements(t)}catch(e){return[]}},enabled:!!t,staleTime:3e5,gcTime:6e5})}function c(){const e=t();return r({mutationFn:async({userId:e,profileData:t})=>await a.updateUserProfile(e,t),onSuccess:(t,{userId:r})=>{e.invalidateQueries({queryKey:i.profile(r)}),e.invalidateQueries({queryKey:i.stats(r)}),s.success("Profile updated successfully!",{description:"Your changes have been saved"})},onError:e=>{s.error("Failed to update profile",{description:"Please try again later"})}})}export{l as a,u as b,c,n as d,o as u};
//# sourceMappingURL=useUserProfile-mJkj9LG8.js.map
