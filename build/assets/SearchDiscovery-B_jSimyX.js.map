{"version":3,"file":"SearchDiscovery-B_jSimyX.js","sources":["../../node_modules/lucide-react/dist/esm/icons/crosshair.js","../../node_modules/lucide-react/dist/esm/icons/layers.js","../../node_modules/lucide-react/dist/esm/icons/minus.js","../../node_modules/lucide-react/dist/esm/icons/rotate-ccw.js","../../node_modules/lucide-react/dist/esm/icons/sliders-horizontal.js","../../src/hooks/useLocation.ts","../../src/components/MapView.tsx","../../src/components/SearchDiscovery.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"22\", x2: \"18\", y1: \"12\", y2: \"12\", key: \"l9bcsi\" }],\n  [\"line\", { x1: \"6\", x2: \"2\", y1: \"12\", y2: \"12\", key: \"13hhkx\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"6\", y2: \"2\", key: \"10w3f3\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"22\", y2: \"18\", key: \"15g9kq\" }]\n];\nconst Crosshair = createLucideIcon(\"crosshair\", __iconNode);\n\nexport { __iconNode, Crosshair as default };\n//# sourceMappingURL=crosshair.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z\",\n      key: \"zw3jo\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12\",\n      key: \"1wduqc\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17\",\n      key: \"kqbvx6\"\n    }\n  ]\n];\nconst Layers = createLucideIcon(\"layers\", __iconNode);\n\nexport { __iconNode, Layers as default };\n//# sourceMappingURL=layers.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }]];\nconst Minus = createLucideIcon(\"minus\", __iconNode);\n\nexport { __iconNode, Minus as default };\n//# sourceMappingURL=minus.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\", key: \"1357e3\" }],\n  [\"path\", { d: \"M3 3v5h5\", key: \"1xhq8a\" }]\n];\nconst RotateCcw = createLucideIcon(\"rotate-ccw\", __iconNode);\n\nexport { __iconNode, RotateCcw as default };\n//# sourceMappingURL=rotate-ccw.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"21\", x2: \"14\", y1: \"4\", y2: \"4\", key: \"obuewd\" }],\n  [\"line\", { x1: \"10\", x2: \"3\", y1: \"4\", y2: \"4\", key: \"1q6298\" }],\n  [\"line\", { x1: \"21\", x2: \"12\", y1: \"12\", y2: \"12\", key: \"1iu8h1\" }],\n  [\"line\", { x1: \"8\", x2: \"3\", y1: \"12\", y2: \"12\", key: \"ntss68\" }],\n  [\"line\", { x1: \"21\", x2: \"16\", y1: \"20\", y2: \"20\", key: \"14d8ph\" }],\n  [\"line\", { x1: \"12\", x2: \"3\", y1: \"20\", y2: \"20\", key: \"m0wm8r\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"2\", y2: \"6\", key: \"14e1ph\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"10\", y2: \"14\", key: \"1i6ji0\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"18\", y2: \"22\", key: \"1lctlv\" }]\n];\nconst SlidersHorizontal = createLucideIcon(\"sliders-horizontal\", __iconNode);\n\nexport { __iconNode, SlidersHorizontal as default };\n//# sourceMappingURL=sliders-horizontal.js.map\n","import { useState, useEffect, useCallback, useRef } from 'react';\nimport { toast } from 'sonner';\n\nexport interface LocationCoordinates {\n  latitude: number;\n  longitude: number;\n  accuracy?: number;\n  altitude?: number;\n  heading?: number;\n  speed?: number;\n}\n\nexport interface LocationState {\n  currentLocation: LocationCoordinates | null;\n  isLoading: boolean;\n  error: string | null;\n  permission: 'granted' | 'denied' | 'prompt' | 'unknown';\n  lastUpdated: Date | null;\n}\n\nexport interface MapBounds {\n  north: number;\n  south: number;\n  east: number;\n  west: number;\n}\n\ninterface UseLocationOptions {\n  enableHighAccuracy?: boolean;\n  timeout?: number;\n  maximumAge?: number;\n  watchPosition?: boolean;\n  autoRequest?: boolean;\n}\n\n// Utility functions for location calculations\nexport function calculateDistance(\n  lat1: number,\n  lon1: number,\n  lat2: number,\n  lon2: number\n): number {\n  const R = 6371; // Earth's radius in kilometers\n  const dLat = toRadians(lat2 - lat1);\n  const dLon = toRadians(lon2 - lon1);\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(toRadians(lat1)) * Math.cos(toRadians(lat2)) *\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c; // Distance in kilometers\n}\n\nexport function toRadians(degrees: number): number {\n  return degrees * (Math.PI / 180);\n}\n\nexport function formatDistance(distance: number, unit: 'km' | 'mi' = 'km'): string {\n  if (unit === 'mi') {\n    distance = distance * 0.621371; // Convert km to miles\n  }\n  \n  if (distance < 1) {\n    return unit === 'km' \n      ? `${Math.round(distance * 1000)}m`\n      : `${Math.round(distance * 5280)}ft`;\n  }\n  \n  return `${distance.toFixed(1)}${unit}`;\n}\n\nexport function isWithinBounds(\n  location: LocationCoordinates,\n  bounds: MapBounds\n): boolean {\n  return (\n    location.latitude >= bounds.south &&\n    location.latitude <= bounds.north &&\n    location.longitude >= bounds.west &&\n    location.longitude <= bounds.east\n  );\n}\n\nexport function getBoundsFromCenter(\n  center: LocationCoordinates,\n  radiusKm: number\n): MapBounds {\n  const latOffset = radiusKm / 111; // Approximate: 1 degree lat = 111 km\n  const lonOffset = radiusKm / (111 * Math.cos(toRadians(center.latitude)));\n  \n  return {\n    north: center.latitude + latOffset,\n    south: center.latitude - latOffset,\n    east: center.longitude + lonOffset,\n    west: center.longitude - lonOffset\n  };\n}\n\nexport function useLocation(options: UseLocationOptions = {}) {\n  const {\n    enableHighAccuracy = true,\n    timeout = 10000,\n    maximumAge = 60000,\n    watchPosition = false,\n    autoRequest = true\n  } = options;\n\n  const [state, setState] = useState<LocationState>({\n    currentLocation: null,\n    isLoading: false,\n    error: null,\n    permission: 'unknown',\n    lastUpdated: null\n  });\n\n  const watchIdRef = useRef<number | null>(null);\n  const requestInProgressRef = useRef(false);\n\n  // Check if geolocation is supported\n  const isSupported = 'geolocation' in navigator;\n\n  // Check current permission status\n  const checkPermission = useCallback(async () => {\n    if (!isSupported) {\n      setState(prev => ({ ...prev, permission: 'denied', error: 'Geolocation not supported' }));\n      return 'denied';\n    }\n\n    try {\n      if ('permissions' in navigator) {\n        const permission = await navigator.permissions.query({ name: 'geolocation' });\n        setState(prev => ({ ...prev, permission: permission.state as any }));\n        return permission.state;\n      }\n    } catch (error) {\n      console.warn('Permission API not supported');\n    }\n\n    return 'unknown';\n  }, [isSupported]);\n\n  // Request location permission and get current position\n  const requestLocation = useCallback(async (): Promise<LocationCoordinates | null> => {\n    if (!isSupported) {\n      toast.error('Location services are not supported by your browser');\n      return null;\n    }\n\n    if (requestInProgressRef.current) {\n      return null;\n    }\n\n    requestInProgressRef.current = true;\n    setState(prev => ({ ...prev, isLoading: true, error: null }));\n\n    return new Promise((resolve) => {\n      const geoOptions: PositionOptions = {\n        enableHighAccuracy,\n        timeout,\n        maximumAge\n      };\n\n      const successCallback = (position: GeolocationPosition) => {\n        const location: LocationCoordinates = {\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n          accuracy: position.coords.accuracy,\n          altitude: position.coords.altitude || undefined,\n          heading: position.coords.heading || undefined,\n          speed: position.coords.speed || undefined\n        };\n\n        setState(prev => ({\n          ...prev,\n          currentLocation: location,\n          isLoading: false,\n          error: null,\n          permission: 'granted',\n          lastUpdated: new Date()\n        }));\n\n        requestInProgressRef.current = false;\n        resolve(location);\n      };\n\n      const errorCallback = (error: GeolocationPositionError) => {\n        let errorMessage = 'Failed to get location';\n        let permission: LocationState['permission'] = 'unknown';\n\n        switch (error.code) {\n          case error.PERMISSION_DENIED:\n            errorMessage = 'Location access denied by user';\n            permission = 'denied';\n            toast.error('Please enable location access to find nearby games');\n            break;\n          case error.POSITION_UNAVAILABLE:\n            errorMessage = 'Location information unavailable';\n            break;\n          case error.TIMEOUT:\n            errorMessage = 'Location request timed out';\n            break;\n        }\n\n        setState(prev => ({\n          ...prev,\n          isLoading: false,\n          error: errorMessage,\n          permission\n        }));\n\n        requestInProgressRef.current = false;\n        resolve(null);\n      };\n\n      navigator.geolocation.getCurrentPosition(\n        successCallback,\n        errorCallback,\n        geoOptions\n      );\n    });\n  }, [isSupported, enableHighAccuracy, timeout, maximumAge]);\n\n  // Start watching position\n  const startWatching = useCallback(() => {\n    if (!isSupported || watchIdRef.current !== null) {\n      return;\n    }\n\n    const geoOptions: PositionOptions = {\n      enableHighAccuracy,\n      timeout,\n      maximumAge\n    };\n\n    const successCallback = (position: GeolocationPosition) => {\n      const location: LocationCoordinates = {\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy,\n        altitude: position.coords.altitude || undefined,\n        heading: position.coords.heading || undefined,\n        speed: position.coords.speed || undefined\n      };\n\n      setState(prev => ({\n        ...prev,\n        currentLocation: location,\n        lastUpdated: new Date()\n      }));\n    };\n\n    const errorCallback = (error: GeolocationPositionError) => {\n      console.error('Location watch error:', error);\n    };\n\n    watchIdRef.current = navigator.geolocation.watchPosition(\n      successCallback,\n      errorCallback,\n      geoOptions\n    );\n  }, [isSupported, enableHighAccuracy, timeout, maximumAge]);\n\n  // Stop watching position\n  const stopWatching = useCallback(() => {\n    if (watchIdRef.current !== null) {\n      navigator.geolocation.clearWatch(watchIdRef.current);\n      watchIdRef.current = null;\n    }\n  }, []);\n\n  // Clear location data\n  const clearLocation = useCallback(() => {\n    setState(prev => ({\n      ...prev,\n      currentLocation: null,\n      error: null,\n      lastUpdated: null\n    }));\n  }, []);\n\n  // Get distance to a location\n  const getDistanceTo = useCallback((\n    target: LocationCoordinates,\n    unit: 'km' | 'mi' = 'km'\n  ): number | null => {\n    if (!state.currentLocation) return null;\n    \n    const distance = calculateDistance(\n      state.currentLocation.latitude,\n      state.currentLocation.longitude,\n      target.latitude,\n      target.longitude\n    );\n    \n    return unit === 'mi' ? distance * 0.621371 : distance;\n  }, [state.currentLocation]);\n\n  // Get formatted distance to a location\n  const getFormattedDistanceTo = useCallback((\n    target: LocationCoordinates,\n    unit: 'km' | 'mi' = 'km'\n  ): string | null => {\n    const distance = getDistanceTo(target, unit);\n    return distance ? formatDistance(distance, unit) : null;\n  }, [getDistanceTo]);\n\n  // Check if a location is nearby\n  const isNearby = useCallback((\n    target: LocationCoordinates,\n    radiusKm: number = 5\n  ): boolean => {\n    const distance = getDistanceTo(target, 'km');\n    return distance !== null && distance <= radiusKm;\n  }, [getDistanceTo]);\n\n  // Initialize\n  useEffect(() => {\n    checkPermission();\n    \n    if (autoRequest) {\n      requestLocation();\n    }\n    \n    if (watchPosition) {\n      startWatching();\n    }\n\n    return () => {\n      stopWatching();\n    };\n  }, [checkPermission, requestLocation, startWatching, stopWatching, autoRequest, watchPosition]);\n\n  return {\n    // State\n    ...state,\n    isSupported,\n    \n    // Actions\n    requestLocation,\n    clearLocation,\n    startWatching,\n    stopWatching,\n    \n    // Utilities\n    getDistanceTo,\n    getFormattedDistanceTo,\n    isNearby,\n    calculateDistance: (lat1: number, lon1: number, lat2: number, lon2: number) => \n      calculateDistance(lat1, lon1, lat2, lon2),\n    formatDistance,\n    getBoundsFromCenter: (radiusKm: number) => \n      state.currentLocation ? getBoundsFromCenter(state.currentLocation, radiusKm) : null\n  };\n}\n\n// Hook for managing map state\nexport function useMapState() {\n  const [mapCenter, setMapCenter] = useState<LocationCoordinates | null>(null);\n  const [mapZoom, setMapZoom] = useState(13);\n  const [selectedLocation, setSelectedLocation] = useState<LocationCoordinates | null>(null);\n  const [isMapLoaded, setIsMapLoaded] = useState(false);\n\n  const centerOnLocation = useCallback((location: LocationCoordinates, zoom?: number) => {\n    setMapCenter(location);\n    if (zoom !== undefined) {\n      setMapZoom(zoom);\n    }\n  }, []);\n\n  const selectLocation = useCallback((location: LocationCoordinates) => {\n    setSelectedLocation(location);\n  }, []);\n\n  const clearSelection = useCallback(() => {\n    setSelectedLocation(null);\n  }, []);\n\n  return {\n    mapCenter,\n    mapZoom,\n    selectedLocation,\n    isMapLoaded,\n    setMapCenter,\n    setMapZoom,\n    setSelectedLocation,\n    setIsMapLoaded,\n    centerOnLocation,\n    selectLocation,\n    clearSelection\n  };\n}","import React, { useState, useEffect, useRef, useCallback } from 'react';\n\nimport { Button } from './ui/button';\nimport { Card, CardContent } from './ui/card';\nimport { Badge } from './ui/badge';\nimport { LoadingSpinner } from './ui/loading-spinner';\nimport { EmptyState } from './ui/empty-state';\nimport { \n  MapPin, \n  Navigation, \n  Crosshair, \n  Layers, \n  Plus, \n  Minus,\n  RotateCcw,\n  Filter,\n  Users,\n  Clock,\n  DollarSign\n} from 'lucide-react';\nimport { useLocation, LocationCoordinates, calculateDistance, formatDistance } from '../hooks/useLocation';\nimport { useGames } from '../store/appStore';\nimport { toast } from 'sonner';\n\nexport interface MapGame {\n  id: string;\n  title: string;\n  sport: string;\n  location: LocationCoordinates;\n  locationName: string;\n  date: string;\n  time: string;\n  players: number;\n  maxPlayers: number;\n  cost: string;\n  difficulty: string;\n}\n\ninterface MapViewProps {\n  games?: MapGame[];\n  selectedGameId?: string;\n  onGameSelect?: (gameId: string) => void;\n  onLocationSelect?: (location: LocationCoordinates) => void;\n  showCurrentLocation?: boolean;\n  showGameMarkers?: boolean;\n  allowLocationSelection?: boolean;\n  center?: LocationCoordinates;\n  zoom?: number;\n  className?: string;\n}\n\n// Simple map implementation (in a real app, you'd use Google Maps, Mapbox, etc.)\nexport function MapView({\n  games = [],\n  selectedGameId,\n  onGameSelect,\n  onLocationSelect,\n  showCurrentLocation = true,\n  showGameMarkers = true,\n  allowLocationSelection = false,\n  center,\n  zoom = 13,\n  className = ''\n}: MapViewProps) {\n  const allGames = useGames();\n  const {\n    currentLocation,\n    isLoading: locationLoading,\n    error: locationError,\n    requestLocation,\n    getFormattedDistanceTo\n  } = useLocation();\n\n  const [mapCenter, setMapCenter] = useState<LocationCoordinates>(\n    center || currentLocation || { latitude: 29.6516, longitude: -82.3248 } // Gainesville, FL\n  );\n  const [mapZoom, setMapZoom] = useState(zoom);\n  const [isMapLoaded, setIsMapLoaded] = useState(false);\n  const [selectedLocation, setSelectedLocation] = useState<LocationCoordinates | null>(null);\n  const [hoveredGameId, setHoveredGameId] = useState<string | null>(null);\n  const [showSatellite, setShowSatellite] = useState(false);\n\n  const mapRef = useRef<HTMLDivElement>(null);\n\n  // Convert games to map games - prioritize passed games, fallback to store games\n  const sourceGames = games.length > 0 ? games : allGames;\n  const mapGames: MapGame[] = sourceGames.map(game => ({\n    id: game.id,\n    title: game.title,\n    sport: game.sport,\n    location: {\n      latitude: game.latitude || (mapCenter.latitude + (Math.random() - 0.5) * 0.01),\n      longitude: game.longitude || (mapCenter.longitude + (Math.random() - 0.5) * 0.01)\n    },\n    locationName: game.location,\n    date: game.date,\n    time: game.time,\n    players: game.currentPlayers || game.players,\n    maxPlayers: game.maxPlayers,\n    cost: game.cost,\n    difficulty: game.difficulty\n  }));\n\n  // Update map center when current location changes\n  useEffect(() => {\n    if (currentLocation && !center) {\n      setMapCenter(currentLocation);\n    }\n  }, [currentLocation, center]);\n\n  // Simulate map loading\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setIsMapLoaded(true);\n    }, 1000);\n\n    return () => clearTimeout(timer);\n  }, []);\n\n  const centerOnCurrentLocation = useCallback(() => {\n    if (currentLocation) {\n      setMapCenter(currentLocation);\n      setMapZoom(15);\n      toast.success('Centered on your location');\n    } else {\n      requestLocation();\n    }\n  }, [currentLocation, requestLocation]);\n\n  const centerOnGame = useCallback((game: MapGame) => {\n    setMapCenter(game.location);\n    setMapZoom(16);\n    if (onGameSelect) {\n      onGameSelect(game.id);\n    }\n  }, [onGameSelect]);\n\n  const handleMapClick = useCallback((event: React.MouseEvent<HTMLDivElement>) => {\n    if (!allowLocationSelection) return;\n\n    const rect = event.currentTarget.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n\n    // Convert pixel coordinates to lat/lng (simplified)\n    const scaleFactor = Math.pow(2, mapZoom - 10) * 1000;\n    const lat = mapCenter.latitude + (y - rect.height / 2) * -0.001 / scaleFactor;\n    const lng = mapCenter.longitude + (x - rect.width / 2) * 0.001 / scaleFactor;\n\n    const location = { latitude: lat, longitude: lng };\n    setSelectedLocation(location);\n\n    if (onLocationSelect) {\n      onLocationSelect(location);\n    }\n  }, [allowLocationSelection, mapCenter, mapZoom, onLocationSelect]);\n\n  const handleMapTouch = useCallback((event: React.TouchEvent<HTMLDivElement>) => {\n    if (!allowLocationSelection || event.touches.length !== 1) return;\n\n    const rect = event.currentTarget.getBoundingClientRect();\n    const touch = event.touches[0];\n    const x = touch.clientX - rect.left;\n    const y = touch.clientY - rect.top;\n\n    // Convert pixel coordinates to lat/lng (simplified)\n    const scaleFactor = Math.pow(2, mapZoom - 10) * 1000;\n    const lat = mapCenter.latitude + (y - rect.height / 2) * -0.001 / scaleFactor;\n    const lng = mapCenter.longitude + (x - rect.width / 2) * 0.001 / scaleFactor;\n\n    const location = { latitude: lat, longitude: lng };\n    setSelectedLocation(location);\n\n    if (onLocationSelect) {\n      onLocationSelect(location);\n    }\n  }, [allowLocationSelection, mapCenter, mapZoom, onLocationSelect]);\n\n  const zoomIn = useCallback(() => {\n    setMapZoom(prev => Math.min(prev + 1, 18));\n  }, []);\n\n  const zoomOut = useCallback(() => {\n    setMapZoom(prev => Math.max(prev - 1, 1));\n  }, []);\n\n  const resetView = useCallback(() => {\n    if (currentLocation) {\n      setMapCenter(currentLocation);\n    }\n    setMapZoom(13);\n    setSelectedLocation(null);\n  }, [currentLocation]);\n\n  const getSportColor = (sport: string): string => {\n    const colors = {\n      'Basketball': 'bg-sport-basketball',\n      'Soccer': 'bg-sport-soccer', \n      'Tennis': 'bg-sport-tennis',\n      'Volleyball': 'bg-sport-volleyball',\n      'Football': 'bg-sport-football',\n      'Baseball': 'bg-sport-baseball'\n    };\n    return colors[sport as keyof typeof colors] || 'bg-primary';\n  };\n\n  if (locationError) {\n    return (\n      <div className={`relative ${className}`}>\n        <EmptyState\n          icon={<MapPin className=\"w-16 h-16\" />}\n          title=\"Location Access Required\"\n          description=\"Please enable location access to view the map and find nearby games.\"\n          action={{\n            label: \"Enable Location\",\n            onClick: requestLocation\n          }}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className={`relative overflow-hidden rounded-lg ${className}`}>\n      {/* Map Container */}\n      <div\n        ref={mapRef}\n        className={`relative w-full h-full min-h-[300px] md:min-h-[400px] cursor-crosshair transition-all duration-300 ${\n          showSatellite ? 'bg-gray-800' : 'bg-green-100'\n        }`}\n        onClick={handleMapClick}\n        onTouchEnd={handleMapTouch}\n        role=\"application\"\n        aria-label=\"Interactive map showing games and locations\"\n      >\n        {/* Loading State */}\n        {(!isMapLoaded || locationLoading) && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-muted/50 backdrop-blur-sm z-10\">\n            <LoadingSpinner size=\"lg\" text=\"Loading map...\" />\n          </div>\n        )}\n\n        {/* Interactive Map Implementation */}\n        <div className=\"absolute inset-0\">\n          {/* OpenStreetMap Tile Layer */}\n          <div \n            className=\"w-full h-full bg-cover bg-center\"\n            style={{\n              backgroundImage: showSatellite \n                ? `url('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/${mapZoom}/${Math.floor((90 - mapCenter.latitude) * Math.pow(2, mapZoom) / 360)}/${Math.floor((mapCenter.longitude + 180) * Math.pow(2, mapZoom) / 360)}')`\n                : `url('https://tile.openstreetmap.org/${mapZoom}/${Math.floor((mapCenter.longitude + 180) * Math.pow(2, mapZoom) / 360)}/${Math.floor((90 - mapCenter.latitude) * Math.pow(2, mapZoom) / 360)}.png')`\n            }}\n          />\n          \n          {/* Map Grid Overlay */}\n          <div \n            className=\"absolute inset-0 opacity-20\"\n            style={{\n              backgroundImage: 'linear-gradient(rgba(0,0,0,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0,0,0,0.1) 1px, transparent 1px)',\n              backgroundSize: '20px 20px'\n            }}\n          />\n          \n          {/* Street Pattern Overlay */}\n          <div \n            className=\"absolute inset-0 opacity-10\"\n            style={{\n              backgroundImage: showSatellite \n                ? 'none'\n                : `url(\"data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000' fill-opacity='0.1'%3E%3Cpath d='M20 20h20v20H20z'/%3E%3Cpath d='M0 0h20v20H0z'/%3E%3C/g%3E%3C/svg%3E\")`\n            }}\n          />\n        </div>\n\n        {/* Current Location Marker */}\n        {showCurrentLocation && currentLocation && (\n          <div\n            className=\"absolute z-20\"\n            style={{\n              left: '50%',\n              top: '50%',\n              transform: 'translate(-50%, -50%)'\n            }}\n          >\n            <div className=\"relative\">\n              <div className=\"w-4 h-4 bg-blue-500 rounded-full border-2 border-white shadow-lg\" />\n              <div className=\"absolute inset-0 w-4 h-4 bg-blue-500 rounded-full animate-ping opacity-30\" />\n              <div className=\"absolute -top-1 -left-1 w-6 h-6 bg-blue-500/20 rounded-full animate-pulse\" />\n            </div>\n          </div>\n        )}\n\n        {/* Game Markers */}\n        {showGameMarkers && mapGames.map((game, index) => {\n          const isSelected = selectedGameId === game.id;\n          const isHovered = hoveredGameId === game.id;\n          const distance = currentLocation ? calculateDistance(\n            currentLocation.latitude,\n            currentLocation.longitude,\n            game.location.latitude,\n            game.location.longitude\n          ) : null;\n\n          // Calculate marker position based on actual coordinates\n          const latDiff = game.location.latitude - mapCenter.latitude;\n          const lngDiff = game.location.longitude - mapCenter.longitude;\n          \n          // Convert lat/lng differences to pixel positions using Web Mercator projection\n          const scaleFactor = Math.pow(2, mapZoom) / 360;\n          const pixelX = 50 + (lngDiff * scaleFactor * 100);\n          const pixelY = 50 - (latDiff * scaleFactor * 100);\n          \n          // Clamp to map bounds with padding\n          const clampedX = Math.max(5, Math.min(95, pixelX));\n          const clampedY = Math.max(5, Math.min(95, pixelY));\n          \n          // Only show markers that are within reasonable bounds\n          const isVisible = pixelX >= -10 && pixelX <= 110 && pixelY >= -10 && pixelY <= 110;\n\n          return (\n            <div\n              key={game.id}\n              className=\"absolute z-10 cursor-pointer\"\n              style={{\n                left: `${clampedX}%`,\n                top: `${clampedY}%`\n              }}\n              onClick={(e) => {\n                e.stopPropagation();\n                centerOnGame(game);\n              }}\n              onMouseEnter={() => setHoveredGameId(game.id)}\n              onMouseLeave={() => setHoveredGameId(null)}\n            >\n              <div className={`relative ${isSelected || isHovered ? 'z-30' : 'z-10'}`}>\n                {/* Marker */}\n                <div className={`\n                  w-8 h-8 rounded-full border-2 border-white shadow-lg flex items-center justify-center\n                  ${getSportColor(game.sport)} ${isSelected ? 'ring-2 ring-primary' : ''}\n                  transition-all duration-200\n                `}>\n                  <Users className=\"w-4 h-4 text-white\" />\n                </div>\n\n                {/* Game Info Popup */}\n                {(isSelected || isHovered) && (\n                  <div\n                    className={`absolute z-40 ${\n                      clampedY > 70 ? 'bottom-full mb-2' : 'top-full mt-2'\n                    } left-1/2 transform -translate-x-1/2`}\n                  >\n                    <Card className=\"w-64 max-w-[calc(100vw-2rem)] shadow-lg border-2 bg-background/95 backdrop-blur-sm\">\n                      <CardContent className=\"p-3\">\n                        <div className=\"space-y-2\">\n                          <div className=\"flex items-center justify-between\">\n                            <h4 className=\"font-medium truncate\">{game.title}</h4>\n                            <Badge variant=\"secondary\" className=\"text-xs flex-shrink-0\">\n                              {game.sport}\n                            </Badge>\n                          </div>\n                          \n                          <div className=\"flex items-center gap-2 text-sm text-muted-foreground flex-wrap\">\n                            <div className=\"flex items-center gap-1\">\n                              <Clock className=\"w-3 h-3\" />\n                              <span className=\"truncate\">{game.time}</span>\n                            </div>\n                            <div className=\"flex items-center gap-1\">\n                              <Users className=\"w-3 h-3\" />\n                              <span>{game.players}/{game.maxPlayers}</span>\n                            </div>\n                            {game.cost !== 'Free' && (\n                              <div className=\"flex items-center gap-1\">\n                                <DollarSign className=\"w-3 h-3\" />\n                                <span className=\"truncate\">{game.cost}</span>\n                              </div>\n                            )}\n                          </div>\n\n                          <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n                            <span className=\"truncate mr-2\">\n                              {game.locationName}\n                            </span>\n                            {distance && (\n                              <span className=\"flex-shrink-0\">\n                                {formatDistance(distance)} away\n                              </span>\n                            )}\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  </div>\n                )}\n              </div>\n            </div>\n          );\n        })}\n\n        {/* Selected Location Marker */}\n        {selectedLocation && allowLocationSelection && (\n          <div\n            className=\"absolute z-20\"\n            style={{\n              left: '60%',\n              top: '45%',\n              transform: 'translate(-50%, -50%)'\n            }}\n          >\n            <div className=\"flex flex-col items-center\">\n              <MapPin className=\"w-8 h-8 text-destructive drop-shadow-lg\" />\n              <div className=\"mt-1 px-2 py-1 bg-white rounded shadow text-xs\">\n                Selected Location\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Map Controls */}\n      <div className=\"absolute top-2 right-2 md:top-4 md:right-4 flex flex-col gap-1 md:gap-2 z-30\">\n        {/* Layer Toggle */}\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10\"\n          onClick={() => setShowSatellite(!showSatellite)}\n          aria-label={showSatellite ? \"Switch to map view\" : \"Switch to satellite view\"}\n        >\n          <Layers className=\"w-3 h-3 md:w-4 md:h-4\" />\n        </Button>\n\n        {/* Zoom Controls */}\n        <div className=\"flex flex-col gap-1\">\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10\"\n            onClick={zoomIn}\n            aria-label=\"Zoom in\"\n          >\n            <Plus className=\"w-3 h-3 md:w-4 md:h-4\" />\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            className=\"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10\"\n            onClick={zoomOut}\n            aria-label=\"Zoom out\"\n          >\n            <Minus className=\"w-3 h-3 md:w-4 md:h-4\" />\n          </Button>\n        </div>\n\n        {/* Current Location */}\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10\"\n          onClick={centerOnCurrentLocation}\n          disabled={locationLoading}\n          aria-label=\"Center on current location\"\n        >\n          {locationLoading ? (\n            <LoadingSpinner size=\"sm\" />\n          ) : (\n            <Crosshair className=\"w-3 h-3 md:w-4 md:h-4\" />\n          )}\n        </Button>\n\n        {/* Reset View */}\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"bg-background/95 backdrop-blur-sm h-8 w-8 md:h-10 md:w-10\"\n          onClick={resetView}\n          aria-label=\"Reset map view\"\n        >\n          <RotateCcw className=\"w-3 h-3 md:w-4 md:h-4\" />\n        </Button>\n      </div>\n\n      {/* Map Legend */}\n      <div className=\"absolute bottom-2 left-2 md:bottom-4 md:left-4 z-30\">\n        <Card className=\"bg-background/95 backdrop-blur-sm\">\n          <CardContent className=\"p-2 md:p-3\">\n            <div className=\"text-xs space-y-1\">\n              <div className=\"font-medium mb-1 md:mb-2 text-xs md:text-sm\">Legend</div>\n              <div className=\"flex items-center gap-1 md:gap-2\">\n                <div className=\"w-2 h-2 md:w-3 md:h-3 bg-blue-500 rounded-full\" />\n                <span className=\"text-xs\">You</span>\n              </div>\n              <div className=\"flex items-center gap-1 md:gap-2\">\n                <div className=\"w-2 h-2 md:w-3 md:h-3 bg-primary rounded-full\" />\n                <span className=\"text-xs\">Games</span>\n              </div>\n              {selectedLocation && (\n                <div className=\"flex items-center gap-1 md:gap-2\">\n                  <MapPin className=\"w-2 h-2 md:w-3 md:h-3 text-destructive\" />\n                  <span className=\"text-xs\">Selected</span>\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Game Count Badge */}\n      {showGameMarkers && mapGames.length > 0 && (\n        <div className=\"absolute top-2 left-2 md:top-4 md:left-4 z-30\">\n          <Badge variant=\"secondary\" className=\"bg-background/95 backdrop-blur-sm text-xs\">\n            {mapGames.length} game{mapGames.length !== 1 ? 's' : ''}\n          </Badge>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default MapView;","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { useLocation } from '../hooks/useLocation';\nimport { Button } from './ui/button';\nimport { Input } from './ui/input';\nimport { Badge } from './ui/badge';\nimport { ArrowLeft, Search, SlidersHorizontal, MapPin, Clock, Users } from 'lucide-react';\nimport { MapView } from './MapView';\nimport { useAppStore } from '../store/appStore';\nimport { calculateDistance, formatDistance } from '../hooks/useLocation';\n\n\n\nconst sportFilters = [\n  { name: 'All Sports', value: 'all' },\n  { name: 'Basketball', value: 'basketball' },\n  { name: 'Soccer', value: 'soccer' },\n  { name: 'Tennis', value: 'tennis' },\n  { name: 'Pickleball', value: 'pickleball' },\n  { name: 'Volleyball', value: 'volleyball' },\n  { name: 'Flag Football', value: 'flag football' },\n  { name: 'Baseball', value: 'baseball' },\n  { name: 'Golf', value: 'golf' },\n  { name: 'Hockey', value: 'hockey' },\n  { name: 'Rugby', value: 'rugby' },\n];\n\n// Simple GameCard component\n// Simple GameCard component\nfunction SimpleGameCard({ game, onSelect }: { game: any; onSelect: () => void }) {\n  const { joinGame, leaveGame } = useAppStore();\n\n  const handleJoinClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (game.isJoined) {\n      leaveGame(game.id);\n    } else {\n      joinGame(game.id);\n    }\n  };\n\n  const handleCardClick = () => {\n    onSelect();\n  };\n\n  return (\n    <div \n      className=\"bg-card rounded-lg p-4 border border-border cursor-pointer hover:shadow-md transition-shadow\"\n      onClick={handleCardClick}\n    >\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex-1 pr-4\">\n          <h3 className=\"font-semibold text-lg\">{game.title}</h3>\n          <p className=\"text-sm text-muted-foreground\">{game.sport}</p>\n        </div>\n        <div className=\"text-right flex-shrink-0\">\n          <div className=\"text-sm font-medium\">{game.cost}</div>\n          <div className=\"text-xs text-muted-foreground\">\n            {game.currentPlayers}/{game.maxPlayers} players\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"space-y-2 text-sm\">\n        <div className=\"flex items-center gap-2\">\n          <MapPin className=\"w-4 h-4 text-muted-foreground\" />\n          <span>{game.location}</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <Users className=\"w-4 h-4 text-muted-foreground\" />\n          <span>{game.currentPlayers}/{game.maxPlayers} players</span>\n        </div>\n        {game.distance && (\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-muted-foreground\">üìè</span>\n            <span>{game.distance}</span>\n          </div>\n        )}\n        <div className=\"flex items-center gap-2\">\n          <Clock className=\"w-4 h-4 text-muted-foreground\" />\n          <span>{game.date} at {game.time}</span>\n        </div>\n      </div>\n      \n      <p className=\"text-sm text-muted-foreground mt-3\">{game.description}</p>\n      \n      <div className=\"flex items-center justify-between mt-3\">\n        {game.isJoined ? (\n          <span className=\"inline-block bg-success/20 text-success dark:bg-success/30 dark:text-success text-xs px-2 py-1 rounded\">\n            Joined ‚úì\n          </span>\n        ) : (\n          <div></div>\n        )}\n        \n        <button\n          onClick={handleJoinClick}\n          className={`px-3 py-1 rounded text-sm font-medium transition-colors ${\n            game.isJoined \n              ? 'bg-destructive/20 text-destructive dark:bg-destructive/30 dark:text-destructive hover:bg-destructive/30 dark:hover:bg-destructive/40' \n              : 'bg-primary text-primary-foreground hover:bg-primary/90'\n          }`}\n        >\n          {game.isJoined ? 'Leave' : 'Join'}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport function SearchDiscovery() {\n  const navigate = useNavigate();\n  const { currentLocation, isLoading: locationLoading, requestLocation } = useLocation();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedSport, setSelectedSport] = useState('all');\n  const [showFilters, setShowFilters] = useState(false);\n  const [selectedView, setSelectedView] = useState<'list' | 'map'>('list');\n  const [games, setGames] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  // Load games from Supabase\n  useEffect(() => {\n    const loadGames = async () => {\n      setLoading(true);\n      try {\n        const gamesData = await SupabaseService.getGames();\n        setGames(gamesData);\n      } catch (error) {\n        console.error('Error loading games:', error);\n        setGames([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadGames();\n  }, []);\n\n  const handleGameSelect = (gameId: string) => {\n    navigate(`/game/${gameId}`);\n  };\n\n  const handleBack = () => {\n    navigate(-1);\n  };\n\n  // Get sport color helper\n  const getSportColor = (sport: string) => {\n    const colors = {\n      'Basketball': 'bg-orange-500',\n      'Soccer': 'bg-green-500',\n      'Tennis': 'bg-yellow-500',\n      'Pickleball': 'bg-purple-500',\n      'Volleyball': 'bg-blue-500',\n      'Flag Football': 'bg-red-500',\n      'Baseball': 'bg-amber-600',\n      'Golf': 'bg-emerald-600',\n      'Hockey': 'bg-slate-600',\n      'Rugby': 'bg-indigo-600'\n    };\n    return colors[sport as keyof typeof colors] || 'bg-gray-500';\n  };\n\n  // Calculate distances and filter games\n  const filteredResults = games\n    .map(game => {\n      // Calculate distance if we have location data\n      let distance = 'Unknown distance';\n      if (currentLocation && game.latitude && game.longitude) {\n        const distanceKm = calculateDistance(\n          currentLocation.latitude,\n          currentLocation.longitude,\n          game.latitude,\n          game.longitude\n        );\n        distance = formatDistance(distanceKm);\n      }\n      \n      return {\n        ...game,\n        distance,\n        sportColor: getSportColor(game.sport),\n        imageUrl: game.imageUrl || '',\n        currentPlayers: game.currentPlayers || game.participants || 0,\n        maxPlayers: game.maxPlayers || game.maxParticipants || 0\n      };\n    })\n    .filter(game => {\n      const matchesSearch = game.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                           game.sport.toLowerCase().includes(searchQuery.toLowerCase()) ||\n                           game.location.toLowerCase().includes(searchQuery.toLowerCase());\n      const matchesSport = selectedSport === 'all' || game.sport.toLowerCase() === selectedSport.toLowerCase();\n      return matchesSearch && matchesSport;\n    });\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <div className=\"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10\">\n        <div className=\"flex items-center gap-4 px-4 py-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={handleBack}>\n            <ArrowLeft className=\"w-5 h-5\" />\n          </Button>\n          <div className=\"flex-1 relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n            <Input\n              id=\"search-games\"\n              name=\"search-games\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search games, sports, locations...\"\n              className=\"pl-10\"\n            />\n          </div>\n          <Button \n            variant=\"outline\" \n            size=\"icon\"\n            onClick={() => setShowFilters(!showFilters)}\n          >\n            <SlidersHorizontal className=\"w-4 h-4\" />\n          </Button>\n        </div>\n\n        {/* Filter Bar */}\n        {showFilters && (\n          <div className=\"px-4 pb-4 space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Sort by</label>\n                <select className=\"w-full p-2 border rounded-md\">\n                  <option value=\"distance\">Distance</option>\n                  <option value=\"time\">Time</option>\n                  <option value=\"players\">Players Needed</option>\n                  <option value=\"cost\">Cost</option>\n                </select>\n              </div>\n              <div>\n                <label className=\"text-sm font-medium mb-2 block\">Date</label>\n                <select className=\"w-full p-2 border rounded-md\">\n                  <option value=\"\">Any time</option>\n                  <option value=\"today\">Today</option>\n                  <option value=\"tomorrow\">Tomorrow</option>\n                  <option value=\"week\">This Week</option>\n                  <option value=\"month\">This Month</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Sport Filter Chips */}\n        <div className=\"px-4 pb-4\">\n          <div className=\"flex gap-2 overflow-x-auto pb-2\">\n            {sportFilters.map((sport) => (\n              <Badge\n                key={sport.value}\n                variant={selectedSport === sport.value ? \"default\" : \"outline\"}\n                className=\"cursor-pointer whitespace-nowrap\"\n                onClick={() => setSelectedSport(sport.value)}\n              >\n                {sport.name}\n              </Badge>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"px-4 py-6\">\n        {/* View Toggle */}\n        <div className=\"flex gap-2 mb-6\">\n          <Button\n            variant={selectedView === 'list' ? 'default' : 'outline'}\n            size=\"sm\"\n            onClick={() => setSelectedView('list')}\n          >\n            List View\n          </Button>\n          <Button\n            variant={selectedView === 'map' ? 'default' : 'outline'}\n            size=\"sm\"\n            onClick={() => setSelectedView('map')}\n          >\n            Map View\n          </Button>\n        </div>\n\n        {selectedView === 'list' ? (\n          <div className=\"space-y-6\">\n            {/* Results Header */}\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-lg font-semibold\">\n                  {filteredResults.length} games found\n                </h2>\n                {searchQuery && (\n                  <p className=\"text-sm text-muted-foreground\">\n                    Results for \"{searchQuery}\"\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {/* Results List */}\n            <div className=\"space-y-4\">\n              {filteredResults.map((game) => (\n                <SimpleGameCard\n                  key={game.id}\n                  game={game}\n                  onSelect={() => handleGameSelect(game.id)}\n                />\n              ))}\n            </div>\n\n            {filteredResults.length === 0 && (\n              <div className=\"text-center py-12\">\n                <div className=\"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <Search className=\"w-6 h-6 text-muted-foreground\" />\n                </div>\n                <h3 className=\"text-lg font-semibold mb-2\">No games found</h3>\n                <p className=\"text-muted-foreground mb-4\">\n                  Try adjusting your search or filters\n                </p>\n                <Button variant=\"outline\" onClick={() => {\n                  setSearchQuery('');\n                  setSelectedSport('all');\n                }}>\n                  Clear filters\n                </Button>\n              </div>\n            )}\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            {/* Map View Content */}\n            <div className=\"bg-card rounded-lg p-4\">\n              <h3 className=\"text-lg font-semibold mb-4\">Games Near You</h3>\n              {currentLocation ? (\n                <div className=\"relative\">\n                  <MapView\n                    games={filteredResults.map(game => ({\n                      id: game.id,\n                      title: game.title,\n                      sport: game.sport,\n                      location: {\n                        latitude: game.latitude || currentLocation.latitude + (Math.random() - 0.5) * 0.01,\n                        longitude: game.longitude || currentLocation.longitude + (Math.random() - 0.5) * 0.01\n                      },\n                      locationName: game.location,\n                      date: game.date,\n                      time: game.time,\n                      players: game.currentPlayers || game.players,\n                      maxPlayers: game.maxPlayers,\n                      cost: game.cost,\n                      difficulty: game.difficulty\n                    }))}\n                    center={currentLocation}\n                    zoom={13}\n                    className=\"h-64 md:h-80\"\n                    showCurrentLocation={true}\n                    showGameMarkers={true}\n                    onGameSelect={handleGameSelect}\n                  />\n                  <div className=\"absolute top-2 right-2 bg-background/90 backdrop-blur-sm rounded-md px-2 py-1 text-xs\">\n                    üìç You ‚Ä¢ üéÆ {filteredResults.length} Games\n                  </div>\n                </div>\n              ) : (\n                <div className=\"w-full h-64 md:h-80 bg-muted rounded-lg flex flex-col items-center justify-center border\">\n                  <div className=\"text-4xl mb-2\">üìç</div>\n                  <p className=\"text-muted-foreground text-center\">\n                    Allow location access to see games on map\n                  </p>\n                  <Button \n                    onClick={requestLocation}\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"mt-2\"\n                    disabled={locationLoading}\n                  >\n                    {locationLoading ? 'Requesting...' : 'Enable Location'}\n                  </Button>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"names":["__iconNode","Crosshair","createLucideIcon","Layers","Minus","RotateCcw","SlidersHorizontal","calculateDistance","lat1","lon1","lat2","lon2","dLat","toRadians","dLon","a","degrees","formatDistance","distance","unit","getBoundsFromCenter","center","radiusKm","latOffset","lonOffset","useLocation","options","enableHighAccuracy","timeout","maximumAge","watchPosition","autoRequest","state","setState","useState","watchIdRef","useRef","requestInProgressRef","isSupported","checkPermission","useCallback","prev","permission","requestLocation","resolve","geoOptions","successCallback","position","location","errorCallback","error","errorMessage","toast","startWatching","stopWatching","clearLocation","getDistanceTo","target","getFormattedDistanceTo","isNearby","useEffect","MapView","games","selectedGameId","onGameSelect","onLocationSelect","showCurrentLocation","showGameMarkers","allowLocationSelection","zoom","className","allGames","useGames","currentLocation","locationLoading","locationError","mapCenter","setMapCenter","mapZoom","setMapZoom","isMapLoaded","setIsMapLoaded","selectedLocation","setSelectedLocation","hoveredGameId","setHoveredGameId","showSatellite","setShowSatellite","mapRef","mapGames","game","timer","centerOnCurrentLocation","centerOnGame","handleMapClick","event","rect","x","y","scaleFactor","lat","lng","handleMapTouch","touch","zoomIn","zoomOut","resetView","getSportColor","sport","jsx","EmptyState","MapPin","jsxs","LoadingSpinner","index","isSelected","isHovered","latDiff","lngDiff","pixelX","pixelY","clampedX","clampedY","e","Users","Card","CardContent","Badge","Clock","DollarSign","Button","Plus","sportFilters","SimpleGameCard","onSelect","joinGame","leaveGame","useAppStore","handleJoinClick","handleCardClick","SearchDiscovery","navigate","useNavigate","searchQuery","setSearchQuery","selectedSport","setSelectedSport","showFilters","setShowFilters","selectedView","setSelectedView","setGames","loading","setLoading","gamesData","SupabaseService","handleGameSelect","gameId","handleBack","filteredResults","distanceKm","matchesSearch","matchesSport","ArrowLeft","Search","Input"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}