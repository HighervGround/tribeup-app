import{c as S,r as o,u as B,l as M,j as e,C as j,d as N,B as i,S as F,t as b}from"./index-CoDBWMvi.js";import{I as u}from"./input-DZCFLUxG.js";import{B as H}from"./badge-JsPBR9D_.js";import{A as U,a as W}from"./avatar-DxQXuDZM.js";import{P as E}from"./progress-D3QDbHyr.js";import{I as G}from"./ImageWithFallback-BuEFrS0f.js";import{U as I}from"./users-CuhZ7RdL.js";import{C as z}from"./calendar-DOOl7pmb.js";import{T as O}from"./trophy-DnXXW69J.js";import{C as v}from"./check-D50e2b7K.js";import{M as y}from"./map-pin-DG9gMeq0.js";import"./index-Co2SUO8n.js";import"./index-BYkiABAA.js";import"./index-BZld24fq.js";import"./index-kx3EiN2l.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],q=S("arrow-right",Y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],_=S("camera",J),d=[{id:1,title:"Welcome",description:"Find your game, find your tribe"},{id:2,title:"Sports",description:"Choose your favorite sports"},{id:3,title:"Location",description:"Find games near you"},{id:4,title:"Profile",description:"Set up your profile"}],w=[{name:"Basketball",icon:"ðŸ€",color:"bg-sport-basketball"},{name:"Soccer",icon:"âš½",color:"bg-sport-soccer"},{name:"Tennis",icon:"ðŸŽ¾",color:"bg-sport-tennis"},{name:"Pickleball",icon:"ðŸ¥’",color:"bg-success"},{name:"Volleyball",icon:"ðŸ",color:"bg-sport-volleyball"},{name:"Football",icon:"ðŸˆ",color:"bg-sport-football"},{name:"Baseball",icon:"âš¾",color:"bg-sport-baseball"},{name:"Running",icon:"ðŸƒ",color:"bg-primary"},{name:"Swimming",icon:"ðŸŠ",color:"bg-secondary"},{name:"Cycling",icon:"ðŸš´",color:"bg-success"}];function ce({onComplete:C}){const[t,h]=o.useState(1),[r,k]=o.useState([]),[c,m]=o.useState("pending"),[l,n]=o.useState({firstName:"",lastName:"",bio:"",skillLevel:""}),P=B(),{user:p}=M(),f=t/d.length*100,L=async()=>{if(console.log("handleNext called, currentStep:",t),t<d.length)console.log("Moving to next step:",t+1),h(t+1);else{console.log("Onboarding complete, saving profile and navigating home");const s={...l,selectedSports:r,locationPermission:c};try{p?.id&&await F.createUserProfile(p.id,s),C?.(s),b.success("You're all set!",{description:"Your profile is ready. Enjoy discovering games."})}catch(a){console.error("Error completing onboarding:",a),b.error("Could not save your profile. You can update it anytime in Profile.")}finally{P("/",{replace:!0,state:{fromOnboarding:!0}})}}},T=s=>{k(a=>a.includes(s)?a.filter(x=>x!==s):[...a,s])},g=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(()=>{m("granted")},()=>{m("denied")}):m("denied")},A=()=>{switch(t){case 1:return!0;case 2:return r.length>0;case 3:return!0;case 4:return l.firstName&&l.lastName;default:return!1}};return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsxs("div",{className:"px-4 pt-12 pb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold",children:"TribeUp"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Step ",t," of ",d.length]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[Math.round(f),"%"]})]}),e.jsx(E,{value:f,className:"h-2"})]}),e.jsxs("div",{className:"flex-1 px-4",children:[t===1&&e.jsxs("div",{className:"flex flex-col items-center text-center space-y-8",children:[e.jsx("div",{className:"w-48 h-48 rounded-2xl overflow-hidden shadow-medium",children:e.jsx(G,{src:"https://images.unsplash.com/photo-1746690783368-9bbcf7cea12a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx3ZWxjb21lJTIwb25ib2FyZGluZyUyMGlsbHVzdHJhdGlvbnxlbnwxfHx8fDE3NTYxNDU1OTB8MA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Welcome illustration",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-3xl font-semibold",children:"Welcome to TribeUp!"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-sm",children:"Connect with fellow Gators and discover pickup games happening around campus."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full max-w-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx(I,{className:"w-6 h-6 text-primary"})}),e.jsx("div",{className:"text-sm font-medium",children:"Find Players"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-secondary/10 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx(z,{className:"w-6 h-6 text-secondary"})}),e.jsx("div",{className:"text-sm font-medium",children:"Join Games"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx(O,{className:"w-6 h-6 text-success"})}),e.jsx("div",{className:"text-sm font-medium",children:"Have Fun"})]})]})]}),t===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"What sports do you play?"}),e.jsx("p",{className:"text-muted-foreground",children:"Select all the sports you're interested in"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map(s=>e.jsx("button",{onClick:()=>T(s.name),className:`p-4 border-2 rounded-xl transition-all ${r.includes(s.name)?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"text-2xl",children:s.icon}),e.jsx("div",{className:"font-medium",children:s.name}),r.includes(s.name)&&e.jsx(v,{className:"w-4 h-4 text-primary"})]})},s.name))}),r.length>0&&e.jsx(j,{children:e.jsxs(N,{className:"pt-6",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Selected sports:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(s=>{const a=w.find(x=>x.name===s);return e.jsxs(H,{className:`${a?.color} text-white border-none`,children:[a?.icon," ",s]},s)})})]})})]}),t===3&&e.jsxs("div",{className:"flex flex-col items-center text-center space-y-8",children:[e.jsx("div",{className:"w-32 h-32 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(y,{className:"w-16 h-16 text-primary"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Enable Location Access"}),e.jsx("p",{className:"text-muted-foreground max-w-sm",children:"We need your location to show you games happening nearby on campus."})]}),c==="pending"&&e.jsxs(i,{onClick:g,className:"w-full max-w-sm",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Enable Location Access"]}),c==="granted"&&e.jsxs("div",{className:"w-full max-w-sm",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 text-success mb-4",children:[e.jsx(v,{className:"w-5 h-5"}),"Location access granted"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Great! We can now show you games near your location."})]}),c==="denied"&&e.jsxs("div",{className:"w-full max-w-sm",children:[e.jsx("div",{className:"text-warning mb-4",children:"Location access denied"}),e.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:"You can still use TribeUp, but you'll need to search for games manually."}),e.jsx(i,{variant:"outline",onClick:g,className:"w-full",children:"Try Again"})]})]}),t===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Set up your profile"}),e.jsx("p",{className:"text-muted-foreground",children:"Tell other players a bit about yourself"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"w-24 h-24",children:e.jsxs(W,{className:"text-2xl",children:[l.firstName?.[0],l.lastName?.[0]]})}),e.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-primary rounded-full flex items-center justify-center shadow-medium",children:e.jsx(_,{className:"w-4 h-4 text-primary-foreground"})})]})}),e.jsx(j,{children:e.jsxs(N,{className:"pt-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"First Name"}),e.jsx(u,{value:l.firstName,onChange:s=>n(a=>({...a,firstName:s.target.value})),placeholder:"Alex"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Last Name"}),e.jsx(u,{value:l.lastName,onChange:s=>n(a=>({...a,lastName:s.target.value})),placeholder:"Smith"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Bio (Optional)"}),e.jsx(u,{value:l.bio,onChange:s=>n(a=>({...a,bio:s.target.value})),placeholder:"Tell us about yourself..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Skill Level"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:["Beginner","Intermediate","Advanced"].map(s=>e.jsx(i,{variant:l.skillLevel===s?"default":"outline",size:"sm",onClick:()=>n(a=>({...a,skillLevel:s})),children:s},s))})]})]})})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs(i,{onClick:L,disabled:!A(),className:"w-full h-12",children:[t===d.length?"Get Started":"Continue",e.jsx(q,{className:"w-4 h-4 ml-2"})]}),t>1&&e.jsx(i,{variant:"ghost",onClick:()=>h(t-1),className:"w-full mt-2",children:"Back"})]})]})}export{ce as Onboarding,ce as default};
//# sourceMappingURL=Onboarding-BlnncqsW.js.map
