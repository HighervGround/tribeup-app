import{u as i,a as o}from"./useMutation-B3okplaF.js";import{o as l,i as s,t as n}from"./index-D8qAyT0h.js";const r={all:["users"],profile:e=>[...r.all,"profile",e],stats:e=>[...r.all,"stats",e],recentGames:e=>[...r.all,"recentGames",e],achievements:e=>[...r.all,"achievements",e]};function y(e){return i({queryKey:r.profile(e),queryFn:async()=>{if(!e)throw new Error("User ID is required");return await s.getUserProfile(e)},enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3})}function m(e){return i({queryKey:r.stats(e),queryFn:async()=>{if(!e)throw new Error("User ID is required");try{const t=await s.getUserStats(e);return{totalGamesPlayed:t.games_played||0,totalGamesHosted:t.games_hosted||0,averageRating:t.average_rating||0,totalPlayTime:t.total_play_time_minutes||0,favoritesSports:t.favorite_sport?[t.favorite_sport]:[],completionRate:t.completion_rate||0,totalDistance:t.total_distance||0}}catch{return{totalGamesPlayed:0,totalGamesHosted:0,averageRating:0,totalPlayTime:0,favoritesSports:[],completionRate:0,totalDistance:0}}},enabled:!!e,staleTime:2*60*1e3,gcTime:5*60*1e3})}function f(e,t=5){return i({queryKey:[...r.recentGames(e),t],queryFn:async()=>{if(!e)throw new Error("User ID is required");try{return await s.getUserRecentGames(e,t)}catch{return[]}},enabled:!!e,staleTime:1*60*1e3,gcTime:5*60*1e3})}function p(e){return i({queryKey:r.achievements(e),queryFn:async()=>{if(!e)throw new Error("User ID is required");try{return await s.getUserAchievements(e)}catch{return[]}},enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3})}function g(){const e=l();return o({mutationFn:async({userId:t,profileData:a})=>await s.updateUserProfile(t,a),onSuccess:(t,{userId:a})=>{e.invalidateQueries({queryKey:r.profile(a)}),e.invalidateQueries({queryKey:r.stats(a)}),n.success("Profile updated successfully!",{description:"Your changes have been saved"})},onError:t=>{console.error("Update profile error:",t),n.error("Failed to update profile",{description:"Please try again later"})}})}export{f as a,p as b,g as c,y as d,m as u};
//# sourceMappingURL=useUserProfile-Djc5Q9Xh.js.map
