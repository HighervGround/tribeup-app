import{j as e}from"./ui-Ca5AhCQM.js";import{r as t}from"./vendor-IUqyc6Bg.js";import{c as b,u as L,m as O,g as T,C as _,d as q,e as D,b as M,B as x,A as N,f as v}from"./index-B_FlWj16.js";import{I as h}from"./input-DgOvx0zD.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],G=b("apple",$);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]],W=b("chrome",H);function K(){L();const g=O(),{signIn:k,signUp:S,resetPassword:C,signInWithOAuth:A}=T(),[r,f]=t.useState(!1),[a,l]=t.useState(!1),[c,I]=t.useState(""),[m,P]=t.useState(""),[p,E]=t.useState(""),[o,d]=t.useState(!1),[y,n]=t.useState(""),[j,u]=t.useState("");t.useEffect(()=>{new URLSearchParams(g.search).get("reset")==="true"&&l(!0)},[g]);const F=async s=>{s.preventDefault(),d(!0),n(""),u("");try{a?(await C(c),u("Password reset email sent! Check your inbox."),l(!1)):r?(await S(c,m,{name:p,email:c}),u("Check your email for confirmation link!")):await k(c,m)}catch(i){n(i.message)}finally{d(!1)}},w=async s=>{d(!0),n("");try{await A(s)}catch(i){console.error(`OAuth sign-in error for ${s}:`,i),i.message?.includes("popup")?n("Authentication popup was blocked. Please allow popups and try again."):i.message?.includes("network")||i.message?.includes("fetch")?n("Network error during authentication. Please check your connection and try again."):n("Authentication failed. Please try again or use email sign-in."),d(!1)}},R=()=>{f(!1),l(!1),n(""),u("")},U=()=>a?"Reset Password":r?"Create Account":"Sign In",B=()=>o?"Loading...":a?"Send Reset Email":r?"Sign Up":"Sign In";return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs(_,{className:"w-full max-w-md",children:[e.jsx(q,{children:e.jsx(D,{className:"text-center",children:U()})}),e.jsxs(M,{children:[!a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs(x,{variant:"outline",onClick:()=>w("google"),disabled:o,className:"w-full",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Google"]}),e.jsxs(x,{variant:"outline",onClick:()=>w("apple"),disabled:o,className:"w-full",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Apple"]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center mb-4",children:"Note: You may see browser warnings during OAuth sign-in. These are from external services and don't affect your account security."}),e.jsxs("div",{className:"relative my-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]})]}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[r&&!a&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:"Name"}),e.jsx(h,{id:"name",name:"name",type:"text",value:p,onChange:s=>E(s.target.value),required:r,placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email"}),e.jsx(h,{id:"email",name:"email",type:"email",value:c,onChange:s=>I(s.target.value),required:!0,placeholder:"Enter your email"})]}),!a&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password"}),e.jsx(h,{id:"password",name:"password",type:"password",value:m,onChange:s=>P(s.target.value),required:!a,placeholder:"Enter your password"})]}),y&&e.jsx(N,{variant:"destructive",children:e.jsx(v,{children:y})}),j&&e.jsx(N,{children:e.jsx(v,{children:j})}),e.jsx(x,{type:"submit",className:"w-full",disabled:o,children:B()})]}),e.jsx("div",{className:"mt-4 space-y-2 text-center",children:a?e.jsx("button",{onClick:R,className:"text-sm text-muted-foreground hover:text-foreground",children:"Back to Sign In"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f(!r),className:"text-sm text-muted-foreground hover:text-foreground block",children:r?"Already have an account? Sign In":"Need an account? Sign Up"}),e.jsx("button",{onClick:()=>l(!0),className:"text-sm text-muted-foreground hover:text-foreground block",children:"Forgot your password?"})]})})]})]})})}export{K as Auth};
//# sourceMappingURL=Auth-DtHmvPDc.js.map
