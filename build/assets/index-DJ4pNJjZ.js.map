{"version":3,"mappings":"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","names":["m","require$$0","client","createRoot","hydrateRoot","falsyToString","value","cx","clsx","cva","base","config","props","_config_compoundVariants","variants","class","className","defaultVariants","getVariantClassNames","Object","keys","map","variant","variantProp","defaultVariantProp","variantKey","propsWithoutUndefined","entries","reduce","acc","param","key","undefined","getCompoundVariantClassNames","compoundVariants","cvClass","cvClassName","compoundVariantOptions","every","Array","isArray","includes","createClassGroupUtils","classMap","createClassMap","conflictingClassGroups","conflictingClassGroupModifiers","getClassGroupId","classParts","split","length","shift","getGroupRecursive","getGroupIdForArbitraryProperty","getConflictingClassGroupIds","classGroupId","hasPostfixModifier","conflicts","classPartObject","currentClassPart","nextClassPartObject","nextPart","get","classGroupFromNextClassPart","slice","validators","classRest","join","find","validator","arbitraryPropertyRegex","test","arbitraryPropertyClassName","exec","property","substring","indexOf","theme","classGroups","Map","processClassesRecursively","classGroup","forEach","classDefinition","getPart","isThemeGetter","push","path","currentClassPartObject","pathPart","has","set","func","createLruCache","maxCacheSize","cacheSize","cache","previousCache","update","createParseClassName","prefix","experimentalParseClassName","parseClassName","modifiers","postfixModifierPosition","bracketDepth","parenDepth","modifierStart","index","currentCharacter","MODIFIER_SEPARATOR","baseClassNameWithImportantModifier","baseClassName","stripImportantModifier","hasImportantModifier","maybePostfixModifierPosition","fullPrefix","parseClassNameOriginal","startsWith","isExternal","endsWith","createSortModifiers","orderSensitiveModifiers","fromEntries","modifier","sortedModifiers","unsortedModifiers","sort","SPLIT_CLASSES_REGEX","twJoin","argument","resolvedValue","string","arguments","toValue","mix","k","createTailwindMerge","createConfigFirst","createConfigRest","configUtils","cacheGet","cacheSet","functionToCall","classList","previousConfig","createConfigCurrent","sortModifiers","createConfigUtils","tailwindMerge","cachedResult","result","classGroupsInConflict","classNames","trim","originalClassName","variantModifier","modifierId","classId","conflictGroups","i","group","mergeClassList","apply","fromTheme","themeGetter","arbitraryValueRegex","arbitraryVariableRegex","fractionRegex","tshirtUnitRegex","lengthUnitRegex","colorFunctionRegex","shadowRegex","imageRegex","isFraction","isNumber","Number","isNaN","isInteger","isPercent","isTshirtSize","isAny","isLengthOnly","isNever","isShadow","isImage","isAnyNonArbitrary","isArbitraryValue","isArbitraryVariable","isArbitrarySize","getIsArbitraryValue","isLabelSize","isArbitraryLength","isLabelLength","isArbitraryNumber","isLabelNumber","isArbitraryPosition","isLabelPosition","isArbitraryImage","isLabelImage","isArbitraryShadow","isLabelShadow","isArbitraryVariableLength","getIsArbitraryVariable","isArbitraryVariableFamilyName","isLabelFamilyName","isArbitraryVariablePosition","isArbitraryVariableSize","isArbitraryVariableImage","isArbitraryVariableShadow","testLabel","testValue","shouldMatchNoLabel","label","twMerge","themeColor","themeFont","themeText","themeFontWeight","themeTracking","themeLeading","themeBreakpoint","themeContainer","themeSpacing","themeRadius","themeShadow","themeInsetShadow","themeTextShadow","themeDropShadow","themeBlur","themePerspective","themeAspect","themeEase","themeAnimate","scalePositionWithArbitrary","scaleUnambiguousSpacing","scaleInset","scaleGridTemplateColsRows","scaleGridColRowStartAndEnd","span","scaleGridColRowStartOrEnd","scaleGridAutoColsRows","scaleMargin","scaleSizing","scaleColor","scaleBgPosition","position","scaleBgSize","size","scaleGradientStopPosition","scaleRadius","scaleBorderWidth","scaleMaskImagePosition","scaleBlur","scaleRotate","scaleScale","scaleSkew","scaleTranslate","animate","aspect","blur","breakpoint","color","container","ease","font","leading","perspective","radius","shadow","spacing","text","tracking","columns","box","display","sr","float","clear","isolation","object","overflow","overscroll","inset","start","end","top","right","bottom","left","visibility","z","basis","flex","grow","shrink","order","col","row","gap","justify","content","items","baseline","self","p","px","py","ps","pe","pt","pr","pb","pl","mx","my","ms","me","mt","mr","mb","ml","w","screen","h","list","placeholder","decoration","indent","align","whitespace","break","wrap","hyphens","bg","repeat","linear","to","radial","conic","from","via","rounded","border","divide","outline","ring","opacity","mask","closest","farthest","filter","brightness","contrast","grayscale","invert","saturate","sepia","table","caption","transition","duration","delay","backface","rotate","scale","skew","transform","origin","translate","accent","appearance","caret","scheme","cursor","resize","scroll","snap","touch","select","fill","stroke","cn","inputs","buttonVariants","default","destructive","secondary","ghost","link","message","sm","lg","icon","Button","asChild","Comp","Slot","jsx","Card","CardHeader","CardTitle","CardContent","ErrorBoundary","Component","constructor","super","this","state","hasError","error","errorInfo","getDerivedStateFromError","componentDidCatch","setState","onError","handleRetry","render","fallback","children","jsxs","AlertTriangle","onClick","RefreshCw","window","location","reload","QueryErrorFallback","resetErrorBoundary","stack","localStorage","sessionStorage","SimpleErrorBoundary","reset","onReset","QueryErrorBoundary","QueryErrorResetBoundary","LoadingSpinner","Loader2","md","supabaseUrl","supabaseAnonKey","Error","supabase","performance","navigation","type","globalThis","__supabase__","createClient","auth","persistSession","autoRefreshToken","detectSessionInUrl","storageKey","flowType","db","schema","global","headers","realtime","params","eventsPerSecond","heartbeatIntervalMs","reconnectAfterMs","Math","random","transformGameFromDB","dbGame","isJoined","id","title","sport","date","time","latitude","longitude","cost","maxPlayers","max_players","currentPlayers","current_players","description","imageUrl","image_url","sportColor","getSportColor","createdBy","creator","full_name","username","creator_id","creatorId","creatorData","name","email","avatar","avatar_url","createdAt","created_at","transformUserFromDB","dbUser","bio","role","preferences","highContrast","largeText","reducedMotion","colorBlindFriendly","notifications","gameReminders","privacy","locationSharing","profileVisibility","sports","preferred_sports","basketball","soccer","tennis","pickleball","volleyball","football","baseball","swimming","running","cycling","yoga","toLowerCase","EnvironmentConfig","static","loadConfig","validateConfig","getInstance","instance","env","__vite_import_meta_env__","VITE_SUPABASE_URL","VITE_SUPABASE_ANON_KEY","openWeatherApiKey","VITE_OPENWEATHER_API_KEY","weatherTempUnit","VITE_WEATHER_TEMP_UNIT","weatherUpdateInterval","parseInt","VITE_WEATHER_UPDATE_INTERVAL","weatherIncludeHourly","VITE_WEATHER_INCLUDE_HOURLY","weatherRainThreshold","parseFloat","VITE_WEATHER_RAIN_THRESHOLD","weatherWindThreshold","VITE_WEATHER_WIND_THRESHOLD","vapidPublicKey","VITE_VAPID_PUBLIC_KEY","profileCheckTimeout","VITE_PROFILE_CHECK_TIMEOUT","profileForceTimeout","VITE_PROFILE_FORCE_TIMEOUT","presenceHeartbeatInterval","VITE_PRESENCE_HEARTBEAT_INTERVAL","locationMonitoringInterval","VITE_LOCATION_MONITORING_INTERVAL","gameEditRestrictionHours","VITE_GAME_EDIT_RESTRICTION_HOURS","gameDeletionRestrictionHours","VITE_GAME_DELETION_RESTRICTION_HOURS","enableMockData","VITE_ENABLE_MOCK_DATA","logLevel","VITE_LOG_LEVEL","errors","warnings","getConfig","isFeatureEnabled","feature","envConfig","SupabaseService","signUp","password","userData","data","options","replace","user","createUserProfile","signIn","signInWithPassword","signOut","getCurrentUser","getUser","userId","existingUser","fetchError","eq","maybeSingle","code","authUser","profileData","firstName","lastName","toString","selectedSports","s","upsert","onConflict","single","getUserProfile","currentUser","fallbackData","fallbackError","limit","Date","toISOString","allUsers","countError","isUsernameAvailable","excludeUserId","q","count","head","ilike","neq","uploadAvatar","file","fileName","now","uploadError","storage","upload","cacheControl","getPublicUrl","publicUrl","updateUserProfile","updates","updateData","sports_preferences","isProfileComplete","profile","hasAdminRole","hasModeratorRole","updateUserRole","logAdminAction","deleteGame","gameId","reason","game","gameError","isCreator","isModerator","gameDateTime","hoursUntilGame","getTime","restrictionHours","notifyGameParticipants","delete","game_title","getAllUsers","ascending","action","targetType","targetId","details","rpc","p_action","p_target_type","p_target_id","p_details","getAdminAuditLog","getMockGames","today","tomorrow","setDate","getDate","getGames","startTime","queryStart","gamesData","gte","games","clearError","getMyGames","getNearbyGames","query","gamesWithParticipants","game_participants","some","user_id","createGame","gameData","fetchUserErr","user_metadata","upsertErr","e","insert","game_id","updateGame","costMatch","match","notification","participants","read","joinGame","game_uuid","recordGameParticipation","participationError","leaveGame","getPublicRSVPs","createPublicRSVP","rsvpData","existing","phone","getGameById","session","getSession","authError","participantData","creatorInfo","getNotifications","timestamp","actionUrl","markNotificationAsRead","notificationId","deleteNotification","clearAllNotifications","getGameParticipants","participantsError","userIds","testUsers","testError","users","usersError","in","participant","isHost","rating","u","createTestUser","crypto","randomUUID","subscribeToGameUpdates","callback","channel","on","event","subscribe","subscribeToChatMessages","subscribeToNotifications","unsubscribe","subscribeToAllGames","subscribeToPublicRSVPs","searchGames","filters","dateRange","lte","getRecommendedGames","preferredOverride","preferred","userRow","getArchivedGames","lt","archiveOldGames","yesterday","getUserStats","basicStats","calculatedStats","hostedGames","hostedError","participatedGames","participatedError","gamesHosted","gamesPlayed","totalPlayTime","sum","play_time_minutes","sportCounts","games_played","games_hosted","total_play_time_minutes","favorite_sport","a","b","last_activity","updated_at","reviews","averageRating","review","average_rating","getUserRecentGames","getUserAchievements","getAllAchievements","checkAndAwardAchievements","stats","achievements","achievementsError","userAchievements","userAchievementsError","earnedAchievementIds","Set","ua","achievement_id","newAchievements","achievement","criteria","shouldAward","achievementsToInsert","earned_at","insertError","status","columnError","joined_at","left_at","markGameCompleted","achievementError","joinWaitlist","leaveWaitlist","joinFromWaitlist","getGameWaitlist","entry","joinedAt","expiresAt","expires_at","avatarUrl","getUserWaitlistStatus","isOnWaitlist","createRecurringTemplate","templateData","p_title","p_sport","p_location","p_latitude","p_longitude","p_cost","p_max_players","p_description","p_image_url","p_recurrence_type","recurrenceType","p_recurrence_interval","p_day_of_week","dayOfWeek","p_day_of_month","dayOfMonth","p_time_of_day","timeOfDay","p_start_date","startDate","p_end_date","endDate","p_max_occurrences","maxOccurrences","getRecurringTemplates","template","recurrence_type","day_of_week","day_of_month","time_of_day","start_date","end_date","max_occurrences","isActive","is_active","instanceCount","_count","updateRecurringTemplate","templateId","template_id","cancelRecurringTemplate","cancelFutureGames","cancel_future_games","getRecurringGameInstances","scheduledDate","scheduled_date","instanceNumber","instance_number","submitGameReview","reviewData","p_game_id","p_overall_rating","overallRating","p_organization_rating","organizationRating","p_skill_level_rating","skillLevelRating","p_fun_rating","funRating","p_review_text","reviewText","p_would_play_again","wouldPlayAgain","p_recommend_to_others","recommendToOthers","submitPlayerRating","ratingData","p_rated_player_id","ratedPlayerId","p_skill_rating","skillRating","p_sportsmanship_rating","sportsmanshipRating","p_communication_rating","communicationRating","p_feedback_text","feedbackText","getGameReviews","getGameRatingSummary","totalReviews","total_reviews","avgOverallRating","avg_overall_rating","avgOrganizationRating","avg_organization_rating","avgSkillLevelRating","avg_skill_level_rating","avgFunRating","avg_fun_rating","wouldPlayAgainCount","would_play_again_count","recommendCount","recommend_count","lastUpdated","last_updated","getUserRatingSummary","totalRatingsReceived","total_ratings_received","avgSkillRating","avg_skill_rating","avgSportsmanshipRating","avg_sportsmanship_rating","avgCommunicationRating","avg_communication_rating","avgOverallPlayerRating","avg_overall_player_rating","gamesOrganized","games_organized","avgGameRating","avg_game_rating","getReviewableGames","game_date","game_time","hasReviewed","has_reviewed","getPlayerRatings","playerId","skill_rating","sportsmanship_rating","communication_rating","feedback_text","rater","ratedPlayer","rated_player","submitUserTestingFeedback","feedbackData","createJSONStorage","getStorage","getItem","_a","parse","str2","JSON","str","Promise","then","setItem","newValue","stringify","removeItem","toThenable","fn","input","onFulfilled","_onRejected","_onFulfilled","catch","onRejected","persist","baseOptions","api","partialize","version","merge","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","args","savedSetState","configResult","stateFromStorage","getInitialState","hydrate","_b","cb","_a2","postRehydrationCallback","onRehydrateStorage","call","bind","deserializedStorageValue","migrate","migration","migrationResult","migrated","migratedState","setOptions","newOptions","clearStorage","getOptions","rehydrate","onHydrate","add","onFinishHydration","skipHydration","NOTHING","Symbol","for","DRAFTABLE","DRAFT_STATE","die","getPrototypeOf","isDraft","isDraftable","isPlainObject","isMap","isSet","objectCtorString","prototype","proto","Ctor","hasOwnProperty","Function","each","obj","iter","getArchtype","Reflect","ownKeys","thing","type_","prop","propOrOldValue","t","target","latest","copy_","base_","shallowCopy","strict","isPlain","descriptors","getOwnPropertyDescriptors","desc","writable","configurable","enumerable","create","assign","freeze","deep","isFrozen","dontMutateFrozenCollections","currentScope","plugins","getPlugin","pluginKey","plugin","getCurrentScope","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","drafts_","revokeDraft","parent_","enterScope","immer2","immer_","canAutoFreeze_","unfinalizedDrafts_","draft","revoke_","revoked_","processResult","baseDraft","modified_","finalize","maybeFreeze","generateReplacementPatches_","rootScope","childValue","finalizeProperty","scope_","finalized_","resultEach","isSet2","generatePatches_","parentState","targetObject","rootPath","targetIsSet","res","assigned_","concat","autoFreeze_","propertyIsEnumerable","objectTraps","source","getDescriptorFromProto","draft_","readPropFromProto","peek","prepareCopy","createProxy","current2","x","y","markChanged","deleteProperty","getOwnPropertyDescriptor","owner","defineProperty","setPrototypeOf","arrayTraps","useStrictShallowCopy_","parent","proxyMap_","proxySet_","isManual_","traps","revoke","proxy","Proxy","revocable","createProxyProxy","currentImpl","copy","immer","produce","recipe","defaultBase","base2","ip","produceWithPatches","patches","inversePatches","autoFreeze","setAutoFreeze","useStrictShallowCopy","setUseStrictShallowCopy","createDraft","current","finishDraft","applyPatches","patch","op","applyPatchesImpl","applyPatches_","initializer","store","updater","nextState","defaultSearchFilters","distance","priceRange","min","max","initialState","isAuthenticated","myGames","nearbyGames","isLoading","chatContext","searchFilters","useAppStore","setUser","updateUserPreferences","async","setLoading","setError","userProfile","initializeAuth","setGames","addGame","newGame","unshift","gameIndex","findIndex","g","myGameIndex","loading","setChatContext","context","updateSearchFilters","clearSearchFilters","AuthContext","createContext","AuthProvider","useState","setSession","setAppUser","useEffect","authToken","setTimeout","getInitialSession","subscription","onAuthStateChange","pendingGameId","getState","toast","success","joinError","pathname","info","pending_game_id","profileError","signInWithOAuth","provider","redirectTo","queryParams","access_type","prompt","resetPassword","resetPasswordForEmail","Provider","useAuth","useContext","ProtectedRoute","requireAuth","useLocation","Navigate","badgeVariants","Badge","React","objectIs","is","useLayoutEffect","useDebugValue","checkIfSnapshotChanged","inst","latestGetSnapshot","getSnapshot","nextValue","shim","document","createElement","_useState","forceUpdate","useSyncExternalStoreShim_production","useSyncExternalStore","shimModule","exports","AVATAR_NAME","createAvatarContext","createAvatarScope","createContextScope","AvatarProvider","useAvatarContext","Avatar","React.forwardRef","forwardedRef","__scopeAvatar","avatarProps","imageLoadingStatus","setImageLoadingStatus","React.useState","onImageLoadingStatusChange","Primitive","ref","displayName","IMAGE_NAME","AvatarImage","src","onLoadingStatusChange","imageProps","referrerPolicy","crossOrigin","isHydrated","imageRef","React.useRef","image","Image","loadingStatus","setLoadingStatus","resolveLoadingStatus","updateStatus","handleLoad","handleError","addEventListener","removeEventListener","useImageLoadingStatus","handleLoadingStatusChange","useCallbackRef","img","FALLBACK_NAME","AvatarFallback","delayMs","fallbackProps","canRender","setCanRender","React.useEffect","timerId","clearTimeout","complete","naturalWidth","Root","Fallback","AvatarPrimitive.Root","AvatarPrimitive.Image","AvatarPrimitive.Fallback","sizeClasses","xl","ClickableAvatar","alt","disabled","navigate","useNavigate","stopPropagation","word","charAt","toUpperCase","useNotifications","setNotifications","settings","setSettings","pushNotifications","emailNotifications","messageNotifications","soundEnabled","notificationsData","loadNotifications","newNotification","prev","showNotification","setupSubscription","useCallback","Notification","permission","body","badge","silent","markAsRead","markAllAsRead","unreadNotifications","n","all","clearAll","reloadError","requestPermission","updateSettings","newSettings","unreadCount","recentNotifications","navItems","Home","Search","Plus","Bell","showBadge","User","BottomNavigation","forwardRef","item","Icon","style","sidebarItems","DesktopLayout","sidebarCollapsed","setSidebarCollapsed","Menu","AppContent","isMobile","setIsMobile","checkIsMobile","innerWidth","useResponsive","announceToScreenReader","priority","liveRegion","getElementById","setAttribute","appendChild","textContent","applyPreferences","prefs","root","documentElement","remove","prefersDark","matchMedia","matches","toggle","setProperty","removeProperty","updatePreferences","newPrefs","focusElement","element","focus","getAttribute","trapFocus","focusableElements","querySelectorAll","firstElement","lastElement","handleKeyDown","shiftKey","activeElement","preventDefault","useAccessibility","hasCompletedOnboarding","setHasCompletedOnboarding","navigationRef","useRef","navigationHeight","setNavigationHeight","history","usr","fromOnboarding","replaceState","updateNavigationHeight","height","offsetHeight","isCreateGameRoute","Fragment","paddingBottom","Outlet","Toaster","richColors","closeButton","toastOptions","alertVariants","Alert","AlertTitle","AlertDescription","AuthCallback","searchParams","useSearchParams","setStatus","setMessage","preferred_username","user_name","picture","handleAuthCallback","CheckCircle","XCircle","HomeScreen","lazy","__vitePreload","import","__VITE_PRELOAD__","SearchDiscovery","CreateGame","UserProfile","EditProfile","GameDetails","OtherUserProfile","NotificationCenter","Settings","AccessibilitySettings","NotificationSettings","DesignSystem","AdminDashboard","TermsOfService","PrivacyPolicy","Onboarding","NavigationTest","Auth","RouteLoader","AppWrapper","AppRouter","BrowserRouter","Suspense","Routes","Route","onBack","onComplete","ReactQueryDevtools2","QueryDebugger","queryClient","debugInterval","setQueryClient","startDebugging","setInterval","logQueryStates","stopDebugging","clearInterval","gameQueries","getQueryCache","getAll","queryKey","isStale","getObserversCount","forceRefreshStuckQueries","stuckQueries","timeSinceLastUpdate","dataUpdatedAt","fetchStatus","cancel","invalidateQueries","clearAllGameQueries","removeQueries","predicate","getQueryStats","queries","total","stale","active","queryDebugger","debugQueries","clearGameQueries","forceRefreshStuck","QueryClient","defaultOptions","staleTime","gcTime","retry","failureCount","retryDelay","attemptIndex","mutations","QueryProvider","hostname","QueryClientProvider","ReactQueryDevtools","initialIsOpen","App","navigator","registration","serviceWorker","register","updateViaCache","newWorker","installing","controller","confirm","ReactDOM","StrictMode","initializeApp"],"ignoreList":[0,1,2,12,13,14,19,20,21,22,34],"sources":["../../node_modules/react-dom/client.js","../../node_modules/class-variance-authority/dist/index.mjs","../../node_modules/tailwind-merge/dist/bundle-mjs.mjs","../../src/components/ui/utils.ts","../../src/components/ui/button.tsx","../../src/components/ui/card.tsx","../../src/components/ErrorBoundary.tsx","../../src/components/QueryErrorBoundary.tsx","../../src/components/ui/loading-spinner.tsx","../../src/lib/supabase.ts","../../src/lib/envConfig.ts","../../src/lib/supabaseService.ts","../../node_modules/zustand/esm/middleware.mjs","../../node_modules/immer/dist/immer.mjs","../../node_modules/zustand/esm/middleware/immer.mjs","../../src/store/appStore.ts","../../src/providers/AuthProvider.tsx","../../src/components/ProtectedRoute.tsx","../../src/components/ui/badge.tsx","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/@radix-ui/react-use-is-hydrated/dist/index.mjs","../../node_modules/@radix-ui/react-avatar/dist/index.mjs","../../src/components/ui/avatar.tsx","../../src/components/ui/clickable-avatar.tsx","../../src/hooks/useNotifications.ts","../../src/components/BottomNavigation.tsx","../../src/components/DesktopLayout.tsx","../../src/components/AppContent.tsx","../../src/hooks/useResponsive.ts","../../src/hooks/useAccessibility.ts","../../src/components/ui/alert.tsx","../../src/components/AuthCallback.tsx","../../src/components/AppRouter.tsx","../../node_modules/@tanstack/react-query-devtools/build/modern/index.js","../../src/utils/queryDebugger.ts","../../src/providers/QueryProvider.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\n * Copyright 2022 Joe Bell. All rights reserved.\n *\n * This file is licensed to you under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with the\n * License. You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR REPRESENTATIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */ import { clsx } from \"clsx\";\nconst falsyToString = (value)=>typeof value === \"boolean\" ? `${value}` : value === 0 ? \"0\" : value;\nexport const cx = clsx;\nexport const cva = (base, config)=>(props)=>{\n        var _config_compoundVariants;\n        if ((config === null || config === void 0 ? void 0 : config.variants) == null) return cx(base, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n        const { variants, defaultVariants } = config;\n        const getVariantClassNames = Object.keys(variants).map((variant)=>{\n            const variantProp = props === null || props === void 0 ? void 0 : props[variant];\n            const defaultVariantProp = defaultVariants === null || defaultVariants === void 0 ? void 0 : defaultVariants[variant];\n            if (variantProp === null) return null;\n            const variantKey = falsyToString(variantProp) || falsyToString(defaultVariantProp);\n            return variants[variant][variantKey];\n        });\n        const propsWithoutUndefined = props && Object.entries(props).reduce((acc, param)=>{\n            let [key, value] = param;\n            if (value === undefined) {\n                return acc;\n            }\n            acc[key] = value;\n            return acc;\n        }, {});\n        const getCompoundVariantClassNames = config === null || config === void 0 ? void 0 : (_config_compoundVariants = config.compoundVariants) === null || _config_compoundVariants === void 0 ? void 0 : _config_compoundVariants.reduce((acc, param)=>{\n            let { class: cvClass, className: cvClassName, ...compoundVariantOptions } = param;\n            return Object.entries(compoundVariantOptions).every((param)=>{\n                let [key, value] = param;\n                return Array.isArray(value) ? value.includes({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                }[key]) : ({\n                    ...defaultVariants,\n                    ...propsWithoutUndefined\n                })[key] === value;\n            }) ? [\n                ...acc,\n                cvClass,\n                cvClassName\n            ] : acc;\n        }, []);\n        return cx(base, getVariantClassNames, getCompoundVariantClassNames, props === null || props === void 0 ? void 0 : props.class, props === null || props === void 0 ? void 0 : props.className);\n    };\n\n","const CLASS_PART_SEPARATOR = '-';\nconst createClassGroupUtils = config => {\n  const classMap = createClassMap(config);\n  const {\n    conflictingClassGroups,\n    conflictingClassGroupModifiers\n  } = config;\n  const getClassGroupId = className => {\n    const classParts = className.split(CLASS_PART_SEPARATOR);\n    // Classes like `-inset-1` produce an empty string as first classPart. We assume that classes for negative values are used correctly and remove it from classParts.\n    if (classParts[0] === '' && classParts.length !== 1) {\n      classParts.shift();\n    }\n    return getGroupRecursive(classParts, classMap) || getGroupIdForArbitraryProperty(className);\n  };\n  const getConflictingClassGroupIds = (classGroupId, hasPostfixModifier) => {\n    const conflicts = conflictingClassGroups[classGroupId] || [];\n    if (hasPostfixModifier && conflictingClassGroupModifiers[classGroupId]) {\n      return [...conflicts, ...conflictingClassGroupModifiers[classGroupId]];\n    }\n    return conflicts;\n  };\n  return {\n    getClassGroupId,\n    getConflictingClassGroupIds\n  };\n};\nconst getGroupRecursive = (classParts, classPartObject) => {\n  if (classParts.length === 0) {\n    return classPartObject.classGroupId;\n  }\n  const currentClassPart = classParts[0];\n  const nextClassPartObject = classPartObject.nextPart.get(currentClassPart);\n  const classGroupFromNextClassPart = nextClassPartObject ? getGroupRecursive(classParts.slice(1), nextClassPartObject) : undefined;\n  if (classGroupFromNextClassPart) {\n    return classGroupFromNextClassPart;\n  }\n  if (classPartObject.validators.length === 0) {\n    return undefined;\n  }\n  const classRest = classParts.join(CLASS_PART_SEPARATOR);\n  return classPartObject.validators.find(({\n    validator\n  }) => validator(classRest))?.classGroupId;\n};\nconst arbitraryPropertyRegex = /^\\[(.+)\\]$/;\nconst getGroupIdForArbitraryProperty = className => {\n  if (arbitraryPropertyRegex.test(className)) {\n    const arbitraryPropertyClassName = arbitraryPropertyRegex.exec(className)[1];\n    const property = arbitraryPropertyClassName?.substring(0, arbitraryPropertyClassName.indexOf(':'));\n    if (property) {\n      // I use two dots here because one dot is used as prefix for class groups in plugins\n      return 'arbitrary..' + property;\n    }\n  }\n};\n/**\n * Exported for testing only\n */\nconst createClassMap = config => {\n  const {\n    theme,\n    classGroups\n  } = config;\n  const classMap = {\n    nextPart: new Map(),\n    validators: []\n  };\n  for (const classGroupId in classGroups) {\n    processClassesRecursively(classGroups[classGroupId], classMap, classGroupId, theme);\n  }\n  return classMap;\n};\nconst processClassesRecursively = (classGroup, classPartObject, classGroupId, theme) => {\n  classGroup.forEach(classDefinition => {\n    if (typeof classDefinition === 'string') {\n      const classPartObjectToEdit = classDefinition === '' ? classPartObject : getPart(classPartObject, classDefinition);\n      classPartObjectToEdit.classGroupId = classGroupId;\n      return;\n    }\n    if (typeof classDefinition === 'function') {\n      if (isThemeGetter(classDefinition)) {\n        processClassesRecursively(classDefinition(theme), classPartObject, classGroupId, theme);\n        return;\n      }\n      classPartObject.validators.push({\n        validator: classDefinition,\n        classGroupId\n      });\n      return;\n    }\n    Object.entries(classDefinition).forEach(([key, classGroup]) => {\n      processClassesRecursively(classGroup, getPart(classPartObject, key), classGroupId, theme);\n    });\n  });\n};\nconst getPart = (classPartObject, path) => {\n  let currentClassPartObject = classPartObject;\n  path.split(CLASS_PART_SEPARATOR).forEach(pathPart => {\n    if (!currentClassPartObject.nextPart.has(pathPart)) {\n      currentClassPartObject.nextPart.set(pathPart, {\n        nextPart: new Map(),\n        validators: []\n      });\n    }\n    currentClassPartObject = currentClassPartObject.nextPart.get(pathPart);\n  });\n  return currentClassPartObject;\n};\nconst isThemeGetter = func => func.isThemeGetter;\n\n// LRU cache inspired from hashlru (https://github.com/dominictarr/hashlru/blob/v1.0.4/index.js) but object replaced with Map to improve performance\nconst createLruCache = maxCacheSize => {\n  if (maxCacheSize < 1) {\n    return {\n      get: () => undefined,\n      set: () => {}\n    };\n  }\n  let cacheSize = 0;\n  let cache = new Map();\n  let previousCache = new Map();\n  const update = (key, value) => {\n    cache.set(key, value);\n    cacheSize++;\n    if (cacheSize > maxCacheSize) {\n      cacheSize = 0;\n      previousCache = cache;\n      cache = new Map();\n    }\n  };\n  return {\n    get(key) {\n      let value = cache.get(key);\n      if (value !== undefined) {\n        return value;\n      }\n      if ((value = previousCache.get(key)) !== undefined) {\n        update(key, value);\n        return value;\n      }\n    },\n    set(key, value) {\n      if (cache.has(key)) {\n        cache.set(key, value);\n      } else {\n        update(key, value);\n      }\n    }\n  };\n};\nconst IMPORTANT_MODIFIER = '!';\nconst MODIFIER_SEPARATOR = ':';\nconst MODIFIER_SEPARATOR_LENGTH = MODIFIER_SEPARATOR.length;\nconst createParseClassName = config => {\n  const {\n    prefix,\n    experimentalParseClassName\n  } = config;\n  /**\n   * Parse class name into parts.\n   *\n   * Inspired by `splitAtTopLevelOnly` used in Tailwind CSS\n   * @see https://github.com/tailwindlabs/tailwindcss/blob/v3.2.2/src/util/splitAtTopLevelOnly.js\n   */\n  let parseClassName = className => {\n    const modifiers = [];\n    let bracketDepth = 0;\n    let parenDepth = 0;\n    let modifierStart = 0;\n    let postfixModifierPosition;\n    for (let index = 0; index < className.length; index++) {\n      let currentCharacter = className[index];\n      if (bracketDepth === 0 && parenDepth === 0) {\n        if (currentCharacter === MODIFIER_SEPARATOR) {\n          modifiers.push(className.slice(modifierStart, index));\n          modifierStart = index + MODIFIER_SEPARATOR_LENGTH;\n          continue;\n        }\n        if (currentCharacter === '/') {\n          postfixModifierPosition = index;\n          continue;\n        }\n      }\n      if (currentCharacter === '[') {\n        bracketDepth++;\n      } else if (currentCharacter === ']') {\n        bracketDepth--;\n      } else if (currentCharacter === '(') {\n        parenDepth++;\n      } else if (currentCharacter === ')') {\n        parenDepth--;\n      }\n    }\n    const baseClassNameWithImportantModifier = modifiers.length === 0 ? className : className.substring(modifierStart);\n    const baseClassName = stripImportantModifier(baseClassNameWithImportantModifier);\n    const hasImportantModifier = baseClassName !== baseClassNameWithImportantModifier;\n    const maybePostfixModifierPosition = postfixModifierPosition && postfixModifierPosition > modifierStart ? postfixModifierPosition - modifierStart : undefined;\n    return {\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    };\n  };\n  if (prefix) {\n    const fullPrefix = prefix + MODIFIER_SEPARATOR;\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => className.startsWith(fullPrefix) ? parseClassNameOriginal(className.substring(fullPrefix.length)) : {\n      isExternal: true,\n      modifiers: [],\n      hasImportantModifier: false,\n      baseClassName: className,\n      maybePostfixModifierPosition: undefined\n    };\n  }\n  if (experimentalParseClassName) {\n    const parseClassNameOriginal = parseClassName;\n    parseClassName = className => experimentalParseClassName({\n      className,\n      parseClassName: parseClassNameOriginal\n    });\n  }\n  return parseClassName;\n};\nconst stripImportantModifier = baseClassName => {\n  if (baseClassName.endsWith(IMPORTANT_MODIFIER)) {\n    return baseClassName.substring(0, baseClassName.length - 1);\n  }\n  /**\n   * In Tailwind CSS v3 the important modifier was at the start of the base class name. This is still supported for legacy reasons.\n   * @see https://github.com/dcastil/tailwind-merge/issues/513#issuecomment-2614029864\n   */\n  if (baseClassName.startsWith(IMPORTANT_MODIFIER)) {\n    return baseClassName.substring(1);\n  }\n  return baseClassName;\n};\n\n/**\n * Sorts modifiers according to following schema:\n * - Predefined modifiers are sorted alphabetically\n * - When an arbitrary variant appears, it must be preserved which modifiers are before and after it\n */\nconst createSortModifiers = config => {\n  const orderSensitiveModifiers = Object.fromEntries(config.orderSensitiveModifiers.map(modifier => [modifier, true]));\n  const sortModifiers = modifiers => {\n    if (modifiers.length <= 1) {\n      return modifiers;\n    }\n    const sortedModifiers = [];\n    let unsortedModifiers = [];\n    modifiers.forEach(modifier => {\n      const isPositionSensitive = modifier[0] === '[' || orderSensitiveModifiers[modifier];\n      if (isPositionSensitive) {\n        sortedModifiers.push(...unsortedModifiers.sort(), modifier);\n        unsortedModifiers = [];\n      } else {\n        unsortedModifiers.push(modifier);\n      }\n    });\n    sortedModifiers.push(...unsortedModifiers.sort());\n    return sortedModifiers;\n  };\n  return sortModifiers;\n};\nconst createConfigUtils = config => ({\n  cache: createLruCache(config.cacheSize),\n  parseClassName: createParseClassName(config),\n  sortModifiers: createSortModifiers(config),\n  ...createClassGroupUtils(config)\n});\nconst SPLIT_CLASSES_REGEX = /\\s+/;\nconst mergeClassList = (classList, configUtils) => {\n  const {\n    parseClassName,\n    getClassGroupId,\n    getConflictingClassGroupIds,\n    sortModifiers\n  } = configUtils;\n  /**\n   * Set of classGroupIds in following format:\n   * `{importantModifier}{variantModifiers}{classGroupId}`\n   * @example 'float'\n   * @example 'hover:focus:bg-color'\n   * @example 'md:!pr'\n   */\n  const classGroupsInConflict = [];\n  const classNames = classList.trim().split(SPLIT_CLASSES_REGEX);\n  let result = '';\n  for (let index = classNames.length - 1; index >= 0; index -= 1) {\n    const originalClassName = classNames[index];\n    const {\n      isExternal,\n      modifiers,\n      hasImportantModifier,\n      baseClassName,\n      maybePostfixModifierPosition\n    } = parseClassName(originalClassName);\n    if (isExternal) {\n      result = originalClassName + (result.length > 0 ? ' ' + result : result);\n      continue;\n    }\n    let hasPostfixModifier = !!maybePostfixModifierPosition;\n    let classGroupId = getClassGroupId(hasPostfixModifier ? baseClassName.substring(0, maybePostfixModifierPosition) : baseClassName);\n    if (!classGroupId) {\n      if (!hasPostfixModifier) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      classGroupId = getClassGroupId(baseClassName);\n      if (!classGroupId) {\n        // Not a Tailwind class\n        result = originalClassName + (result.length > 0 ? ' ' + result : result);\n        continue;\n      }\n      hasPostfixModifier = false;\n    }\n    const variantModifier = sortModifiers(modifiers).join(':');\n    const modifierId = hasImportantModifier ? variantModifier + IMPORTANT_MODIFIER : variantModifier;\n    const classId = modifierId + classGroupId;\n    if (classGroupsInConflict.includes(classId)) {\n      // Tailwind class omitted due to conflict\n      continue;\n    }\n    classGroupsInConflict.push(classId);\n    const conflictGroups = getConflictingClassGroupIds(classGroupId, hasPostfixModifier);\n    for (let i = 0; i < conflictGroups.length; ++i) {\n      const group = conflictGroups[i];\n      classGroupsInConflict.push(modifierId + group);\n    }\n    // Tailwind class not in conflict\n    result = originalClassName + (result.length > 0 ? ' ' + result : result);\n  }\n  return result;\n};\n\n/**\n * The code in this file is copied from https://github.com/lukeed/clsx and modified to suit the needs of tailwind-merge better.\n *\n * Specifically:\n * - Runtime code from https://github.com/lukeed/clsx/blob/v1.2.1/src/index.js\n * - TypeScript types from https://github.com/lukeed/clsx/blob/v1.2.1/clsx.d.ts\n *\n * Original code has MIT license: Copyright (c) Luke Edwards <luke.edwards05@gmail.com> (lukeed.com)\n */\nfunction twJoin() {\n  let index = 0;\n  let argument;\n  let resolvedValue;\n  let string = '';\n  while (index < arguments.length) {\n    if (argument = arguments[index++]) {\n      if (resolvedValue = toValue(argument)) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n}\nconst toValue = mix => {\n  if (typeof mix === 'string') {\n    return mix;\n  }\n  let resolvedValue;\n  let string = '';\n  for (let k = 0; k < mix.length; k++) {\n    if (mix[k]) {\n      if (resolvedValue = toValue(mix[k])) {\n        string && (string += ' ');\n        string += resolvedValue;\n      }\n    }\n  }\n  return string;\n};\nfunction createTailwindMerge(createConfigFirst, ...createConfigRest) {\n  let configUtils;\n  let cacheGet;\n  let cacheSet;\n  let functionToCall = initTailwindMerge;\n  function initTailwindMerge(classList) {\n    const config = createConfigRest.reduce((previousConfig, createConfigCurrent) => createConfigCurrent(previousConfig), createConfigFirst());\n    configUtils = createConfigUtils(config);\n    cacheGet = configUtils.cache.get;\n    cacheSet = configUtils.cache.set;\n    functionToCall = tailwindMerge;\n    return tailwindMerge(classList);\n  }\n  function tailwindMerge(classList) {\n    const cachedResult = cacheGet(classList);\n    if (cachedResult) {\n      return cachedResult;\n    }\n    const result = mergeClassList(classList, configUtils);\n    cacheSet(classList, result);\n    return result;\n  }\n  return function callTailwindMerge() {\n    return functionToCall(twJoin.apply(null, arguments));\n  };\n}\nconst fromTheme = key => {\n  const themeGetter = theme => theme[key] || [];\n  themeGetter.isThemeGetter = true;\n  return themeGetter;\n};\nconst arbitraryValueRegex = /^\\[(?:(\\w[\\w-]*):)?(.+)\\]$/i;\nconst arbitraryVariableRegex = /^\\((?:(\\w[\\w-]*):)?(.+)\\)$/i;\nconst fractionRegex = /^\\d+\\/\\d+$/;\nconst tshirtUnitRegex = /^(\\d+(\\.\\d+)?)?(xs|sm|md|lg|xl)$/;\nconst lengthUnitRegex = /\\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\\b(calc|min|max|clamp)\\(.+\\)|^0$/;\nconst colorFunctionRegex = /^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\\(.+\\)$/;\n// Shadow always begins with x and y offset separated by underscore optionally prepended by inset\nconst shadowRegex = /^(inset_)?-?((\\d+)?\\.?(\\d+)[a-z]+|0)_-?((\\d+)?\\.?(\\d+)[a-z]+|0)/;\nconst imageRegex = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\\(.+\\)$/;\nconst isFraction = value => fractionRegex.test(value);\nconst isNumber = value => !!value && !Number.isNaN(Number(value));\nconst isInteger = value => !!value && Number.isInteger(Number(value));\nconst isPercent = value => value.endsWith('%') && isNumber(value.slice(0, -1));\nconst isTshirtSize = value => tshirtUnitRegex.test(value);\nconst isAny = () => true;\nconst isLengthOnly = value =>\n// `colorFunctionRegex` check is necessary because color functions can have percentages in them which which would be incorrectly classified as lengths.\n// For example, `hsl(0 0% 0%)` would be classified as a length without this check.\n// I could also use lookbehind assertion in `lengthUnitRegex` but that isn't supported widely enough.\nlengthUnitRegex.test(value) && !colorFunctionRegex.test(value);\nconst isNever = () => false;\nconst isShadow = value => shadowRegex.test(value);\nconst isImage = value => imageRegex.test(value);\nconst isAnyNonArbitrary = value => !isArbitraryValue(value) && !isArbitraryVariable(value);\nconst isArbitrarySize = value => getIsArbitraryValue(value, isLabelSize, isNever);\nconst isArbitraryValue = value => arbitraryValueRegex.test(value);\nconst isArbitraryLength = value => getIsArbitraryValue(value, isLabelLength, isLengthOnly);\nconst isArbitraryNumber = value => getIsArbitraryValue(value, isLabelNumber, isNumber);\nconst isArbitraryPosition = value => getIsArbitraryValue(value, isLabelPosition, isNever);\nconst isArbitraryImage = value => getIsArbitraryValue(value, isLabelImage, isImage);\nconst isArbitraryShadow = value => getIsArbitraryValue(value, isLabelShadow, isShadow);\nconst isArbitraryVariable = value => arbitraryVariableRegex.test(value);\nconst isArbitraryVariableLength = value => getIsArbitraryVariable(value, isLabelLength);\nconst isArbitraryVariableFamilyName = value => getIsArbitraryVariable(value, isLabelFamilyName);\nconst isArbitraryVariablePosition = value => getIsArbitraryVariable(value, isLabelPosition);\nconst isArbitraryVariableSize = value => getIsArbitraryVariable(value, isLabelSize);\nconst isArbitraryVariableImage = value => getIsArbitraryVariable(value, isLabelImage);\nconst isArbitraryVariableShadow = value => getIsArbitraryVariable(value, isLabelShadow, true);\n// Helpers\nconst getIsArbitraryValue = (value, testLabel, testValue) => {\n  const result = arbitraryValueRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return testValue(result[2]);\n  }\n  return false;\n};\nconst getIsArbitraryVariable = (value, testLabel, shouldMatchNoLabel = false) => {\n  const result = arbitraryVariableRegex.exec(value);\n  if (result) {\n    if (result[1]) {\n      return testLabel(result[1]);\n    }\n    return shouldMatchNoLabel;\n  }\n  return false;\n};\n// Labels\nconst isLabelPosition = label => label === 'position' || label === 'percentage';\nconst isLabelImage = label => label === 'image' || label === 'url';\nconst isLabelSize = label => label === 'length' || label === 'size' || label === 'bg-size';\nconst isLabelLength = label => label === 'length';\nconst isLabelNumber = label => label === 'number';\nconst isLabelFamilyName = label => label === 'family-name';\nconst isLabelShadow = label => label === 'shadow';\nconst validators = /*#__PURE__*/Object.defineProperty({\n  __proto__: null,\n  isAny,\n  isAnyNonArbitrary,\n  isArbitraryImage,\n  isArbitraryLength,\n  isArbitraryNumber,\n  isArbitraryPosition,\n  isArbitraryShadow,\n  isArbitrarySize,\n  isArbitraryValue,\n  isArbitraryVariable,\n  isArbitraryVariableFamilyName,\n  isArbitraryVariableImage,\n  isArbitraryVariableLength,\n  isArbitraryVariablePosition,\n  isArbitraryVariableShadow,\n  isArbitraryVariableSize,\n  isFraction,\n  isInteger,\n  isNumber,\n  isPercent,\n  isTshirtSize\n}, Symbol.toStringTag, {\n  value: 'Module'\n});\nconst getDefaultConfig = () => {\n  /**\n   * Theme getters for theme variable namespaces\n   * @see https://tailwindcss.com/docs/theme#theme-variable-namespaces\n   */\n  /***/\n  const themeColor = fromTheme('color');\n  const themeFont = fromTheme('font');\n  const themeText = fromTheme('text');\n  const themeFontWeight = fromTheme('font-weight');\n  const themeTracking = fromTheme('tracking');\n  const themeLeading = fromTheme('leading');\n  const themeBreakpoint = fromTheme('breakpoint');\n  const themeContainer = fromTheme('container');\n  const themeSpacing = fromTheme('spacing');\n  const themeRadius = fromTheme('radius');\n  const themeShadow = fromTheme('shadow');\n  const themeInsetShadow = fromTheme('inset-shadow');\n  const themeTextShadow = fromTheme('text-shadow');\n  const themeDropShadow = fromTheme('drop-shadow');\n  const themeBlur = fromTheme('blur');\n  const themePerspective = fromTheme('perspective');\n  const themeAspect = fromTheme('aspect');\n  const themeEase = fromTheme('ease');\n  const themeAnimate = fromTheme('animate');\n  /**\n   * Helpers to avoid repeating the same scales\n   *\n   * We use functions that create a new array every time they're called instead of static arrays.\n   * This ensures that users who modify any scale by mutating the array (e.g. with `array.push(element)`) don't accidentally mutate arrays in other parts of the config.\n   */\n  /***/\n  const scaleBreak = () => ['auto', 'avoid', 'all', 'avoid-page', 'page', 'left', 'right', 'column'];\n  const scalePosition = () => ['center', 'top', 'bottom', 'left', 'right', 'top-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-top', 'top-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-top', 'bottom-right',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'right-bottom', 'bottom-left',\n  // Deprecated since Tailwind CSS v4.1.0, see https://github.com/tailwindlabs/tailwindcss/pull/17378\n  'left-bottom'];\n  const scalePositionWithArbitrary = () => [...scalePosition(), isArbitraryVariable, isArbitraryValue];\n  const scaleOverflow = () => ['auto', 'hidden', 'clip', 'visible', 'scroll'];\n  const scaleOverscroll = () => ['auto', 'contain', 'none'];\n  const scaleUnambiguousSpacing = () => [isArbitraryVariable, isArbitraryValue, themeSpacing];\n  const scaleInset = () => [isFraction, 'full', 'auto', ...scaleUnambiguousSpacing()];\n  const scaleGridTemplateColsRows = () => [isInteger, 'none', 'subgrid', isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartAndEnd = () => ['auto', {\n    span: ['full', isInteger, isArbitraryVariable, isArbitraryValue]\n  }, isInteger, isArbitraryVariable, isArbitraryValue];\n  const scaleGridColRowStartOrEnd = () => [isInteger, 'auto', isArbitraryVariable, isArbitraryValue];\n  const scaleGridAutoColsRows = () => ['auto', 'min', 'max', 'fr', isArbitraryVariable, isArbitraryValue];\n  const scaleAlignPrimaryAxis = () => ['start', 'end', 'center', 'between', 'around', 'evenly', 'stretch', 'baseline', 'center-safe', 'end-safe'];\n  const scaleAlignSecondaryAxis = () => ['start', 'end', 'center', 'stretch', 'center-safe', 'end-safe'];\n  const scaleMargin = () => ['auto', ...scaleUnambiguousSpacing()];\n  const scaleSizing = () => [isFraction, 'auto', 'full', 'dvw', 'dvh', 'lvw', 'lvh', 'svw', 'svh', 'min', 'max', 'fit', ...scaleUnambiguousSpacing()];\n  const scaleColor = () => [themeColor, isArbitraryVariable, isArbitraryValue];\n  const scaleBgPosition = () => [...scalePosition(), isArbitraryVariablePosition, isArbitraryPosition, {\n    position: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleBgRepeat = () => ['no-repeat', {\n    repeat: ['', 'x', 'y', 'space', 'round']\n  }];\n  const scaleBgSize = () => ['auto', 'cover', 'contain', isArbitraryVariableSize, isArbitrarySize, {\n    size: [isArbitraryVariable, isArbitraryValue]\n  }];\n  const scaleGradientStopPosition = () => [isPercent, isArbitraryVariableLength, isArbitraryLength];\n  const scaleRadius = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', 'full', themeRadius, isArbitraryVariable, isArbitraryValue];\n  const scaleBorderWidth = () => ['', isNumber, isArbitraryVariableLength, isArbitraryLength];\n  const scaleLineStyle = () => ['solid', 'dashed', 'dotted', 'double'];\n  const scaleBlendMode = () => ['normal', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n  const scaleMaskImagePosition = () => [isNumber, isPercent, isArbitraryVariablePosition, isArbitraryPosition];\n  const scaleBlur = () => [\n  // Deprecated since Tailwind CSS v4.0.0\n  '', 'none', themeBlur, isArbitraryVariable, isArbitraryValue];\n  const scaleRotate = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleScale = () => ['none', isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleSkew = () => [isNumber, isArbitraryVariable, isArbitraryValue];\n  const scaleTranslate = () => [isFraction, 'full', ...scaleUnambiguousSpacing()];\n  return {\n    cacheSize: 500,\n    theme: {\n      animate: ['spin', 'ping', 'pulse', 'bounce'],\n      aspect: ['video'],\n      blur: [isTshirtSize],\n      breakpoint: [isTshirtSize],\n      color: [isAny],\n      container: [isTshirtSize],\n      'drop-shadow': [isTshirtSize],\n      ease: ['in', 'out', 'in-out'],\n      font: [isAnyNonArbitrary],\n      'font-weight': ['thin', 'extralight', 'light', 'normal', 'medium', 'semibold', 'bold', 'extrabold', 'black'],\n      'inset-shadow': [isTshirtSize],\n      leading: ['none', 'tight', 'snug', 'normal', 'relaxed', 'loose'],\n      perspective: ['dramatic', 'near', 'normal', 'midrange', 'distant', 'none'],\n      radius: [isTshirtSize],\n      shadow: [isTshirtSize],\n      spacing: ['px', isNumber],\n      text: [isTshirtSize],\n      'text-shadow': [isTshirtSize],\n      tracking: ['tighter', 'tight', 'normal', 'wide', 'wider', 'widest']\n    },\n    classGroups: {\n      // --------------\n      // --- Layout ---\n      // --------------\n      /**\n       * Aspect Ratio\n       * @see https://tailwindcss.com/docs/aspect-ratio\n       */\n      aspect: [{\n        aspect: ['auto', 'square', isFraction, isArbitraryValue, isArbitraryVariable, themeAspect]\n      }],\n      /**\n       * Container\n       * @see https://tailwindcss.com/docs/container\n       * @deprecated since Tailwind CSS v4.0.0\n       */\n      container: ['container'],\n      /**\n       * Columns\n       * @see https://tailwindcss.com/docs/columns\n       */\n      columns: [{\n        columns: [isNumber, isArbitraryValue, isArbitraryVariable, themeContainer]\n      }],\n      /**\n       * Break After\n       * @see https://tailwindcss.com/docs/break-after\n       */\n      'break-after': [{\n        'break-after': scaleBreak()\n      }],\n      /**\n       * Break Before\n       * @see https://tailwindcss.com/docs/break-before\n       */\n      'break-before': [{\n        'break-before': scaleBreak()\n      }],\n      /**\n       * Break Inside\n       * @see https://tailwindcss.com/docs/break-inside\n       */\n      'break-inside': [{\n        'break-inside': ['auto', 'avoid', 'avoid-page', 'avoid-column']\n      }],\n      /**\n       * Box Decoration Break\n       * @see https://tailwindcss.com/docs/box-decoration-break\n       */\n      'box-decoration': [{\n        'box-decoration': ['slice', 'clone']\n      }],\n      /**\n       * Box Sizing\n       * @see https://tailwindcss.com/docs/box-sizing\n       */\n      box: [{\n        box: ['border', 'content']\n      }],\n      /**\n       * Display\n       * @see https://tailwindcss.com/docs/display\n       */\n      display: ['block', 'inline-block', 'inline', 'flex', 'inline-flex', 'table', 'inline-table', 'table-caption', 'table-cell', 'table-column', 'table-column-group', 'table-footer-group', 'table-header-group', 'table-row-group', 'table-row', 'flow-root', 'grid', 'inline-grid', 'contents', 'list-item', 'hidden'],\n      /**\n       * Screen Reader Only\n       * @see https://tailwindcss.com/docs/display#screen-reader-only\n       */\n      sr: ['sr-only', 'not-sr-only'],\n      /**\n       * Floats\n       * @see https://tailwindcss.com/docs/float\n       */\n      float: [{\n        float: ['right', 'left', 'none', 'start', 'end']\n      }],\n      /**\n       * Clear\n       * @see https://tailwindcss.com/docs/clear\n       */\n      clear: [{\n        clear: ['left', 'right', 'both', 'none', 'start', 'end']\n      }],\n      /**\n       * Isolation\n       * @see https://tailwindcss.com/docs/isolation\n       */\n      isolation: ['isolate', 'isolation-auto'],\n      /**\n       * Object Fit\n       * @see https://tailwindcss.com/docs/object-fit\n       */\n      'object-fit': [{\n        object: ['contain', 'cover', 'fill', 'none', 'scale-down']\n      }],\n      /**\n       * Object Position\n       * @see https://tailwindcss.com/docs/object-position\n       */\n      'object-position': [{\n        object: scalePositionWithArbitrary()\n      }],\n      /**\n       * Overflow\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      overflow: [{\n        overflow: scaleOverflow()\n      }],\n      /**\n       * Overflow X\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-x': [{\n        'overflow-x': scaleOverflow()\n      }],\n      /**\n       * Overflow Y\n       * @see https://tailwindcss.com/docs/overflow\n       */\n      'overflow-y': [{\n        'overflow-y': scaleOverflow()\n      }],\n      /**\n       * Overscroll Behavior\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      overscroll: [{\n        overscroll: scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior X\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-x': [{\n        'overscroll-x': scaleOverscroll()\n      }],\n      /**\n       * Overscroll Behavior Y\n       * @see https://tailwindcss.com/docs/overscroll-behavior\n       */\n      'overscroll-y': [{\n        'overscroll-y': scaleOverscroll()\n      }],\n      /**\n       * Position\n       * @see https://tailwindcss.com/docs/position\n       */\n      position: ['static', 'fixed', 'absolute', 'relative', 'sticky'],\n      /**\n       * Top / Right / Bottom / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      inset: [{\n        inset: scaleInset()\n      }],\n      /**\n       * Right / Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-x': [{\n        'inset-x': scaleInset()\n      }],\n      /**\n       * Top / Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      'inset-y': [{\n        'inset-y': scaleInset()\n      }],\n      /**\n       * Start\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      start: [{\n        start: scaleInset()\n      }],\n      /**\n       * End\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      end: [{\n        end: scaleInset()\n      }],\n      /**\n       * Top\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      top: [{\n        top: scaleInset()\n      }],\n      /**\n       * Right\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      right: [{\n        right: scaleInset()\n      }],\n      /**\n       * Bottom\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      bottom: [{\n        bottom: scaleInset()\n      }],\n      /**\n       * Left\n       * @see https://tailwindcss.com/docs/top-right-bottom-left\n       */\n      left: [{\n        left: scaleInset()\n      }],\n      /**\n       * Visibility\n       * @see https://tailwindcss.com/docs/visibility\n       */\n      visibility: ['visible', 'invisible', 'collapse'],\n      /**\n       * Z-Index\n       * @see https://tailwindcss.com/docs/z-index\n       */\n      z: [{\n        z: [isInteger, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------------\n      // --- Flexbox and Grid ---\n      // ------------------------\n      /**\n       * Flex Basis\n       * @see https://tailwindcss.com/docs/flex-basis\n       */\n      basis: [{\n        basis: [isFraction, 'full', 'auto', themeContainer, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * Flex Direction\n       * @see https://tailwindcss.com/docs/flex-direction\n       */\n      'flex-direction': [{\n        flex: ['row', 'row-reverse', 'col', 'col-reverse']\n      }],\n      /**\n       * Flex Wrap\n       * @see https://tailwindcss.com/docs/flex-wrap\n       */\n      'flex-wrap': [{\n        flex: ['nowrap', 'wrap', 'wrap-reverse']\n      }],\n      /**\n       * Flex\n       * @see https://tailwindcss.com/docs/flex\n       */\n      flex: [{\n        flex: [isNumber, isFraction, 'auto', 'initial', 'none', isArbitraryValue]\n      }],\n      /**\n       * Flex Grow\n       * @see https://tailwindcss.com/docs/flex-grow\n       */\n      grow: [{\n        grow: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Flex Shrink\n       * @see https://tailwindcss.com/docs/flex-shrink\n       */\n      shrink: [{\n        shrink: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Order\n       * @see https://tailwindcss.com/docs/order\n       */\n      order: [{\n        order: [isInteger, 'first', 'last', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Grid Template Columns\n       * @see https://tailwindcss.com/docs/grid-template-columns\n       */\n      'grid-cols': [{\n        'grid-cols': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Column Start / End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start-end': [{\n        col: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Column Start\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-start': [{\n        'col-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Column End\n       * @see https://tailwindcss.com/docs/grid-column\n       */\n      'col-end': [{\n        'col-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Template Rows\n       * @see https://tailwindcss.com/docs/grid-template-rows\n       */\n      'grid-rows': [{\n        'grid-rows': scaleGridTemplateColsRows()\n      }],\n      /**\n       * Grid Row Start / End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start-end': [{\n        row: scaleGridColRowStartAndEnd()\n      }],\n      /**\n       * Grid Row Start\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-start': [{\n        'row-start': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Row End\n       * @see https://tailwindcss.com/docs/grid-row\n       */\n      'row-end': [{\n        'row-end': scaleGridColRowStartOrEnd()\n      }],\n      /**\n       * Grid Auto Flow\n       * @see https://tailwindcss.com/docs/grid-auto-flow\n       */\n      'grid-flow': [{\n        'grid-flow': ['row', 'col', 'dense', 'row-dense', 'col-dense']\n      }],\n      /**\n       * Grid Auto Columns\n       * @see https://tailwindcss.com/docs/grid-auto-columns\n       */\n      'auto-cols': [{\n        'auto-cols': scaleGridAutoColsRows()\n      }],\n      /**\n       * Grid Auto Rows\n       * @see https://tailwindcss.com/docs/grid-auto-rows\n       */\n      'auto-rows': [{\n        'auto-rows': scaleGridAutoColsRows()\n      }],\n      /**\n       * Gap\n       * @see https://tailwindcss.com/docs/gap\n       */\n      gap: [{\n        gap: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap X\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-x': [{\n        'gap-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Gap Y\n       * @see https://tailwindcss.com/docs/gap\n       */\n      'gap-y': [{\n        'gap-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Justify Content\n       * @see https://tailwindcss.com/docs/justify-content\n       */\n      'justify-content': [{\n        justify: [...scaleAlignPrimaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Items\n       * @see https://tailwindcss.com/docs/justify-items\n       */\n      'justify-items': [{\n        'justify-items': [...scaleAlignSecondaryAxis(), 'normal']\n      }],\n      /**\n       * Justify Self\n       * @see https://tailwindcss.com/docs/justify-self\n       */\n      'justify-self': [{\n        'justify-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      /**\n       * Align Content\n       * @see https://tailwindcss.com/docs/align-content\n       */\n      'align-content': [{\n        content: ['normal', ...scaleAlignPrimaryAxis()]\n      }],\n      /**\n       * Align Items\n       * @see https://tailwindcss.com/docs/align-items\n       */\n      'align-items': [{\n        items: [...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Align Self\n       * @see https://tailwindcss.com/docs/align-self\n       */\n      'align-self': [{\n        self: ['auto', ...scaleAlignSecondaryAxis(), {\n          baseline: ['', 'last']\n        }]\n      }],\n      /**\n       * Place Content\n       * @see https://tailwindcss.com/docs/place-content\n       */\n      'place-content': [{\n        'place-content': scaleAlignPrimaryAxis()\n      }],\n      /**\n       * Place Items\n       * @see https://tailwindcss.com/docs/place-items\n       */\n      'place-items': [{\n        'place-items': [...scaleAlignSecondaryAxis(), 'baseline']\n      }],\n      /**\n       * Place Self\n       * @see https://tailwindcss.com/docs/place-self\n       */\n      'place-self': [{\n        'place-self': ['auto', ...scaleAlignSecondaryAxis()]\n      }],\n      // Spacing\n      /**\n       * Padding\n       * @see https://tailwindcss.com/docs/padding\n       */\n      p: [{\n        p: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding X\n       * @see https://tailwindcss.com/docs/padding\n       */\n      px: [{\n        px: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Y\n       * @see https://tailwindcss.com/docs/padding\n       */\n      py: [{\n        py: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Start\n       * @see https://tailwindcss.com/docs/padding\n       */\n      ps: [{\n        ps: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding End\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pe: [{\n        pe: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Top\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pt: [{\n        pt: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Right\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pr: [{\n        pr: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Bottom\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pb: [{\n        pb: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Padding Left\n       * @see https://tailwindcss.com/docs/padding\n       */\n      pl: [{\n        pl: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Margin\n       * @see https://tailwindcss.com/docs/margin\n       */\n      m: [{\n        m: scaleMargin()\n      }],\n      /**\n       * Margin X\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mx: [{\n        mx: scaleMargin()\n      }],\n      /**\n       * Margin Y\n       * @see https://tailwindcss.com/docs/margin\n       */\n      my: [{\n        my: scaleMargin()\n      }],\n      /**\n       * Margin Start\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ms: [{\n        ms: scaleMargin()\n      }],\n      /**\n       * Margin End\n       * @see https://tailwindcss.com/docs/margin\n       */\n      me: [{\n        me: scaleMargin()\n      }],\n      /**\n       * Margin Top\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mt: [{\n        mt: scaleMargin()\n      }],\n      /**\n       * Margin Right\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mr: [{\n        mr: scaleMargin()\n      }],\n      /**\n       * Margin Bottom\n       * @see https://tailwindcss.com/docs/margin\n       */\n      mb: [{\n        mb: scaleMargin()\n      }],\n      /**\n       * Margin Left\n       * @see https://tailwindcss.com/docs/margin\n       */\n      ml: [{\n        ml: scaleMargin()\n      }],\n      /**\n       * Space Between X\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x': [{\n        'space-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between X Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-x-reverse': ['space-x-reverse'],\n      /**\n       * Space Between Y\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y': [{\n        'space-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Space Between Y Reverse\n       * @see https://tailwindcss.com/docs/margin#adding-space-between-children\n       */\n      'space-y-reverse': ['space-y-reverse'],\n      // --------------\n      // --- Sizing ---\n      // --------------\n      /**\n       * Size\n       * @see https://tailwindcss.com/docs/width#setting-both-width-and-height\n       */\n      size: [{\n        size: scaleSizing()\n      }],\n      /**\n       * Width\n       * @see https://tailwindcss.com/docs/width\n       */\n      w: [{\n        w: [themeContainer, 'screen', ...scaleSizing()]\n      }],\n      /**\n       * Min-Width\n       * @see https://tailwindcss.com/docs/min-width\n       */\n      'min-w': [{\n        'min-w': [themeContainer, 'screen', /** Deprecated. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Width\n       * @see https://tailwindcss.com/docs/max-width\n       */\n      'max-w': [{\n        'max-w': [themeContainer, 'screen', 'none', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        'prose', /** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        {\n          screen: [themeBreakpoint]\n        }, ...scaleSizing()]\n      }],\n      /**\n       * Height\n       * @see https://tailwindcss.com/docs/height\n       */\n      h: [{\n        h: ['screen', 'lh', ...scaleSizing()]\n      }],\n      /**\n       * Min-Height\n       * @see https://tailwindcss.com/docs/min-height\n       */\n      'min-h': [{\n        'min-h': ['screen', 'lh', 'none', ...scaleSizing()]\n      }],\n      /**\n       * Max-Height\n       * @see https://tailwindcss.com/docs/max-height\n       */\n      'max-h': [{\n        'max-h': ['screen', 'lh', ...scaleSizing()]\n      }],\n      // ------------------\n      // --- Typography ---\n      // ------------------\n      /**\n       * Font Size\n       * @see https://tailwindcss.com/docs/font-size\n       */\n      'font-size': [{\n        text: ['base', themeText, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Font Smoothing\n       * @see https://tailwindcss.com/docs/font-smoothing\n       */\n      'font-smoothing': ['antialiased', 'subpixel-antialiased'],\n      /**\n       * Font Style\n       * @see https://tailwindcss.com/docs/font-style\n       */\n      'font-style': ['italic', 'not-italic'],\n      /**\n       * Font Weight\n       * @see https://tailwindcss.com/docs/font-weight\n       */\n      'font-weight': [{\n        font: [themeFontWeight, isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Font Stretch\n       * @see https://tailwindcss.com/docs/font-stretch\n       */\n      'font-stretch': [{\n        'font-stretch': ['ultra-condensed', 'extra-condensed', 'condensed', 'semi-condensed', 'normal', 'semi-expanded', 'expanded', 'extra-expanded', 'ultra-expanded', isPercent, isArbitraryValue]\n      }],\n      /**\n       * Font Family\n       * @see https://tailwindcss.com/docs/font-family\n       */\n      'font-family': [{\n        font: [isArbitraryVariableFamilyName, isArbitraryValue, themeFont]\n      }],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-normal': ['normal-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-ordinal': ['ordinal'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-slashed-zero': ['slashed-zero'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-figure': ['lining-nums', 'oldstyle-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-spacing': ['proportional-nums', 'tabular-nums'],\n      /**\n       * Font Variant Numeric\n       * @see https://tailwindcss.com/docs/font-variant-numeric\n       */\n      'fvn-fraction': ['diagonal-fractions', 'stacked-fractions'],\n      /**\n       * Letter Spacing\n       * @see https://tailwindcss.com/docs/letter-spacing\n       */\n      tracking: [{\n        tracking: [themeTracking, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Line Clamp\n       * @see https://tailwindcss.com/docs/line-clamp\n       */\n      'line-clamp': [{\n        'line-clamp': [isNumber, 'none', isArbitraryVariable, isArbitraryNumber]\n      }],\n      /**\n       * Line Height\n       * @see https://tailwindcss.com/docs/line-height\n       */\n      leading: [{\n        leading: [/** Deprecated since Tailwind CSS v4.0.0. @see https://github.com/tailwindlabs/tailwindcss.com/issues/2027#issuecomment-2620152757 */\n        themeLeading, ...scaleUnambiguousSpacing()]\n      }],\n      /**\n       * List Style Image\n       * @see https://tailwindcss.com/docs/list-style-image\n       */\n      'list-image': [{\n        'list-image': ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * List Style Position\n       * @see https://tailwindcss.com/docs/list-style-position\n       */\n      'list-style-position': [{\n        list: ['inside', 'outside']\n      }],\n      /**\n       * List Style Type\n       * @see https://tailwindcss.com/docs/list-style-type\n       */\n      'list-style-type': [{\n        list: ['disc', 'decimal', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Alignment\n       * @see https://tailwindcss.com/docs/text-align\n       */\n      'text-alignment': [{\n        text: ['left', 'center', 'right', 'justify', 'start', 'end']\n      }],\n      /**\n       * Placeholder Color\n       * @deprecated since Tailwind CSS v3.0.0\n       * @see https://v3.tailwindcss.com/docs/placeholder-color\n       */\n      'placeholder-color': [{\n        placeholder: scaleColor()\n      }],\n      /**\n       * Text Color\n       * @see https://tailwindcss.com/docs/text-color\n       */\n      'text-color': [{\n        text: scaleColor()\n      }],\n      /**\n       * Text Decoration\n       * @see https://tailwindcss.com/docs/text-decoration\n       */\n      'text-decoration': ['underline', 'overline', 'line-through', 'no-underline'],\n      /**\n       * Text Decoration Style\n       * @see https://tailwindcss.com/docs/text-decoration-style\n       */\n      'text-decoration-style': [{\n        decoration: [...scaleLineStyle(), 'wavy']\n      }],\n      /**\n       * Text Decoration Thickness\n       * @see https://tailwindcss.com/docs/text-decoration-thickness\n       */\n      'text-decoration-thickness': [{\n        decoration: [isNumber, 'from-font', 'auto', isArbitraryVariable, isArbitraryLength]\n      }],\n      /**\n       * Text Decoration Color\n       * @see https://tailwindcss.com/docs/text-decoration-color\n       */\n      'text-decoration-color': [{\n        decoration: scaleColor()\n      }],\n      /**\n       * Text Underline Offset\n       * @see https://tailwindcss.com/docs/text-underline-offset\n       */\n      'underline-offset': [{\n        'underline-offset': [isNumber, 'auto', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Text Transform\n       * @see https://tailwindcss.com/docs/text-transform\n       */\n      'text-transform': ['uppercase', 'lowercase', 'capitalize', 'normal-case'],\n      /**\n       * Text Overflow\n       * @see https://tailwindcss.com/docs/text-overflow\n       */\n      'text-overflow': ['truncate', 'text-ellipsis', 'text-clip'],\n      /**\n       * Text Wrap\n       * @see https://tailwindcss.com/docs/text-wrap\n       */\n      'text-wrap': [{\n        text: ['wrap', 'nowrap', 'balance', 'pretty']\n      }],\n      /**\n       * Text Indent\n       * @see https://tailwindcss.com/docs/text-indent\n       */\n      indent: [{\n        indent: scaleUnambiguousSpacing()\n      }],\n      /**\n       * Vertical Alignment\n       * @see https://tailwindcss.com/docs/vertical-align\n       */\n      'vertical-align': [{\n        align: ['baseline', 'top', 'middle', 'bottom', 'text-top', 'text-bottom', 'sub', 'super', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Whitespace\n       * @see https://tailwindcss.com/docs/whitespace\n       */\n      whitespace: [{\n        whitespace: ['normal', 'nowrap', 'pre', 'pre-line', 'pre-wrap', 'break-spaces']\n      }],\n      /**\n       * Word Break\n       * @see https://tailwindcss.com/docs/word-break\n       */\n      break: [{\n        break: ['normal', 'words', 'all', 'keep']\n      }],\n      /**\n       * Overflow Wrap\n       * @see https://tailwindcss.com/docs/overflow-wrap\n       */\n      wrap: [{\n        wrap: ['break-word', 'anywhere', 'normal']\n      }],\n      /**\n       * Hyphens\n       * @see https://tailwindcss.com/docs/hyphens\n       */\n      hyphens: [{\n        hyphens: ['none', 'manual', 'auto']\n      }],\n      /**\n       * Content\n       * @see https://tailwindcss.com/docs/content\n       */\n      content: [{\n        content: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -------------------\n      // --- Backgrounds ---\n      // -------------------\n      /**\n       * Background Attachment\n       * @see https://tailwindcss.com/docs/background-attachment\n       */\n      'bg-attachment': [{\n        bg: ['fixed', 'local', 'scroll']\n      }],\n      /**\n       * Background Clip\n       * @see https://tailwindcss.com/docs/background-clip\n       */\n      'bg-clip': [{\n        'bg-clip': ['border', 'padding', 'content', 'text']\n      }],\n      /**\n       * Background Origin\n       * @see https://tailwindcss.com/docs/background-origin\n       */\n      'bg-origin': [{\n        'bg-origin': ['border', 'padding', 'content']\n      }],\n      /**\n       * Background Position\n       * @see https://tailwindcss.com/docs/background-position\n       */\n      'bg-position': [{\n        bg: scaleBgPosition()\n      }],\n      /**\n       * Background Repeat\n       * @see https://tailwindcss.com/docs/background-repeat\n       */\n      'bg-repeat': [{\n        bg: scaleBgRepeat()\n      }],\n      /**\n       * Background Size\n       * @see https://tailwindcss.com/docs/background-size\n       */\n      'bg-size': [{\n        bg: scaleBgSize()\n      }],\n      /**\n       * Background Image\n       * @see https://tailwindcss.com/docs/background-image\n       */\n      'bg-image': [{\n        bg: ['none', {\n          linear: [{\n            to: ['t', 'tr', 'r', 'br', 'b', 'bl', 'l', 'tl']\n          }, isInteger, isArbitraryVariable, isArbitraryValue],\n          radial: ['', isArbitraryVariable, isArbitraryValue],\n          conic: [isInteger, isArbitraryVariable, isArbitraryValue]\n        }, isArbitraryVariableImage, isArbitraryImage]\n      }],\n      /**\n       * Background Color\n       * @see https://tailwindcss.com/docs/background-color\n       */\n      'bg-color': [{\n        bg: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops From Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from-pos': [{\n        from: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops Via Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via-pos': [{\n        via: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops To Position\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to-pos': [{\n        to: scaleGradientStopPosition()\n      }],\n      /**\n       * Gradient Color Stops From\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-from': [{\n        from: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops Via\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-via': [{\n        via: scaleColor()\n      }],\n      /**\n       * Gradient Color Stops To\n       * @see https://tailwindcss.com/docs/gradient-color-stops\n       */\n      'gradient-to': [{\n        to: scaleColor()\n      }],\n      // ---------------\n      // --- Borders ---\n      // ---------------\n      /**\n       * Border Radius\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      rounded: [{\n        rounded: scaleRadius()\n      }],\n      /**\n       * Border Radius Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-s': [{\n        'rounded-s': scaleRadius()\n      }],\n      /**\n       * Border Radius End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-e': [{\n        'rounded-e': scaleRadius()\n      }],\n      /**\n       * Border Radius Top\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-t': [{\n        'rounded-t': scaleRadius()\n      }],\n      /**\n       * Border Radius Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-r': [{\n        'rounded-r': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-b': [{\n        'rounded-b': scaleRadius()\n      }],\n      /**\n       * Border Radius Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-l': [{\n        'rounded-l': scaleRadius()\n      }],\n      /**\n       * Border Radius Start Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ss': [{\n        'rounded-ss': scaleRadius()\n      }],\n      /**\n       * Border Radius Start End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-se': [{\n        'rounded-se': scaleRadius()\n      }],\n      /**\n       * Border Radius End End\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-ee': [{\n        'rounded-ee': scaleRadius()\n      }],\n      /**\n       * Border Radius End Start\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-es': [{\n        'rounded-es': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tl': [{\n        'rounded-tl': scaleRadius()\n      }],\n      /**\n       * Border Radius Top Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-tr': [{\n        'rounded-tr': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Right\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-br': [{\n        'rounded-br': scaleRadius()\n      }],\n      /**\n       * Border Radius Bottom Left\n       * @see https://tailwindcss.com/docs/border-radius\n       */\n      'rounded-bl': [{\n        'rounded-bl': scaleRadius()\n      }],\n      /**\n       * Border Width\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w': [{\n        border: scaleBorderWidth()\n      }],\n      /**\n       * Border Width X\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-x': [{\n        'border-x': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Y\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-y': [{\n        'border-y': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Start\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-s': [{\n        'border-s': scaleBorderWidth()\n      }],\n      /**\n       * Border Width End\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-e': [{\n        'border-e': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Top\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-t': [{\n        'border-t': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Right\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-r': [{\n        'border-r': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Bottom\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-b': [{\n        'border-b': scaleBorderWidth()\n      }],\n      /**\n       * Border Width Left\n       * @see https://tailwindcss.com/docs/border-width\n       */\n      'border-w-l': [{\n        'border-l': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x': [{\n        'divide-x': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width X Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-x-reverse': ['divide-x-reverse'],\n      /**\n       * Divide Width Y\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y': [{\n        'divide-y': scaleBorderWidth()\n      }],\n      /**\n       * Divide Width Y Reverse\n       * @see https://tailwindcss.com/docs/border-width#between-children\n       */\n      'divide-y-reverse': ['divide-y-reverse'],\n      /**\n       * Border Style\n       * @see https://tailwindcss.com/docs/border-style\n       */\n      'border-style': [{\n        border: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Divide Style\n       * @see https://tailwindcss.com/docs/border-style#setting-the-divider-style\n       */\n      'divide-style': [{\n        divide: [...scaleLineStyle(), 'hidden', 'none']\n      }],\n      /**\n       * Border Color\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color': [{\n        border: scaleColor()\n      }],\n      /**\n       * Border Color X\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-x': [{\n        'border-x': scaleColor()\n      }],\n      /**\n       * Border Color Y\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-y': [{\n        'border-y': scaleColor()\n      }],\n      /**\n       * Border Color S\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-s': [{\n        'border-s': scaleColor()\n      }],\n      /**\n       * Border Color E\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-e': [{\n        'border-e': scaleColor()\n      }],\n      /**\n       * Border Color Top\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-t': [{\n        'border-t': scaleColor()\n      }],\n      /**\n       * Border Color Right\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-r': [{\n        'border-r': scaleColor()\n      }],\n      /**\n       * Border Color Bottom\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-b': [{\n        'border-b': scaleColor()\n      }],\n      /**\n       * Border Color Left\n       * @see https://tailwindcss.com/docs/border-color\n       */\n      'border-color-l': [{\n        'border-l': scaleColor()\n      }],\n      /**\n       * Divide Color\n       * @see https://tailwindcss.com/docs/divide-color\n       */\n      'divide-color': [{\n        divide: scaleColor()\n      }],\n      /**\n       * Outline Style\n       * @see https://tailwindcss.com/docs/outline-style\n       */\n      'outline-style': [{\n        outline: [...scaleLineStyle(), 'none', 'hidden']\n      }],\n      /**\n       * Outline Offset\n       * @see https://tailwindcss.com/docs/outline-offset\n       */\n      'outline-offset': [{\n        'outline-offset': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Outline Width\n       * @see https://tailwindcss.com/docs/outline-width\n       */\n      'outline-w': [{\n        outline: ['', isNumber, isArbitraryVariableLength, isArbitraryLength]\n      }],\n      /**\n       * Outline Color\n       * @see https://tailwindcss.com/docs/outline-color\n       */\n      'outline-color': [{\n        outline: scaleColor()\n      }],\n      // ---------------\n      // --- Effects ---\n      // ---------------\n      /**\n       * Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow\n       */\n      shadow: [{\n        shadow: [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-shadow-color\n       */\n      'shadow-color': [{\n        shadow: scaleColor()\n      }],\n      /**\n       * Inset Box Shadow\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-shadow\n       */\n      'inset-shadow': [{\n        'inset-shadow': ['none', themeInsetShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Inset Box Shadow Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-shadow-color\n       */\n      'inset-shadow-color': [{\n        'inset-shadow': scaleColor()\n      }],\n      /**\n       * Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-a-ring\n       */\n      'ring-w': [{\n        ring: scaleBorderWidth()\n      }],\n      /**\n       * Ring Width Inset\n       * @see https://v3.tailwindcss.com/docs/ring-width#inset-rings\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-w-inset': ['ring-inset'],\n      /**\n       * Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-ring-color\n       */\n      'ring-color': [{\n        ring: scaleColor()\n      }],\n      /**\n       * Ring Offset Width\n       * @see https://v3.tailwindcss.com/docs/ring-offset-width\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-w': [{\n        'ring-offset': [isNumber, isArbitraryLength]\n      }],\n      /**\n       * Ring Offset Color\n       * @see https://v3.tailwindcss.com/docs/ring-offset-color\n       * @deprecated since Tailwind CSS v4.0.0\n       * @see https://github.com/tailwindlabs/tailwindcss/blob/v4.0.0/packages/tailwindcss/src/utilities.ts#L4158\n       */\n      'ring-offset-color': [{\n        'ring-offset': scaleColor()\n      }],\n      /**\n       * Inset Ring Width\n       * @see https://tailwindcss.com/docs/box-shadow#adding-an-inset-ring\n       */\n      'inset-ring-w': [{\n        'inset-ring': scaleBorderWidth()\n      }],\n      /**\n       * Inset Ring Color\n       * @see https://tailwindcss.com/docs/box-shadow#setting-the-inset-ring-color\n       */\n      'inset-ring-color': [{\n        'inset-ring': scaleColor()\n      }],\n      /**\n       * Text Shadow\n       * @see https://tailwindcss.com/docs/text-shadow\n       */\n      'text-shadow': [{\n        'text-shadow': ['none', themeTextShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Text Shadow Color\n       * @see https://tailwindcss.com/docs/text-shadow#setting-the-shadow-color\n       */\n      'text-shadow-color': [{\n        'text-shadow': scaleColor()\n      }],\n      /**\n       * Opacity\n       * @see https://tailwindcss.com/docs/opacity\n       */\n      opacity: [{\n        opacity: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Mix Blend Mode\n       * @see https://tailwindcss.com/docs/mix-blend-mode\n       */\n      'mix-blend': [{\n        'mix-blend': [...scaleBlendMode(), 'plus-darker', 'plus-lighter']\n      }],\n      /**\n       * Background Blend Mode\n       * @see https://tailwindcss.com/docs/background-blend-mode\n       */\n      'bg-blend': [{\n        'bg-blend': scaleBlendMode()\n      }],\n      /**\n       * Mask Clip\n       * @see https://tailwindcss.com/docs/mask-clip\n       */\n      'mask-clip': [{\n        'mask-clip': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }, 'mask-no-clip'],\n      /**\n       * Mask Composite\n       * @see https://tailwindcss.com/docs/mask-composite\n       */\n      'mask-composite': [{\n        mask: ['add', 'subtract', 'intersect', 'exclude']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image-linear-pos': [{\n        'mask-linear': [isNumber]\n      }],\n      'mask-image-linear-from-pos': [{\n        'mask-linear-from': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-to-pos': [{\n        'mask-linear-to': scaleMaskImagePosition()\n      }],\n      'mask-image-linear-from-color': [{\n        'mask-linear-from': scaleColor()\n      }],\n      'mask-image-linear-to-color': [{\n        'mask-linear-to': scaleColor()\n      }],\n      'mask-image-t-from-pos': [{\n        'mask-t-from': scaleMaskImagePosition()\n      }],\n      'mask-image-t-to-pos': [{\n        'mask-t-to': scaleMaskImagePosition()\n      }],\n      'mask-image-t-from-color': [{\n        'mask-t-from': scaleColor()\n      }],\n      'mask-image-t-to-color': [{\n        'mask-t-to': scaleColor()\n      }],\n      'mask-image-r-from-pos': [{\n        'mask-r-from': scaleMaskImagePosition()\n      }],\n      'mask-image-r-to-pos': [{\n        'mask-r-to': scaleMaskImagePosition()\n      }],\n      'mask-image-r-from-color': [{\n        'mask-r-from': scaleColor()\n      }],\n      'mask-image-r-to-color': [{\n        'mask-r-to': scaleColor()\n      }],\n      'mask-image-b-from-pos': [{\n        'mask-b-from': scaleMaskImagePosition()\n      }],\n      'mask-image-b-to-pos': [{\n        'mask-b-to': scaleMaskImagePosition()\n      }],\n      'mask-image-b-from-color': [{\n        'mask-b-from': scaleColor()\n      }],\n      'mask-image-b-to-color': [{\n        'mask-b-to': scaleColor()\n      }],\n      'mask-image-l-from-pos': [{\n        'mask-l-from': scaleMaskImagePosition()\n      }],\n      'mask-image-l-to-pos': [{\n        'mask-l-to': scaleMaskImagePosition()\n      }],\n      'mask-image-l-from-color': [{\n        'mask-l-from': scaleColor()\n      }],\n      'mask-image-l-to-color': [{\n        'mask-l-to': scaleColor()\n      }],\n      'mask-image-x-from-pos': [{\n        'mask-x-from': scaleMaskImagePosition()\n      }],\n      'mask-image-x-to-pos': [{\n        'mask-x-to': scaleMaskImagePosition()\n      }],\n      'mask-image-x-from-color': [{\n        'mask-x-from': scaleColor()\n      }],\n      'mask-image-x-to-color': [{\n        'mask-x-to': scaleColor()\n      }],\n      'mask-image-y-from-pos': [{\n        'mask-y-from': scaleMaskImagePosition()\n      }],\n      'mask-image-y-to-pos': [{\n        'mask-y-to': scaleMaskImagePosition()\n      }],\n      'mask-image-y-from-color': [{\n        'mask-y-from': scaleColor()\n      }],\n      'mask-image-y-to-color': [{\n        'mask-y-to': scaleColor()\n      }],\n      'mask-image-radial': [{\n        'mask-radial': [isArbitraryVariable, isArbitraryValue]\n      }],\n      'mask-image-radial-from-pos': [{\n        'mask-radial-from': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-to-pos': [{\n        'mask-radial-to': scaleMaskImagePosition()\n      }],\n      'mask-image-radial-from-color': [{\n        'mask-radial-from': scaleColor()\n      }],\n      'mask-image-radial-to-color': [{\n        'mask-radial-to': scaleColor()\n      }],\n      'mask-image-radial-shape': [{\n        'mask-radial': ['circle', 'ellipse']\n      }],\n      'mask-image-radial-size': [{\n        'mask-radial': [{\n          closest: ['side', 'corner'],\n          farthest: ['side', 'corner']\n        }]\n      }],\n      'mask-image-radial-pos': [{\n        'mask-radial-at': scalePosition()\n      }],\n      'mask-image-conic-pos': [{\n        'mask-conic': [isNumber]\n      }],\n      'mask-image-conic-from-pos': [{\n        'mask-conic-from': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-to-pos': [{\n        'mask-conic-to': scaleMaskImagePosition()\n      }],\n      'mask-image-conic-from-color': [{\n        'mask-conic-from': scaleColor()\n      }],\n      'mask-image-conic-to-color': [{\n        'mask-conic-to': scaleColor()\n      }],\n      /**\n       * Mask Mode\n       * @see https://tailwindcss.com/docs/mask-mode\n       */\n      'mask-mode': [{\n        mask: ['alpha', 'luminance', 'match']\n      }],\n      /**\n       * Mask Origin\n       * @see https://tailwindcss.com/docs/mask-origin\n       */\n      'mask-origin': [{\n        'mask-origin': ['border', 'padding', 'content', 'fill', 'stroke', 'view']\n      }],\n      /**\n       * Mask Position\n       * @see https://tailwindcss.com/docs/mask-position\n       */\n      'mask-position': [{\n        mask: scaleBgPosition()\n      }],\n      /**\n       * Mask Repeat\n       * @see https://tailwindcss.com/docs/mask-repeat\n       */\n      'mask-repeat': [{\n        mask: scaleBgRepeat()\n      }],\n      /**\n       * Mask Size\n       * @see https://tailwindcss.com/docs/mask-size\n       */\n      'mask-size': [{\n        mask: scaleBgSize()\n      }],\n      /**\n       * Mask Type\n       * @see https://tailwindcss.com/docs/mask-type\n       */\n      'mask-type': [{\n        'mask-type': ['alpha', 'luminance']\n      }],\n      /**\n       * Mask Image\n       * @see https://tailwindcss.com/docs/mask-image\n       */\n      'mask-image': [{\n        mask: ['none', isArbitraryVariable, isArbitraryValue]\n      }],\n      // ---------------\n      // --- Filters ---\n      // ---------------\n      /**\n       * Filter\n       * @see https://tailwindcss.com/docs/filter\n       */\n      filter: [{\n        filter: [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Blur\n       * @see https://tailwindcss.com/docs/blur\n       */\n      blur: [{\n        blur: scaleBlur()\n      }],\n      /**\n       * Brightness\n       * @see https://tailwindcss.com/docs/brightness\n       */\n      brightness: [{\n        brightness: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Contrast\n       * @see https://tailwindcss.com/docs/contrast\n       */\n      contrast: [{\n        contrast: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Drop Shadow\n       * @see https://tailwindcss.com/docs/drop-shadow\n       */\n      'drop-shadow': [{\n        'drop-shadow': [\n        // Deprecated since Tailwind CSS v4.0.0\n        '', 'none', themeDropShadow, isArbitraryVariableShadow, isArbitraryShadow]\n      }],\n      /**\n       * Drop Shadow Color\n       * @see https://tailwindcss.com/docs/filter-drop-shadow#setting-the-shadow-color\n       */\n      'drop-shadow-color': [{\n        'drop-shadow': scaleColor()\n      }],\n      /**\n       * Grayscale\n       * @see https://tailwindcss.com/docs/grayscale\n       */\n      grayscale: [{\n        grayscale: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Hue Rotate\n       * @see https://tailwindcss.com/docs/hue-rotate\n       */\n      'hue-rotate': [{\n        'hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Invert\n       * @see https://tailwindcss.com/docs/invert\n       */\n      invert: [{\n        invert: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Saturate\n       * @see https://tailwindcss.com/docs/saturate\n       */\n      saturate: [{\n        saturate: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Sepia\n       * @see https://tailwindcss.com/docs/sepia\n       */\n      sepia: [{\n        sepia: ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Filter\n       * @see https://tailwindcss.com/docs/backdrop-filter\n       */\n      'backdrop-filter': [{\n        'backdrop-filter': [\n        // Deprecated since Tailwind CSS v3.0.0\n        '', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Blur\n       * @see https://tailwindcss.com/docs/backdrop-blur\n       */\n      'backdrop-blur': [{\n        'backdrop-blur': scaleBlur()\n      }],\n      /**\n       * Backdrop Brightness\n       * @see https://tailwindcss.com/docs/backdrop-brightness\n       */\n      'backdrop-brightness': [{\n        'backdrop-brightness': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Contrast\n       * @see https://tailwindcss.com/docs/backdrop-contrast\n       */\n      'backdrop-contrast': [{\n        'backdrop-contrast': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Grayscale\n       * @see https://tailwindcss.com/docs/backdrop-grayscale\n       */\n      'backdrop-grayscale': [{\n        'backdrop-grayscale': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Hue Rotate\n       * @see https://tailwindcss.com/docs/backdrop-hue-rotate\n       */\n      'backdrop-hue-rotate': [{\n        'backdrop-hue-rotate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Invert\n       * @see https://tailwindcss.com/docs/backdrop-invert\n       */\n      'backdrop-invert': [{\n        'backdrop-invert': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Opacity\n       * @see https://tailwindcss.com/docs/backdrop-opacity\n       */\n      'backdrop-opacity': [{\n        'backdrop-opacity': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Saturate\n       * @see https://tailwindcss.com/docs/backdrop-saturate\n       */\n      'backdrop-saturate': [{\n        'backdrop-saturate': [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Backdrop Sepia\n       * @see https://tailwindcss.com/docs/backdrop-sepia\n       */\n      'backdrop-sepia': [{\n        'backdrop-sepia': ['', isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      // --------------\n      // --- Tables ---\n      // --------------\n      /**\n       * Border Collapse\n       * @see https://tailwindcss.com/docs/border-collapse\n       */\n      'border-collapse': [{\n        border: ['collapse', 'separate']\n      }],\n      /**\n       * Border Spacing\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing': [{\n        'border-spacing': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing X\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-x': [{\n        'border-spacing-x': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Border Spacing Y\n       * @see https://tailwindcss.com/docs/border-spacing\n       */\n      'border-spacing-y': [{\n        'border-spacing-y': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Table Layout\n       * @see https://tailwindcss.com/docs/table-layout\n       */\n      'table-layout': [{\n        table: ['auto', 'fixed']\n      }],\n      /**\n       * Caption Side\n       * @see https://tailwindcss.com/docs/caption-side\n       */\n      caption: [{\n        caption: ['top', 'bottom']\n      }],\n      // ---------------------------------\n      // --- Transitions and Animation ---\n      // ---------------------------------\n      /**\n       * Transition Property\n       * @see https://tailwindcss.com/docs/transition-property\n       */\n      transition: [{\n        transition: ['', 'all', 'colors', 'opacity', 'shadow', 'transform', 'none', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Behavior\n       * @see https://tailwindcss.com/docs/transition-behavior\n       */\n      'transition-behavior': [{\n        transition: ['normal', 'discrete']\n      }],\n      /**\n       * Transition Duration\n       * @see https://tailwindcss.com/docs/transition-duration\n       */\n      duration: [{\n        duration: [isNumber, 'initial', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Timing Function\n       * @see https://tailwindcss.com/docs/transition-timing-function\n       */\n      ease: [{\n        ease: ['linear', 'initial', themeEase, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Transition Delay\n       * @see https://tailwindcss.com/docs/transition-delay\n       */\n      delay: [{\n        delay: [isNumber, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Animation\n       * @see https://tailwindcss.com/docs/animation\n       */\n      animate: [{\n        animate: ['none', themeAnimate, isArbitraryVariable, isArbitraryValue]\n      }],\n      // ------------------\n      // --- Transforms ---\n      // ------------------\n      /**\n       * Backface Visibility\n       * @see https://tailwindcss.com/docs/backface-visibility\n       */\n      backface: [{\n        backface: ['hidden', 'visible']\n      }],\n      /**\n       * Perspective\n       * @see https://tailwindcss.com/docs/perspective\n       */\n      perspective: [{\n        perspective: [themePerspective, isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Perspective Origin\n       * @see https://tailwindcss.com/docs/perspective-origin\n       */\n      'perspective-origin': [{\n        'perspective-origin': scalePositionWithArbitrary()\n      }],\n      /**\n       * Rotate\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      rotate: [{\n        rotate: scaleRotate()\n      }],\n      /**\n       * Rotate X\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-x': [{\n        'rotate-x': scaleRotate()\n      }],\n      /**\n       * Rotate Y\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-y': [{\n        'rotate-y': scaleRotate()\n      }],\n      /**\n       * Rotate Z\n       * @see https://tailwindcss.com/docs/rotate\n       */\n      'rotate-z': [{\n        'rotate-z': scaleRotate()\n      }],\n      /**\n       * Scale\n       * @see https://tailwindcss.com/docs/scale\n       */\n      scale: [{\n        scale: scaleScale()\n      }],\n      /**\n       * Scale X\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-x': [{\n        'scale-x': scaleScale()\n      }],\n      /**\n       * Scale Y\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-y': [{\n        'scale-y': scaleScale()\n      }],\n      /**\n       * Scale Z\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-z': [{\n        'scale-z': scaleScale()\n      }],\n      /**\n       * Scale 3D\n       * @see https://tailwindcss.com/docs/scale\n       */\n      'scale-3d': ['scale-3d'],\n      /**\n       * Skew\n       * @see https://tailwindcss.com/docs/skew\n       */\n      skew: [{\n        skew: scaleSkew()\n      }],\n      /**\n       * Skew X\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-x': [{\n        'skew-x': scaleSkew()\n      }],\n      /**\n       * Skew Y\n       * @see https://tailwindcss.com/docs/skew\n       */\n      'skew-y': [{\n        'skew-y': scaleSkew()\n      }],\n      /**\n       * Transform\n       * @see https://tailwindcss.com/docs/transform\n       */\n      transform: [{\n        transform: [isArbitraryVariable, isArbitraryValue, '', 'none', 'gpu', 'cpu']\n      }],\n      /**\n       * Transform Origin\n       * @see https://tailwindcss.com/docs/transform-origin\n       */\n      'transform-origin': [{\n        origin: scalePositionWithArbitrary()\n      }],\n      /**\n       * Transform Style\n       * @see https://tailwindcss.com/docs/transform-style\n       */\n      'transform-style': [{\n        transform: ['3d', 'flat']\n      }],\n      /**\n       * Translate\n       * @see https://tailwindcss.com/docs/translate\n       */\n      translate: [{\n        translate: scaleTranslate()\n      }],\n      /**\n       * Translate X\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-x': [{\n        'translate-x': scaleTranslate()\n      }],\n      /**\n       * Translate Y\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-y': [{\n        'translate-y': scaleTranslate()\n      }],\n      /**\n       * Translate Z\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-z': [{\n        'translate-z': scaleTranslate()\n      }],\n      /**\n       * Translate None\n       * @see https://tailwindcss.com/docs/translate\n       */\n      'translate-none': ['translate-none'],\n      // ---------------------\n      // --- Interactivity ---\n      // ---------------------\n      /**\n       * Accent Color\n       * @see https://tailwindcss.com/docs/accent-color\n       */\n      accent: [{\n        accent: scaleColor()\n      }],\n      /**\n       * Appearance\n       * @see https://tailwindcss.com/docs/appearance\n       */\n      appearance: [{\n        appearance: ['none', 'auto']\n      }],\n      /**\n       * Caret Color\n       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities\n       */\n      'caret-color': [{\n        caret: scaleColor()\n      }],\n      /**\n       * Color Scheme\n       * @see https://tailwindcss.com/docs/color-scheme\n       */\n      'color-scheme': [{\n        scheme: ['normal', 'dark', 'light', 'light-dark', 'only-dark', 'only-light']\n      }],\n      /**\n       * Cursor\n       * @see https://tailwindcss.com/docs/cursor\n       */\n      cursor: [{\n        cursor: ['auto', 'default', 'pointer', 'wait', 'text', 'move', 'help', 'not-allowed', 'none', 'context-menu', 'progress', 'cell', 'crosshair', 'vertical-text', 'alias', 'copy', 'no-drop', 'grab', 'grabbing', 'all-scroll', 'col-resize', 'row-resize', 'n-resize', 'e-resize', 's-resize', 'w-resize', 'ne-resize', 'nw-resize', 'se-resize', 'sw-resize', 'ew-resize', 'ns-resize', 'nesw-resize', 'nwse-resize', 'zoom-in', 'zoom-out', isArbitraryVariable, isArbitraryValue]\n      }],\n      /**\n       * Field Sizing\n       * @see https://tailwindcss.com/docs/field-sizing\n       */\n      'field-sizing': [{\n        'field-sizing': ['fixed', 'content']\n      }],\n      /**\n       * Pointer Events\n       * @see https://tailwindcss.com/docs/pointer-events\n       */\n      'pointer-events': [{\n        'pointer-events': ['auto', 'none']\n      }],\n      /**\n       * Resize\n       * @see https://tailwindcss.com/docs/resize\n       */\n      resize: [{\n        resize: ['none', '', 'y', 'x']\n      }],\n      /**\n       * Scroll Behavior\n       * @see https://tailwindcss.com/docs/scroll-behavior\n       */\n      'scroll-behavior': [{\n        scroll: ['auto', 'smooth']\n      }],\n      /**\n       * Scroll Margin\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-m': [{\n        'scroll-m': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin X\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mx': [{\n        'scroll-mx': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Y\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-my': [{\n        'scroll-my': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Start\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ms': [{\n        'scroll-ms': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin End\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-me': [{\n        'scroll-me': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Top\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mt': [{\n        'scroll-mt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Right\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mr': [{\n        'scroll-mr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Bottom\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-mb': [{\n        'scroll-mb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Margin Left\n       * @see https://tailwindcss.com/docs/scroll-margin\n       */\n      'scroll-ml': [{\n        'scroll-ml': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-p': [{\n        'scroll-p': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding X\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-px': [{\n        'scroll-px': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Y\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-py': [{\n        'scroll-py': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Start\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-ps': [{\n        'scroll-ps': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding End\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pe': [{\n        'scroll-pe': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Top\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pt': [{\n        'scroll-pt': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Right\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pr': [{\n        'scroll-pr': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Bottom\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pb': [{\n        'scroll-pb': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Padding Left\n       * @see https://tailwindcss.com/docs/scroll-padding\n       */\n      'scroll-pl': [{\n        'scroll-pl': scaleUnambiguousSpacing()\n      }],\n      /**\n       * Scroll Snap Align\n       * @see https://tailwindcss.com/docs/scroll-snap-align\n       */\n      'snap-align': [{\n        snap: ['start', 'end', 'center', 'align-none']\n      }],\n      /**\n       * Scroll Snap Stop\n       * @see https://tailwindcss.com/docs/scroll-snap-stop\n       */\n      'snap-stop': [{\n        snap: ['normal', 'always']\n      }],\n      /**\n       * Scroll Snap Type\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-type': [{\n        snap: ['none', 'x', 'y', 'both']\n      }],\n      /**\n       * Scroll Snap Type Strictness\n       * @see https://tailwindcss.com/docs/scroll-snap-type\n       */\n      'snap-strictness': [{\n        snap: ['mandatory', 'proximity']\n      }],\n      /**\n       * Touch Action\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      touch: [{\n        touch: ['auto', 'none', 'manipulation']\n      }],\n      /**\n       * Touch Action X\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-x': [{\n        'touch-pan': ['x', 'left', 'right']\n      }],\n      /**\n       * Touch Action Y\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-y': [{\n        'touch-pan': ['y', 'up', 'down']\n      }],\n      /**\n       * Touch Action Pinch Zoom\n       * @see https://tailwindcss.com/docs/touch-action\n       */\n      'touch-pz': ['touch-pinch-zoom'],\n      /**\n       * User Select\n       * @see https://tailwindcss.com/docs/user-select\n       */\n      select: [{\n        select: ['none', 'text', 'all', 'auto']\n      }],\n      /**\n       * Will Change\n       * @see https://tailwindcss.com/docs/will-change\n       */\n      'will-change': [{\n        'will-change': ['auto', 'scroll', 'contents', 'transform', isArbitraryVariable, isArbitraryValue]\n      }],\n      // -----------\n      // --- SVG ---\n      // -----------\n      /**\n       * Fill\n       * @see https://tailwindcss.com/docs/fill\n       */\n      fill: [{\n        fill: ['none', ...scaleColor()]\n      }],\n      /**\n       * Stroke Width\n       * @see https://tailwindcss.com/docs/stroke-width\n       */\n      'stroke-w': [{\n        stroke: [isNumber, isArbitraryVariableLength, isArbitraryLength, isArbitraryNumber]\n      }],\n      /**\n       * Stroke\n       * @see https://tailwindcss.com/docs/stroke\n       */\n      stroke: [{\n        stroke: ['none', ...scaleColor()]\n      }],\n      // ---------------------\n      // --- Accessibility ---\n      // ---------------------\n      /**\n       * Forced Color Adjust\n       * @see https://tailwindcss.com/docs/forced-color-adjust\n       */\n      'forced-color-adjust': [{\n        'forced-color-adjust': ['auto', 'none']\n      }]\n    },\n    conflictingClassGroups: {\n      overflow: ['overflow-x', 'overflow-y'],\n      overscroll: ['overscroll-x', 'overscroll-y'],\n      inset: ['inset-x', 'inset-y', 'start', 'end', 'top', 'right', 'bottom', 'left'],\n      'inset-x': ['right', 'left'],\n      'inset-y': ['top', 'bottom'],\n      flex: ['basis', 'grow', 'shrink'],\n      gap: ['gap-x', 'gap-y'],\n      p: ['px', 'py', 'ps', 'pe', 'pt', 'pr', 'pb', 'pl'],\n      px: ['pr', 'pl'],\n      py: ['pt', 'pb'],\n      m: ['mx', 'my', 'ms', 'me', 'mt', 'mr', 'mb', 'ml'],\n      mx: ['mr', 'ml'],\n      my: ['mt', 'mb'],\n      size: ['w', 'h'],\n      'font-size': ['leading'],\n      'fvn-normal': ['fvn-ordinal', 'fvn-slashed-zero', 'fvn-figure', 'fvn-spacing', 'fvn-fraction'],\n      'fvn-ordinal': ['fvn-normal'],\n      'fvn-slashed-zero': ['fvn-normal'],\n      'fvn-figure': ['fvn-normal'],\n      'fvn-spacing': ['fvn-normal'],\n      'fvn-fraction': ['fvn-normal'],\n      'line-clamp': ['display', 'overflow'],\n      rounded: ['rounded-s', 'rounded-e', 'rounded-t', 'rounded-r', 'rounded-b', 'rounded-l', 'rounded-ss', 'rounded-se', 'rounded-ee', 'rounded-es', 'rounded-tl', 'rounded-tr', 'rounded-br', 'rounded-bl'],\n      'rounded-s': ['rounded-ss', 'rounded-es'],\n      'rounded-e': ['rounded-se', 'rounded-ee'],\n      'rounded-t': ['rounded-tl', 'rounded-tr'],\n      'rounded-r': ['rounded-tr', 'rounded-br'],\n      'rounded-b': ['rounded-br', 'rounded-bl'],\n      'rounded-l': ['rounded-tl', 'rounded-bl'],\n      'border-spacing': ['border-spacing-x', 'border-spacing-y'],\n      'border-w': ['border-w-x', 'border-w-y', 'border-w-s', 'border-w-e', 'border-w-t', 'border-w-r', 'border-w-b', 'border-w-l'],\n      'border-w-x': ['border-w-r', 'border-w-l'],\n      'border-w-y': ['border-w-t', 'border-w-b'],\n      'border-color': ['border-color-x', 'border-color-y', 'border-color-s', 'border-color-e', 'border-color-t', 'border-color-r', 'border-color-b', 'border-color-l'],\n      'border-color-x': ['border-color-r', 'border-color-l'],\n      'border-color-y': ['border-color-t', 'border-color-b'],\n      translate: ['translate-x', 'translate-y', 'translate-none'],\n      'translate-none': ['translate', 'translate-x', 'translate-y', 'translate-z'],\n      'scroll-m': ['scroll-mx', 'scroll-my', 'scroll-ms', 'scroll-me', 'scroll-mt', 'scroll-mr', 'scroll-mb', 'scroll-ml'],\n      'scroll-mx': ['scroll-mr', 'scroll-ml'],\n      'scroll-my': ['scroll-mt', 'scroll-mb'],\n      'scroll-p': ['scroll-px', 'scroll-py', 'scroll-ps', 'scroll-pe', 'scroll-pt', 'scroll-pr', 'scroll-pb', 'scroll-pl'],\n      'scroll-px': ['scroll-pr', 'scroll-pl'],\n      'scroll-py': ['scroll-pt', 'scroll-pb'],\n      touch: ['touch-x', 'touch-y', 'touch-pz'],\n      'touch-x': ['touch'],\n      'touch-y': ['touch'],\n      'touch-pz': ['touch']\n    },\n    conflictingClassGroupModifiers: {\n      'font-size': ['leading']\n    },\n    orderSensitiveModifiers: ['*', '**', 'after', 'backdrop', 'before', 'details-content', 'file', 'first-letter', 'first-line', 'marker', 'placeholder', 'selection']\n  };\n};\n\n/**\n * @param baseConfig Config where other config will be merged into. This object will be mutated.\n * @param configExtension Partial config to merge into the `baseConfig`.\n */\nconst mergeConfigs = (baseConfig, {\n  cacheSize,\n  prefix,\n  experimentalParseClassName,\n  extend = {},\n  override = {}\n}) => {\n  overrideProperty(baseConfig, 'cacheSize', cacheSize);\n  overrideProperty(baseConfig, 'prefix', prefix);\n  overrideProperty(baseConfig, 'experimentalParseClassName', experimentalParseClassName);\n  overrideConfigProperties(baseConfig.theme, override.theme);\n  overrideConfigProperties(baseConfig.classGroups, override.classGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroups, override.conflictingClassGroups);\n  overrideConfigProperties(baseConfig.conflictingClassGroupModifiers, override.conflictingClassGroupModifiers);\n  overrideProperty(baseConfig, 'orderSensitiveModifiers', override.orderSensitiveModifiers);\n  mergeConfigProperties(baseConfig.theme, extend.theme);\n  mergeConfigProperties(baseConfig.classGroups, extend.classGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroups, extend.conflictingClassGroups);\n  mergeConfigProperties(baseConfig.conflictingClassGroupModifiers, extend.conflictingClassGroupModifiers);\n  mergeArrayProperties(baseConfig, extend, 'orderSensitiveModifiers');\n  return baseConfig;\n};\nconst overrideProperty = (baseObject, overrideKey, overrideValue) => {\n  if (overrideValue !== undefined) {\n    baseObject[overrideKey] = overrideValue;\n  }\n};\nconst overrideConfigProperties = (baseObject, overrideObject) => {\n  if (overrideObject) {\n    for (const key in overrideObject) {\n      overrideProperty(baseObject, key, overrideObject[key]);\n    }\n  }\n};\nconst mergeConfigProperties = (baseObject, mergeObject) => {\n  if (mergeObject) {\n    for (const key in mergeObject) {\n      mergeArrayProperties(baseObject, mergeObject, key);\n    }\n  }\n};\nconst mergeArrayProperties = (baseObject, mergeObject, key) => {\n  const mergeValue = mergeObject[key];\n  if (mergeValue !== undefined) {\n    baseObject[key] = baseObject[key] ? baseObject[key].concat(mergeValue) : mergeValue;\n  }\n};\nconst extendTailwindMerge = (configExtension, ...createConfig) => typeof configExtension === 'function' ? createTailwindMerge(getDefaultConfig, configExtension, ...createConfig) : createTailwindMerge(() => mergeConfigs(getDefaultConfig(), configExtension), ...createConfig);\nconst twMerge = /*#__PURE__*/createTailwindMerge(getDefaultConfig);\nexport { createTailwindMerge, extendTailwindMerge, fromTheme, getDefaultConfig, mergeConfigs, twJoin, twMerge, validators };\n//# sourceMappingURL=bundle-mjs.mjs.map\n","import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"./utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive shadow-sm hover:shadow-md active:scale-[0.98] transform\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground hover:from-primary/90 hover:to-primary/80 hover:shadow-primary/25\",\n        destructive:\n          \"bg-gradient-to-r from-destructive to-destructive/90 text-white hover:from-destructive/90 hover:to-destructive/80 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 hover:shadow-destructive/25\",\n        outline:\n          \"border-2 bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 hover:border-primary/50\",\n        secondary:\n          \"bg-gradient-to-r from-secondary to-secondary/90 text-secondary-foreground hover:from-secondary/90 hover:to-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50 hover:shadow-none\",\n        link: \"text-primary underline-offset-4 hover:underline shadow-none hover:shadow-none\",\n        message: \"bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 hover:shadow-blue-500/25 font-semibold\",\n      },\n      size: {\n        default: \"h-10 px-5 py-2.5 has-[>svg]:px-4\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-12 rounded-lg px-8 has-[>svg]:px-6 text-base\",\n        icon: \"size-10 rounded-lg\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n","import * as React from \"react\";\n\nimport { cn } from \"./utils\";\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <h4\n      data-slot=\"card-title\"\n      className={cn(\"leading-none\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <p\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6 [&:last-child]:pb-6\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 pb-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n};\n","import React, { Component, ErrorInfo, ReactNode } from 'react';\nimport { Button } from './ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/card';\nimport { AlertTriangle, RefreshCw } from 'lucide-react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n  errorInfo: ErrorInfo | null;\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false, error: null, errorInfo: null };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    return { hasError: true, error, errorInfo: null };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n    \n    this.setState({\n      error,\n      errorInfo,\n    });\n\n    // Call custom error handler if provided\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    }\n\n    // Log to error reporting service (e.g., Sentry)\n    // Sentry.captureException(error, { extra: errorInfo });\n  }\n\n  handleRetry = () => {\n    this.setState({ hasError: false, error: null, errorInfo: null });\n  };\n\n  render() {\n    if (this.state.hasError) {\n      // Custom fallback UI\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      // Default error UI\n      return (\n        <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n          <Card className=\"w-full max-w-md\">\n            <CardHeader className=\"text-center\">\n              <div className=\"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-destructive/10\">\n                <AlertTriangle className=\"h-6 w-6 text-destructive\" />\n              </div>\n              <CardTitle className=\"text-xl\">Something went wrong</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <p className=\"text-sm text-muted-foreground text-center\">\n                We encountered an unexpected error. This has been logged and we'll look into it.\n              </p>\n              \n              {process.env.NODE_ENV === 'development' && this.state.error && (\n                <details className=\"text-xs\">\n                  <summary className=\"cursor-pointer text-muted-foreground hover:text-foreground\">\n                    Error Details (Development)\n                  </summary>\n                  <pre className=\"mt-2 whitespace-pre-wrap break-words bg-muted p-2 rounded text-xs\">\n                    {this.state.error.toString()}\n                    {this.state.errorInfo?.componentStack}\n                  </pre>\n                </details>\n              )}\n              \n              <div className=\"flex gap-2\">\n                <Button \n                  onClick={this.handleRetry}\n                  className=\"flex-1\"\n                  variant=\"default\"\n                >\n                  <RefreshCw className=\"w-4 h-4 mr-2\" />\n                  Try Again\n                </Button>\n                <Button \n                  onClick={() => window.location.reload()}\n                  variant=\"outline\"\n                  className=\"flex-1\"\n                >\n                  Reload Page\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n// Hook version for functional components\nexport function useErrorHandler() {\n  return (error: Error, errorInfo?: { componentStack?: string }) => {\n    console.error('Error caught by useErrorHandler:', error, errorInfo);\n    \n    // You can add error reporting logic here\n    // Sentry.captureException(error, { extra: errorInfo });\n  };\n}","import React, { Component, ReactNode } from 'react';\nimport { QueryErrorResetBoundary } from '@tanstack/react-query';\nimport { Button } from './ui/button';\nimport { RefreshCw, AlertTriangle } from 'lucide-react';\n\ninterface QueryErrorFallbackProps {\n  error: Error;\n  resetErrorBoundary: () => void;\n}\n\nfunction QueryErrorFallback({ error, resetErrorBoundary }: QueryErrorFallbackProps) {\n  console.error(' [QueryErrorBoundary] Caught error:', error);\n  \n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center\">\n      <div className=\"text-center space-y-4 max-w-md\">\n        <div className=\"flex justify-center\">\n          <AlertTriangle className=\"w-12 h-12 text-destructive\" />\n        </div>\n        <div>\n          <h2 className=\"text-xl font-semibold text-destructive mb-2\">\n            Something went wrong\n          </h2>\n          <p className=\"text-muted-foreground mb-4\">\n            {error.message || 'An unexpected error occurred while loading data.'}\n          </p>\n          <details className=\"text-left bg-muted p-3 rounded text-xs\">\n            <summary className=\"cursor-pointer font-medium mb-2\">\n              Technical Details\n            </summary>\n            <pre className=\"whitespace-pre-wrap break-words\">\n              {error.stack || error.message}\n            </pre>\n          </details>\n        </div>\n        <div className=\"flex gap-2 justify-center\">\n          <Button onClick={resetErrorBoundary}>\n            <RefreshCw className=\"w-4 h-4 mr-2\" />\n            Try Again\n          </Button>\n          <Button \n            variant=\"outline\"\n            onClick={() => {\n              console.log(' [QueryErrorBoundary] Clearing all cache');\n              localStorage.clear();\n              sessionStorage.clear();\n              window.location.reload();\n            }}\n          >\n            Reset App\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\ninterface ErrorBoundaryState {\n  hasError: boolean;\n  error?: Error;\n}\n\ninterface ErrorBoundaryProps {\n  children: ReactNode;\n  onReset?: () => void;\n  fallback?: (error: Error, reset: () => void) => ReactNode;\n}\n\nclass SimpleErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    console.error(' [SimpleErrorBoundary] Error caught:', {\n      error: error.message,\n      stack: error.stack,\n      errorInfo\n    });\n  }\n\n  reset = () => {\n    this.setState({ hasError: false, error: undefined });\n    this.props.onReset?.();\n  };\n\n  render() {\n    if (this.state.hasError && this.state.error) {\n      if (this.props.fallback) {\n        return this.props.fallback(this.state.error, this.reset);\n      }\n      return <QueryErrorFallback error={this.state.error} resetErrorBoundary={this.reset} />;\n    }\n\n    return this.props.children;\n  }\n}\n\ninterface QueryErrorBoundaryProps {\n  children: React.ReactNode;\n}\n\nexport function QueryErrorBoundary({ children }: QueryErrorBoundaryProps) {\n  return (\n    <QueryErrorResetBoundary>\n      {({ reset }) => (\n        <SimpleErrorBoundary\n          onReset={reset}\n          fallback={(error, resetErrorBoundary) => (\n            <QueryErrorFallback error={error} resetErrorBoundary={resetErrorBoundary} />\n          )}\n        >\n          {children}\n        </SimpleErrorBoundary>\n      )}\n    </QueryErrorResetBoundary>\n  );\n}\n","import React from 'react';\nimport { Loader2 } from 'lucide-react';\n\ninterface LoadingSpinnerProps {\n  size?: 'sm' | 'md' | 'lg';\n  className?: string;\n  text?: string;\n}\n\nexport function LoadingSpinner({ size = 'md', className = '', text }: LoadingSpinnerProps) {\n  const sizeClasses = {\n    sm: 'w-4 h-4',\n    md: 'w-6 h-6',\n    lg: 'w-8 h-8',\n  };\n\n  return (\n    <div className={`flex flex-col items-center justify-center gap-3 ${className}`}>\n      <div className=\"animate-spin\">\n        <Loader2 className={`${sizeClasses[size]} text-primary`} />\n      </div>\n\n      {text && (\n        <p className=\"text-sm text-muted-foreground\">\n          {text}\n        </p>\n      )}\n    </div>\n  );\n}\n\nexport function PulseLoader({ className = '' }: { className?: string }) {\n  return (\n    <div className={`flex space-x-1 ${className}`}>\n      {[0, 1, 2].map((index) => (\n        <div\n          key={index}\n          className=\"w-2 h-2 bg-primary rounded-full animate-pulse\"\n          style={{\n            animationDelay: `${index * 0.2}s`,\n          }}\n        />\n      ))}\n    </div>\n  );\n}","import { createClient } from '@supabase/supabase-js';\nimport type { Database } from './database.types';\n\n// Environment variables - these will need to be set in your .env file\nconst supabaseUrl = (import.meta as any).env.VITE_SUPABASE_URL?.trim();\nconst supabaseAnonKey = (import.meta as any).env.VITE_SUPABASE_ANON_KEY?.trim();\n\n// Environment variables loaded successfully - FORCE DEPLOYMENT v3 - ALL FIXES INCLUDED\nconsole.log(' App starting with environment variables:', {\n  supabaseUrl: supabaseUrl ? 'SET' : 'NOT SET',\n  supabaseKey: supabaseAnonKey ? 'SET' : 'NOT SET'\n});\n    console.log(' All fixes deployed: table name, CreateGame step 3, location search, environment variables, JOIN/LEAVE FIXED, FIRST-CLASS ARCHITECTURE DEPLOYED');\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  console.error(' Missing Supabase environment variables!');\n  console.error('Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your .env file.');\n  throw new Error('Missing Supabase environment variables. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your .env file.');\n}\n\n// HMR-safe singleton in dev to prevent multiple clients/listeners\ndeclare global {\n  // eslint-disable-next-line no-var\n  var __supabase__: any | undefined;\n}\n\nconst createSupabaseClient = () => {\n  console.log(' Creating new Supabase client...');\n  return createClient<Database>(supabaseUrl, supabaseAnonKey, {\n    auth: {\n      persistSession: true, // Keep sessions persistent for good UX\n      autoRefreshToken: true, // Re-enable auto refresh\n      detectSessionInUrl: true,\n      storageKey: 'tribeup-auth',\n      flowType: 'implicit', // Use implicit flow for OAuth compatibility\n    },\n    db: {\n      schema: 'public',\n    },\n    global: {\n      headers: {\n        'x-client-info': 'tribeup-web@1.0.0',\n      },\n    },\n    realtime: {\n      params: {\n        eventsPerSecond: 2,\n      },\n      heartbeatIntervalMs: 30000,\n      reconnectAfterMs: () => Math.random() * 5000,\n    },\n  });\n};\n\n// Force fresh client creation on refresh to avoid stale state\nconst shouldCreateFresh = typeof window !== 'undefined' && \n  performance.navigation?.type === 1; // 1 = reload\n\nexport const supabase = (shouldCreateFresh || !globalThis.__supabase__) \n  ? createSupabaseClient() \n  : globalThis.__supabase__;\n\n// Cache the client on the globalThis to avoid duplicates across HMR boundaries\nif (typeof globalThis !== 'undefined') {\n  globalThis.__supabase__ = supabase;\n}\n\n// Expose supabase client to window for debugging\nif (typeof window !== 'undefined') {\n  (window as any).supabase = supabase;\n  console.log(' [Supabase] Client exposed to window.supabase');\n}\n\n// Re-export the generated database types\nexport type { Database } from './database.types';\n\n// Helper functions for data transformation\nexport const transformGameFromDB = (dbGame: any, isJoined: boolean = false): any => ({\n  id: dbGame.id,\n  title: dbGame.title,\n  sport: dbGame.sport,\n  date: dbGame.date,\n  time: dbGame.time,\n  duration: dbGame.duration || 60, // Default to 60 minutes if not set\n  location: dbGame.location,\n  latitude: dbGame.latitude,\n  longitude: dbGame.longitude,\n  cost: dbGame.cost,\n  maxPlayers: dbGame.max_players,\n  currentPlayers: dbGame.current_players,\n  description: dbGame.description,\n  imageUrl: dbGame.image_url || '',\n  sportColor: getSportColor(dbGame.sport),\n  isJoined,\n  createdBy: dbGame.creator?.full_name || dbGame.creator?.username || `Unknown User (${dbGame.creator_id?.slice(0, 8) || 'No ID'})`,\n  creatorId: dbGame.creator_id,\n  creatorData: dbGame.creator ? {\n    id: dbGame.creator.id,\n    name: dbGame.creator.full_name || dbGame.creator.username || dbGame.creator.email?.split('@')[0] || `User ${dbGame.creator.id.slice(0, 8)}`,\n    avatar: dbGame.creator.avatar_url || ''\n  } : {\n    id: dbGame.creator_id,\n    name: `Unknown User (${dbGame.creator_id?.slice(0, 8) || 'No ID'})`,\n    avatar: ''\n  },\n  createdAt: dbGame.created_at,\n});\n\nexport const transformUserFromDB = (dbUser: Database['public']['Tables']['users']['Row']): any => ({\n  id: dbUser.id,\n  name: dbUser.full_name || dbUser.username || dbUser.email?.split('@')[0] || `Unknown User (${dbUser.id.slice(0, 8)})`,\n  username: dbUser.username || dbUser.email?.split('@')[0] || `user_${dbUser.id.slice(0, 8)}`,\n  email: dbUser.email,\n  avatar: dbUser.avatar_url || '',\n  bio: dbUser.bio || '',\n  location: dbUser.location || '',\n  role: dbUser.role || 'user',\n  preferences: {\n    theme: 'auto' as const,\n    highContrast: false,\n    largeText: false,\n    reducedMotion: false,\n    colorBlindFriendly: false,\n    notifications: {\n      push: true,\n      email: false,\n      gameReminders: true,\n    },\n    privacy: {\n      locationSharing: true,\n      profileVisibility: 'public' as const,\n    },\n    sports: dbUser.preferred_sports || [],\n  },\n});\n\n// Helper function to get sport colors (matching existing implementation)\nconst getSportColor = (sport: string): string => {\n  const sportColors: Record<string, string> = {\n    basketball: '#FA4616', // UF Orange\n    soccer: '#22C55E',\n    tennis: '#3B82F6',\n    pickleball: '#65A30D',\n    volleyball: '#8B5CF6',\n    football: '#F59E0B',\n    baseball: '#EF4444',\n    swimming: '#06B6D4',\n    running: '#10B981',\n    cycling: '#6366F1',\n    yoga: '#EC4899',\n  };\n  return sportColors[sport.toLowerCase()] || '#6B7280';\n};\n","// Environment configuration validation and management\nexport interface EnvConfig {\n  // Supabase\n  supabaseUrl: string;\n  supabaseAnonKey: string;\n  \n  // Weather API\n  openWeatherApiKey?: string;\n  weatherTempUnit: string;\n  weatherUpdateInterval: number;\n  weatherIncludeHourly: boolean;\n  weatherRainThreshold: number;\n  weatherWindThreshold: number;\n  \n  // Push Notifications\n  vapidPublicKey?: string;\n  \n  // Timeouts and Intervals\n  profileCheckTimeout: number;\n  profileForceTimeout: number;\n  presenceHeartbeatInterval: number;\n  locationMonitoringInterval: number;\n  \n  // Business Rules\n  gameEditRestrictionHours: number;\n  gameDeletionRestrictionHours: number;\n  \n  // Development\n  enableMockData: boolean;\n  logLevel: 'debug' | 'info' | 'warn' | 'error';\n}\n\nclass EnvironmentConfig {\n  private static instance: EnvironmentConfig;\n  private config: EnvConfig;\n\n  private constructor() {\n    this.config = this.loadConfig();\n    this.validateConfig();\n  }\n\n  public static getInstance(): EnvironmentConfig {\n    if (!EnvironmentConfig.instance) {\n      EnvironmentConfig.instance = new EnvironmentConfig();\n    }\n    return EnvironmentConfig.instance;\n  }\n\n  private loadConfig(): EnvConfig {\n    const env = (import.meta as any).env;\n    \n    return {\n      // Supabase (required)\n      supabaseUrl: env.VITE_SUPABASE_URL,\n      supabaseAnonKey: env.VITE_SUPABASE_ANON_KEY,\n      \n      // Weather API (optional)\n      openWeatherApiKey: env.VITE_OPENWEATHER_API_KEY,\n      weatherTempUnit: env.VITE_WEATHER_TEMP_UNIT || 'fahrenheit',\n      weatherUpdateInterval: parseInt(env.VITE_WEATHER_UPDATE_INTERVAL || '3600'),\n      weatherIncludeHourly: env.VITE_WEATHER_INCLUDE_HOURLY !== 'false',\n      weatherRainThreshold: parseFloat(env.VITE_WEATHER_RAIN_THRESHOLD || '0.1'),\n      weatherWindThreshold: parseInt(env.VITE_WEATHER_WIND_THRESHOLD || '15'),\n      \n      // Push Notifications (optional)\n      vapidPublicKey: env.VITE_VAPID_PUBLIC_KEY,\n      \n      // Timeouts and Intervals\n      profileCheckTimeout: parseInt(env.VITE_PROFILE_CHECK_TIMEOUT || '5000'),\n      profileForceTimeout: parseInt(env.VITE_PROFILE_FORCE_TIMEOUT || '15000'),\n      presenceHeartbeatInterval: parseInt(env.VITE_PRESENCE_HEARTBEAT_INTERVAL || '30000'),\n      locationMonitoringInterval: parseInt(env.VITE_LOCATION_MONITORING_INTERVAL || '1800000'), // 30 minutes\n      \n      // Business Rules\n      gameEditRestrictionHours: parseInt(env.VITE_GAME_EDIT_RESTRICTION_HOURS || '2'),\n      gameDeletionRestrictionHours: parseInt(env.VITE_GAME_DELETION_RESTRICTION_HOURS || '4'),\n      \n      // Development\n      enableMockData: env.VITE_ENABLE_MOCK_DATA === 'true',\n      logLevel: (env.VITE_LOG_LEVEL || 'info') as 'debug' | 'info' | 'warn' | 'error'\n    };\n  }\n\n  private validateConfig(): void {\n    const errors: string[] = [];\n    \n    // Required environment variables\n    if (!this.config.supabaseUrl) {\n      errors.push('VITE_SUPABASE_URL is required');\n    }\n    \n    if (!this.config.supabaseAnonKey) {\n      errors.push('VITE_SUPABASE_ANON_KEY is required');\n    }\n    \n    // Validate numeric values\n    if (isNaN(this.config.weatherUpdateInterval) || this.config.weatherUpdateInterval < 60) {\n      errors.push('VITE_WEATHER_UPDATE_INTERVAL must be a number >= 60');\n    }\n    \n    if (isNaN(this.config.weatherRainThreshold) || this.config.weatherRainThreshold < 0) {\n      errors.push('VITE_WEATHER_RAIN_THRESHOLD must be a number >= 0');\n    }\n    \n    if (isNaN(this.config.weatherWindThreshold) || this.config.weatherWindThreshold < 0) {\n      errors.push('VITE_WEATHER_WIND_THRESHOLD must be a number >= 0');\n    }\n    \n    if (isNaN(this.config.profileCheckTimeout) || this.config.profileCheckTimeout < 1000) {\n      errors.push('VITE_PROFILE_CHECK_TIMEOUT must be a number >= 1000');\n    }\n    \n    if (isNaN(this.config.profileForceTimeout) || this.config.profileForceTimeout < 5000) {\n      errors.push('VITE_PROFILE_FORCE_TIMEOUT must be a number >= 5000');\n    }\n    \n    if (isNaN(this.config.presenceHeartbeatInterval) || this.config.presenceHeartbeatInterval < 10000) {\n      errors.push('VITE_PRESENCE_HEARTBEAT_INTERVAL must be a number >= 10000');\n    }\n    \n    if (isNaN(this.config.gameEditRestrictionHours) || this.config.gameEditRestrictionHours < 0) {\n      errors.push('VITE_GAME_EDIT_RESTRICTION_HOURS must be a number >= 0');\n    }\n    \n    if (isNaN(this.config.gameDeletionRestrictionHours) || this.config.gameDeletionRestrictionHours < 0) {\n      errors.push('VITE_GAME_DELETION_RESTRICTION_HOURS must be a number >= 0');\n    }\n    \n    // Validate string values\n    if (!['fahrenheit', 'celsius'].includes(this.config.weatherTempUnit)) {\n      errors.push('VITE_WEATHER_TEMP_UNIT must be \"fahrenheit\" or \"celsius\"');\n    }\n    \n    if (!['debug', 'info', 'warn', 'error'].includes(this.config.logLevel)) {\n      errors.push('VITE_LOG_LEVEL must be one of: debug, info, warn, error');\n    }\n    \n    if (errors.length > 0) {\n      console.error('Environment configuration errors:', errors);\n      throw new Error(`Environment configuration errors:\\n${errors.join('\\n')}`);\n    }\n    \n    // Warnings for optional but recommended variables\n    const warnings: string[] = [];\n    \n    if (!this.config.openWeatherApiKey) {\n      warnings.push('VITE_OPENWEATHER_API_KEY not set - weather features will use mock data');\n    }\n    \n    if (!this.config.vapidPublicKey) {\n      warnings.push('VITE_VAPID_PUBLIC_KEY not set - push notifications will be disabled');\n    }\n    \n    if (warnings.length > 0) {\n      console.warn('Environment configuration warnings:', warnings);\n    }\n  }\n\n  public getConfig(): EnvConfig {\n    return { ...this.config };\n  }\n\n  public get<K extends keyof EnvConfig>(key: K): EnvConfig[K] {\n    return this.config[key];\n  }\n\n  public isFeatureEnabled(feature: 'weather' | 'pushNotifications' | 'mockData'): boolean {\n    switch (feature) {\n      case 'weather':\n        return !!this.config.openWeatherApiKey;\n      case 'pushNotifications':\n        return !!this.config.vapidPublicKey;\n      case 'mockData':\n        return this.config.enableMockData;\n      default:\n        return false;\n    }\n  }\n}\n\n// Export singleton instance\nexport const envConfig = EnvironmentConfig.getInstance();\n\n// Export individual getters for convenience\nexport const getEnvConfig = () => envConfig.getConfig();\nexport const isFeatureEnabled = (feature: 'weather' | 'pushNotifications' | 'mockData') => \n  envConfig.isFeatureEnabled(feature);\n","import { supabase, transformGameFromDB, transformUserFromDB, Database } from './supabase';\nimport type { Game, User, UserPreferences } from '../store/appStore';\nimport { envConfig } from './envConfig';\nimport { networkService } from './networkService';\n\n// Types for database operations\ntype GameRow = Database['public']['Tables']['games']['Row'];\ntype UserRow = Database['public']['Tables']['users']['Row'];\ntype NotificationRow = Database['public']['Tables']['notifications']['Row'];\n\nexport class SupabaseService {\n\n  // Authentication methods\n  static async signUp(email: string, password: string, userData: Partial<User>) {\n    const { data, error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        data: {\n          full_name: userData.name,\n          username: userData.name?.toLowerCase().replace(/\\s+/g, '_'),\n        }\n      }\n    });\n\n    if (error) throw error;\n\n    // Create user profile\n    if (data.user) {\n      await this.createUserProfile(data.user.id, userData);\n    }\n\n    return data;\n  }\n\n  static async signIn(email: string, password: string) {\n    const { data, error } = await supabase.auth.signInWithPassword({\n      email,\n      password\n    });\n\n    if (error) throw error;\n    return data;\n  }\n\n  static async signOut() {\n    const { error } = await supabase.auth.signOut();\n    if (error) throw error;\n  }\n\n  static async getCurrentUser() {\n    const { data: { user }, error } = await supabase.auth.getUser();\n    if (error) throw error;\n    return user;\n  }\n\n  // User profile methods\n  static async createUserProfile(userId: string, userData: any) {\n    console.log('Creating/updating user profile with data:', { userId, userData });\n    \n    try {\n      // First, check if the user exists\n      const { data: existingUser, error: fetchError } = await supabase\n        .from('users')\n        .select('id')\n        .eq('id', userId)\n        .maybeSingle();\n      \n      if (fetchError && fetchError.code !== 'PGRST116') {\n        throw fetchError;\n      }\n      \n      // Ensure we have a valid email (column is NOT NULL + UNIQUE)\n      let email: string | null = userData.email || null;\n      if (!email) {\n        const { data: authUser } = await supabase.auth.getUser();\n        email = authUser.user?.email ?? null;\n      }\n      if (!email) {\n        throw new Error('Unable to determine user email for profile creation');\n      }\n      \n      // Prepare the profile data according to the database schema\n      // Note: do NOT include non-existent columns like updated_at\n      const profileData = {\n        id: userId,\n        email,\n        full_name: `${userData.firstName || ''} ${userData.lastName || ''}`.trim() || userData.name || 'New User',\n        username: userData.username || `user_${Math.random().toString(36).substring(2, 10)}`,\n        bio: userData.bio || '',\n        location: userData.location || '',\n        role: userData.role || 'user',\n        preferred_sports: Array.isArray(userData.selectedSports)\n          ? (userData.selectedSports\n              .filter((s: any): s is string => typeof s === 'string' && s.trim().length > 0))\n          : []\n        // created_at has a default; let the DB handle it\n      } as const;\n      \n      console.log('Profile data to save:', profileData);\n      \n      // Use upsert to handle both insert and update in one operation\n      const { data, error } = await supabase\n        .from('users')\n        .upsert(profileData, { onConflict: 'id' })\n        .select()\n        .single();\n      \n      if (error) {\n        console.error('Error saving profile:', error);\n        throw error;\n      }\n      \n      console.log('Profile saved successfully:', data);\n      return data;\n      \n    } catch (error) {\n      console.error('Error in createUserProfile:', error);\n      throw error;\n    }\n  }\n\n  static async getUserProfile(userId: string): Promise<User | null> {\n    try {\n      console.log(' Getting user profile for:', userId);\n      \n      // Validate userId format\n      if (!userId || userId.trim() === '') {\n        console.log(' Invalid user ID provided:', userId);\n        return null;\n      }\n      \n      // Check if current user is authenticated - if not, return null quickly\n      console.log(' Checking if user is authenticated...');\n      const { data: { user: currentUser } } = await supabase.auth.getUser();\n      console.log(' Current user from auth:', currentUser?.id);\n      \n      if (!currentUser) {\n        console.log(' Anonymous user cannot access user profiles due to RLS - returning null');\n        return null;\n      }\n      \n      // Only proceed with query if user is authenticated\n      console.log(' User is authenticated, executing query for user ID:', userId.trim());\n      \n      // Let query complete naturally - no artificial timeouts\n      console.log(' Starting database query...');\n      console.log(' Executing Supabase query...');\n      \n      // Use explicit field selection to avoid PGRST116 coercion errors\n      const { data, error } = await supabase\n        .from('users')\n        .select(`\n          id,\n          email,\n          username,\n          full_name,\n          avatar_url,\n          bio,\n          location,\n          preferred_sports,\n          role,\n          stats,\n          created_at\n        `)\n        .eq('id', userId.trim())\n        .maybeSingle();\n      \n      console.log(' Query completed. Data:', data, 'Error:', error);\n      \n      if (error) {\n        // Handle PGRST116 specifically - this means data coercion failed\n        if (error.code === 'PGRST116') {\n          console.error(' PGRST116 Error: Cannot coerce result to single JSON object');\n          console.error(' This usually means multiple rows returned or data type mismatch');\n          \n          // Try a fallback query with just basic fields\n          const { data: fallbackData, error: fallbackError } = await supabase\n            .from('users')\n            .select('id, email, username, full_name, avatar_url, bio, location, role')\n            .eq('id', userId.trim())\n            .limit(1)\n            .single();\n            \n          if (fallbackError) {\n            throw fallbackError;\n          }\n          \n          console.log(' Fallback query succeeded, using basic user data');\n          // Create a minimal user object with fallback data\n          const data = {\n            ...fallbackData,\n            preferred_sports: [],\n            stats: {},\n            created_at: new Date().toISOString()\n          };\n        } else {\n          throw error;\n        }\n      }\n\n      if (!data) {\n        console.log(' No user found for ID:', userId);\n        // Let's also check if there are any users in the table\n        const { data: allUsers, error: countError } = await supabase\n          .from('users')\n          .select('id, full_name')\n          .limit(5);\n        console.log(' Sample users in database:', allUsers?.map(u => ({ id: u.id, name: u.full_name })));\n        return null;\n      }\n\n      console.log(' User profile loaded:', data?.id, data?.full_name);\n      console.log(' Raw user data from DB:', {\n        id: data?.id,\n        full_name: data?.full_name,\n        username: data?.username,\n        email: data?.email,\n        avatar_url: data?.avatar_url,\n        bio: data?.bio,\n        location: data?.location,\n        preferred_sports: data?.preferred_sports,\n        role: data?.role\n      });\n      const transformedUser = transformUserFromDB(data);\n      console.log(' Transformed user (complete):', transformedUser);\n      return transformedUser;\n    } catch (error) {\n      console.error(' getUserProfile failed:', error);\n      if (error instanceof Error && error.message === 'getUserProfile timeout') {\n        // Return null on timeout to prevent infinite loading\n        return null;\n      }\n      return null; // Return null instead of throwing to prevent app crashes\n    }\n  }\n\n  // Username availability check (optionally exclude current user)\n  static async isUsernameAvailable(username: string, excludeUserId?: string): Promise<boolean> {\n    const q = supabase\n      .from('users')\n      .select('id', { count: 'exact', head: true })\n      .ilike('username', username);\n    const { count, error } = excludeUserId\n      ? await q.neq('id', excludeUserId)\n      : await q;\n    if (error) throw error;\n    return (count ?? 0) === 0;\n  }\n\n  // Upload avatar to Supabase Storage 'avatars' bucket and return public URL\n  static async uploadAvatar(file: File): Promise<string> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('User not authenticated');\n\n    const fileName = `${Date.now()}_${file.name}`.replace(/\\s+/g, '_');\n    const path = `${currentUser.id}/${fileName}`;\n\n    const { error: uploadError } = await supabase.storage\n      .from('avatars')\n      .upload(path, file, { upsert: true, cacheControl: '3600' });\n    if (uploadError) throw uploadError;\n\n    const { data } = supabase.storage.from('avatars').getPublicUrl(path);\n    return data.publicUrl;\n  }\n\n  static async updateUserProfile(userId: string, updates: any) {\n    console.log(' updateUserProfile called with:', { userId, updates });\n    \n    // Build update object without role column until migration is applied\n    const updateData: any = {\n      full_name: updates.full_name,\n      username: updates.username,\n      avatar_url: updates.avatar_url,\n      bio: updates.bio,\n      location: updates.location,\n      preferred_sports: updates.preferred_sports || updates.sports_preferences\n    };\n\n    // Only include role if it's provided and the column exists\n    if (updates.role) {\n      updateData.role = updates.role;\n    }\n    \n    const { data, error } = await supabase\n      .from('users')\n      .update(updateData)\n      .eq('id', userId)\n      .select()\n      .single();\n\n    if (error) {\n      console.error(' Profile update error:', error);\n      throw error;\n    }\n    \n    console.log(' Profile updated successfully:', data);\n    return transformUserFromDB(data);\n  }\n\n  static async isProfileComplete(userId: string): Promise<boolean> {\n    try {\n      const profile = await this.getUserProfile(userId);\n      return !!(profile && profile.name && profile.username);\n    } catch (error) {\n      return false;\n    }\n  }\n\n  // Admin functionality\n  static async hasAdminRole(userId: string): Promise<boolean> {\n    try {\n      const { data, error } = await supabase\n        .from('users')\n        .select('role')\n        .eq('id', userId)\n        .single();\n      \n      if (error) return false;\n      return data.role === 'admin';\n    } catch (error) {\n      return false;\n    }\n  }\n\n  static async hasModeratorRole(userId: string): Promise<boolean> {\n    try {\n      const { data, error } = await supabase\n        .from('users')\n        .select('role')\n        .eq('id', userId)\n        .single();\n      \n      if (error) return false;\n      return data.role === 'moderator' || data.role === 'admin';\n    } catch (error) {\n      return false;\n    }\n  }\n\n  static async updateUserRole(userId: string, role: 'user' | 'moderator' | 'admin'): Promise<void> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('Not authenticated');\n    \n    const isAdmin = await this.hasAdminRole(currentUser.id);\n    if (!isAdmin) throw new Error('Only admins can update user roles');\n\n    const { error } = await supabase\n      .from('users')\n      .update({ role })\n      .eq('id', userId);\n\n    if (error) throw error;\n\n    // Log admin action\n    await this.logAdminAction('update_user_role', 'user', userId, { role });\n  }\n\n  static async deleteGame(gameId: string, reason?: string): Promise<void> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('Not authenticated');\n    \n    // Get game details and check permissions\n    const { data: game, error: gameError } = await supabase\n      .from('games')\n      .select('creator_id, date, time, title')\n      .eq('id', gameId)\n      .single();\n\n    if (gameError) throw gameError;\n\n    const isCreator = game.creator_id === currentUser.id;\n    const isModerator = await this.hasModeratorRole(currentUser.id);\n    \n    if (!isCreator && !isModerator) {\n      throw new Error('Only game creators, moderators, or admins can delete games');\n    }\n\n    // Check time restrictions for regular creators (admins/moderators can override)\n    if (isCreator && !isModerator) {\n      const gameDateTime = new Date(`${game.date}T${game.time}`);\n      const now = new Date();\n      const hoursUntilGame = (gameDateTime.getTime() - now.getTime()) / (1000 * 60 * 60);\n      const restrictionHours = envConfig.get('gameDeletionRestrictionHours');\n      \n      if (hoursUntilGame < restrictionHours) {\n        throw new Error(`Cannot delete game within ${restrictionHours} hours of start time`);\n      }\n    }\n\n    // Notify participants before deletion\n    await this.notifyGameParticipants(gameId, 'game_cancelled', {\n      title: 'Game Cancelled',\n      message: `The game \"${game.title}\" has been cancelled${reason ? `: ${reason}` : '.'}`\n    });\n\n    // Delete game participants first\n    await supabase\n      .from('game_participants')\n      .delete()\n      .eq('game_id', gameId);\n\n    // Delete chat messages\n    await supabase\n      .from('chat_messages')\n      .delete()\n      .eq('game_id', gameId);\n\n    // Delete the game\n    const { error } = await supabase\n      .from('games')\n      .delete()\n      .eq('id', gameId);\n\n    if (error) throw error;\n\n    // Log admin action if done by moderator/admin\n    if (isModerator && !isCreator) {\n      await this.logAdminAction('delete_game', 'game', gameId, { \n        reason: reason || 'admin_deletion',\n        game_title: game.title \n      });\n    }\n  }\n\n  static async getAllUsers(): Promise<User[]> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('Not authenticated');\n    \n    const isAdmin = await this.hasAdminRole(currentUser.id);\n    if (!isAdmin) throw new Error('Only admins can view all users');\n\n    const { data, error } = await supabase\n      .from('users')\n      .select('*')\n      .order('created_at', { ascending: false });\n\n    if (error) throw error;\n    return data.map(transformUserFromDB);\n  }\n\n  static async logAdminAction(action: string, targetType: string, targetId?: string, details?: any): Promise<void> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) return;\n\n    const { error } = await supabase.rpc('log_admin_action', {\n      p_action: action,\n      p_target_type: targetType,\n      p_target_id: targetId,\n      p_details: details\n    });\n\n    if (error) {\n      console.error('Failed to log admin action:', error);\n    }\n  }\n\n  static async getAdminAuditLog(limit = 50): Promise<any[]> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('Not authenticated');\n    \n    const isAdmin = await this.hasAdminRole(currentUser.id);\n    if (!isAdmin) throw new Error('Only admins can view audit logs');\n\n    const { data, error } = await supabase\n      .from('admin_audit_log')\n      .select(`\n        *,\n        admin:admin_id(full_name, username, email)\n      `)\n      .order('created_at', { ascending: false })\n      .limit(limit);\n\n    if (error) throw error;\n    return data;\n  }\n\n  // Mock data for immediate fallback\n  private static getMockGames(): Game[] {\n    const today = new Date();\n    const tomorrow = new Date(today);\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    \n    return [\n      {\n        id: 'mock-1',\n        title: 'Basketball Pickup Game',\n        sport: 'basketball',\n        date: today.toISOString().split('T')[0],\n        time: '18:00',\n        duration: 90,\n        location: 'Local Community Center',\n        cost: 'Free',\n        maxPlayers: 10,\n        currentPlayers: 6,\n        description: 'Casual pickup basketball game. All skill levels welcome!',\n        imageUrl: '',\n        sportColor: '#FA4616',\n        isJoined: false,\n        createdBy: 'mock-user',\n        createdAt: today.toISOString()\n      },\n      {\n        id: 'mock-2',\n        title: 'Soccer Match',\n        sport: 'soccer',\n        date: tomorrow.toISOString().split('T')[0],\n        time: '19:30',\n        duration: 120,\n        location: 'City Park Field',\n        cost: '$5',\n        maxPlayers: 22,\n        currentPlayers: 18,\n        description: 'Friendly soccer match. Bring your own water!',\n        imageUrl: '',\n        sportColor: '#22C55E',\n        isJoined: false,\n        createdBy: 'mock-user',\n        createdAt: today.toISOString()\n      }\n    ];\n  }\n\n  // Games methods - Ultra-fast direct query\n  static async getGames(): Promise<Game[]> {\n    const startTime = performance.now();\n    console.log(' Starting getGames...');\n    console.log(' Network status:', navigator.onLine ? 'ONLINE' : 'OFFLINE');\n    console.log(' Supabase URL:', supabase.supabaseUrl);\n    \n    try {\n      // SCREW AUTH - Just load games without authentication\n      console.log(' BYPASSING ALL AUTH - Loading games anonymously');\n      const userId = undefined; // Always anonymous\n      \n        const queryStart = performance.now();\n        \n        console.log(` Getting games for user: ${userId}`);\n        \n        // SIMPLE ANONYMOUS QUERY - No auth, no joins, just games\n        console.log(' Fetching games with SIMPLE query...');\n        console.log(' About to call supabase.from(\"games\")...');\n        console.log(' Supabase client state:', {\n          url: supabase.supabaseUrl,\n          key: supabase.supabaseKey ? 'SET' : 'NOT SET',\n          authHeaders: supabase.auth.session ? 'HAS SESSION' : 'NO SESSION'\n        });\n        \n        const { data: gamesData, error } = await supabase\n          .from('games')\n          .select('*')\n          .gte('date', new Date().toISOString().split('T')[0])\n          .order('date', { ascending: true })\n          .limit(50);\n          \n        console.log(' Supabase query completed!', { data: gamesData?.length, error });\n        \n        const queryTime = performance.now() - queryStart;\n        console.log(` SIMPLE query took: ${queryTime.toFixed(2)}ms`);\n\n        if (error) {\n          console.error(' Simple query failed:', error);\n          throw error;\n        }\n        \n        // Transform to basic game objects - no complex transforms\n        const games = (gamesData || []).map((game: any) => ({\n          id: game.id,\n          title: game.title,\n          sport: game.sport,\n          date: game.date,\n          time: game.time,\n          location: game.location,\n          latitude: game.latitude,\n          longitude: game.longitude,\n          cost: game.cost,\n          maxPlayers: game.max_players,\n          currentPlayers: game.current_players,\n          description: game.description,\n          imageUrl: game.image_url || '',\n          sportColor: '#6B7280',\n          isJoined: false, // Always false for anonymous\n          createdBy: `Unknown User (${game.creator_id?.slice(0, 8) || 'No ID'})`,\n          creatorId: game.creator_id,\n          creatorData: {\n            id: game.creator_id,\n            name: `Unknown User (${game.creator_id?.slice(0, 8) || 'No ID'})`,\n            avatar: ''\n          },\n          createdAt: game.created_at,\n        }));\n        \n        const totalTime = performance.now() - startTime;\n        console.log(` SIMPLE getGames took: ${totalTime.toFixed(2)}ms`);\n        console.log(` Returned ${games.length} games`);\n        \n        return games;\n      \n    } catch (error) {\n      console.error(' getGames error:', error);\n      \n      // Check if it's a timeout or session error\n      if (error.message?.includes('timeout')) {\n        console.error(' Query timed out - likely session corruption or RLS issues');\n        console.error(' Try refreshing the page or clearing localStorage');\n      } else if (error.message?.includes('JWT') || error.message?.includes('auth')) {\n        console.error(' Authentication error - clearing session');\n        try {\n          await supabase.auth.signOut();\n          localStorage.clear();\n        } catch (clearError) {\n          console.error('Failed to clear session:', clearError);\n        }\n      }\n      \n      // Return mock games as fallback\n      console.log(' Returning mock games as fallback');\n      return this.getMockGames();\n    }\n  }\n\n  static async getMyGames(userId: string): Promise<Game[]> {\n    const { data, error } = await supabase\n      .from('games')\n      .select(`\n        *,\n        creator:users!games_creator_id_fkey(full_name, username)\n      `)\n      .eq('creator_id', userId)\n      .gte('date', new Date().toISOString().split('T')[0])\n      .order('date', { ascending: true });\n\n    if (error) throw error;\n\n    return data.map(game => transformGameFromDB(game, true));\n  }\n\n  static async getNearbyGames(latitude?: number, longitude?: number, radius: number = 25): Promise<Game[]> {\n    try {\n      // Get current user directly without caching\n      const { data: { user } } = await supabase.auth.getUser();\n      const userId = user?.id;\n\n      let query = supabase\n        .from('games')\n        .select('id,title,sport,date,time,location,cost,max_players,current_players,description,image_url,creator_id')\n;\n\n      // Default to future games only unless specific date range is provided\n      if (!latitude && !longitude) {\n        query = query.gte('date', new Date().toISOString().split('T')[0]);\n      }\n\n      if (latitude && longitude) {\n        query = query\n          .filter('latitude', 'gte', latitude - 0.1)\n          .filter('latitude', 'lte', latitude + 0.1)\n          .filter('longitude', 'gte', longitude - 0.1)\n          .filter('longitude', 'lte', longitude + 0.1);\n      }\n\n      // If no user, return games without join status\n      if (!userId) {\n        const { data: gamesData, error } = await query.order('date', { ascending: true }).limit(50);\n        if (error) throw error;\n        return (gamesData || []).map((game: any) => transformGameFromDB(game, false));\n      }\n\n      // For authenticated users, use optimized join query\n      const { data: gamesWithParticipants, error } = await query\n        .select(`\n          *,\n          game_participants(user_id)\n        `)\n        .order('date', { ascending: true })\n        .limit(50);\n\n      if (error) throw error;\n\n      return (gamesWithParticipants || []).map((game: any) => {\n        const isJoined = game.game_participants?.some((p: any) => p.user_id === userId) || false;\n        return transformGameFromDB(game, isJoined);\n      });\n    } catch (error) {\n      console.error('[SupabaseService.getNearbyGames] Error:', error);\n      return this.getGames(); // Fallback to regular games\n    }\n  }\n\n  // Narrow input for creating a game from the form\n  static async createGame(gameData: {\n    title: string;\n    sport: string;\n    location: string;\n    latitude?: number | null;\n    longitude?: number | null;\n    date: string;\n    time: string;\n    duration: number;\n    cost: string;\n    maxPlayers: number;\n    description: string;\n    imageUrl?: string;\n  }): Promise<string> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('User not authenticated');\n\n    // Ensure a corresponding row exists in public.users for FK (creator_id) and RLS policies\n    try {\n      const { data: existingUser, error: fetchUserErr } = await supabase\n        .from('users')\n        .select('id')\n        .eq('id', currentUser.id)\n        .maybeSingle();\n\n      if (!existingUser) {\n        // Build a minimal profile using auth metadata\n        const { data: authUser } = await supabase.auth.getUser();\n        const email = authUser.user?.email || '';\n        if (!email) {\n          throw new Error('Cannot create user profile: missing email from auth');\n        }\n        const profileData = {\n          id: currentUser.id,\n          email,\n          full_name: authUser.user?.user_metadata?.full_name || authUser.user?.user_metadata?.name || 'New User',\n          username: authUser.user?.user_metadata?.username || `user_${Math.random().toString(36).slice(2, 10)}`,\n          bio: '',\n          location: '',\n          preferred_sports: [] as string[],\n        };\n        const { error: upsertErr } = await supabase.from('users').upsert(profileData, { onConflict: 'id' });\n        if (upsertErr) throw upsertErr;\n      } else if (fetchUserErr && fetchUserErr.code !== 'PGRST116') {\n        throw fetchUserErr;\n      }\n    } catch (e) {\n      console.warn('Failed to ensure user profile exists (continuing):', e);\n    }\n\n    // Create the game\n    const { data, error } = await supabase\n      .from('games')\n      .insert([{\n        title: gameData.title,\n        sport: gameData.sport,\n        date: gameData.date,\n        time: gameData.time,\n        location: gameData.location,\n        latitude: gameData.latitude,\n        longitude: gameData.longitude,\n        cost: gameData.cost,\n        max_players: gameData.maxPlayers,\n        current_players: 1, // Creator is automatically a participant\n        description: gameData.description,\n        image_url: gameData.imageUrl,\n        creator_id: currentUser.id\n        // Note: duration field doesn't exist in current database schema\n      }])\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    // Add creator as participant\n    try {\n      await supabase\n        .from('game_participants')\n        .insert({\n          game_id: data.id,\n          user_id: currentUser.id\n        });\n    } catch (e) {\n      console.warn('Failed to add creator as participant (continuing):', e);\n    }\n\n    return data.id;\n  }\n\n  static async updateGame(gameId: string, updates: Partial<{\n    title: string;\n    sport: string;\n    description: string;\n    date: string;\n    time: string;\n    duration: number;\n    location: string;\n    latitude: number | null;\n    longitude: number | null;\n    maxPlayers: number;\n    cost: string;\n    imageUrl: string;\n  }>): Promise<Game> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('User not authenticated');\n\n    // First check if user is the creator\n    const { data: gameData, error: fetchError } = await supabase\n      .from('games')\n      .select('creator_id, date, time')\n      .eq('id', gameId)\n      .single();\n\n    if (fetchError) throw fetchError;\n    if (gameData.creator_id !== currentUser.id) {\n      throw new Error('Only the game creator can edit this game');\n    }\n\n    // Check time restrictions (configurable edit restriction)\n    const gameDateTime = new Date(`${gameData.date}T${gameData.time}`);\n    const now = new Date();\n    const hoursUntilGame = (gameDateTime.getTime() - now.getTime()) / (1000 * 60 * 60);\n    const restrictionHours = envConfig.get('gameEditRestrictionHours');\n    \n    if (hoursUntilGame < restrictionHours) {\n      throw new Error(`Cannot edit game within ${restrictionHours} hours of start time`);\n    }\n\n    // Parse cost if provided\n    let cost: number | undefined = undefined;\n    if (updates.cost !== undefined) {\n      if (updates.cost === 'FREE') {\n        cost = 0;\n      } else {\n        const costMatch = updates.cost.match(/\\$(\\d+)/);\n        cost = costMatch ? parseInt(costMatch[1]) : 0;\n      }\n    }\n\n    // Prepare update object\n    const updateData: any = {};\n    if (updates.title !== undefined) updateData.title = updates.title;\n    if (updates.sport !== undefined) updateData.sport = updates.sport;\n    if (updates.description !== undefined) updateData.description = updates.description;\n    if (updates.date !== undefined) updateData.date = updates.date;\n    if (updates.time !== undefined) updateData.time = updates.time;\n    if (updates.duration !== undefined) updateData.duration = updates.duration;\n    if (updates.location !== undefined) updateData.location = updates.location;\n    if (updates.latitude !== undefined) updateData.latitude = updates.latitude;\n    if (updates.longitude !== undefined) updateData.longitude = updates.longitude;\n    if (updates.maxPlayers !== undefined) updateData.max_players = updates.maxPlayers;\n    if (cost !== undefined) updateData.cost = cost;\n    if (updates.imageUrl !== undefined) updateData.image_url = updates.imageUrl;\n\n    const { data, error } = await supabase\n      .from('games')\n      .update(updateData)\n      .eq('id', gameId)\n      .select()\n      .single();\n\n    if (error) throw error;\n\n    // Notify participants of changes\n    await this.notifyGameParticipants(gameId, 'game_updated', {\n      title: 'Game Updated',\n      message: `The game \"${data.title}\" has been updated by the organizer.`\n    });\n\n    return transformGameFromDB(data, false);\n  }\n\n\n  private static async notifyGameParticipants(gameId: string, type: string, notification: { title: string; message: string }): Promise<void> {\n    try {\n      // Get all participants\n      const { data: participants, error } = await supabase\n        .from('game_participants')\n        .select('user_id')\n        .eq('game_id', gameId);\n\n      if (error || !participants) return;\n\n      // Create notifications for each participant\n      const notifications = participants.map(p => ({\n        user_id: p.user_id,\n        type,\n        title: notification.title,\n        message: notification.message,\n        data: { gameId },\n        read: false\n      }));\n\n      if (notifications.length > 0) {\n        await supabase\n          .from('notifications')\n          .insert(notifications);\n      }\n    } catch (error) {\n      console.error('Error notifying participants:', error);\n      // Don't throw - notification failure shouldn't block game operations\n    }\n  }\n\n  static async joinGame(gameId: string): Promise<void> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('User not authenticated');\n\n    console.log(` User ${currentUser.id} joining game ${gameId}`);\n\n    // Use the database function\n    const { error } = await supabase.rpc('join_game', {\n      game_uuid: gameId\n    });\n\n    if (error) {\n      console.error(' Join game RPC error:', error);\n      throw error;\n    }\n\n    console.log(' Successfully joined game via RPC');\n\n    // Record participation for stats tracking (only if table exists)\n    try {\n      await SupabaseService.recordGameParticipation(currentUser.id, gameId, 'joined');\n      console.log(' Game participation recorded');\n    } catch (participationError: any) {\n      // Only log if it's not a missing column error (which is expected during migration)\n      if (!participationError?.message?.includes(\"Could not find the 'status' column\") &&\n          !participationError?.message?.includes(\"column \\\"status\\\" of relation \\\"game_participants\\\" does not exist\")) {\n        console.warn(' Failed to record game participation:', participationError);\n      }\n      // Don't throw here as the main join operation succeeded\n    }\n  }\n\n  static async leaveGame(gameId: string): Promise<void> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('User not authenticated');\n\n    console.log(` User ${currentUser.id} leaving game ${gameId}`);\n\n    // Use the database function\n    const { error } = await supabase.rpc('leave_game', {\n      game_uuid: gameId\n    });\n\n    if (error) {\n      console.error(' Leave game RPC error:', error);\n      throw error;\n    }\n\n    console.log(' Successfully left game via RPC');\n\n    // Record participation for stats tracking (only if table exists)\n    try {\n      await SupabaseService.recordGameParticipation(currentUser.id, gameId, 'left');\n      console.log(' Game participation recorded');\n    } catch (participationError: any) {\n      // Only log if it's not a missing column error (which is expected during migration)\n      if (!participationError?.message?.includes(\"Could not find the 'status' column\") &&\n          !participationError?.message?.includes(\"column \\\"status\\\" of relation \\\"game_participants\\\" does not exist\")) {\n        console.warn(' Failed to record game participation:', participationError);\n      }\n      // Don't throw here as the main leave operation succeeded\n    }\n  }\n\n  // Public RSVP methods\n  static async getPublicRSVPs(gameId: string): Promise<any[]> {\n    const { data, error } = await supabase\n      .from('public_rsvps')\n      .select('*')\n      .eq('game_id', gameId)\n      .order('created_at', { ascending: false });\n\n    if (error) throw error;\n    return data || [];\n  }\n\n  static async createPublicRSVP(gameId: string, rsvpData: { name: string; email: string; phone?: string }): Promise<void> {\n    // Check if email already RSVPed for this game\n    const { data: existing } = await supabase\n      .from('public_rsvps')\n      .select('id')\n      .eq('game_id', gameId)\n      .eq('email', rsvpData.email)\n      .single();\n\n    if (existing) {\n      throw new Error('This email has already RSVPed for this game');\n    }\n\n    const { error } = await supabase\n      .from('public_rsvps')\n      .insert({\n        game_id: gameId,\n        name: rsvpData.name,\n        email: rsvpData.email,\n        phone: rsvpData.phone\n      });\n\n    if (error) throw error;\n  }\n\n  static async getGameById(gameId: string): Promise<any> {\n    console.log(' [getGameById] Starting optimized fetch for game:', gameId);\n    const startTime = performance.now();\n    \n    try {\n      // BYPASS HANGING AUTH - Use cached session instead\n      let userId: string | undefined;\n      try {\n        const { data: { session } } = await supabase.auth.getSession();\n        userId = session?.user?.id;\n        console.log(' [getGameById] Session from cache:', userId ? 'authenticated' : 'anonymous');\n      } catch (authError) {\n        console.warn(' [getGameById] Auth failed, continuing as anonymous:', authError);\n        userId = undefined;\n      }\n      \n      // OPTIMIZED APPROACH: Use simpler, faster queries\n      if (userId) {\n        console.log(' [getGameById] Fetching for authenticated user:', userId);\n        \n        // Step 1: Get basic game data (fast)\n        const { data: gameData, error: gameError } = await supabase\n          .from('games')\n          .select('*')\n          .eq('id', gameId)\n          .single();\n\n        if (gameError) {\n          console.error(' [getGameById] Game query error:', gameError);\n          throw gameError;\n        }\n        \n        // Step 2: Check if user joined (separate fast query)\n        const { data: participantData } = await supabase\n          .from('game_participants')\n          .select('user_id')\n          .eq('game_id', gameId)\n          .eq('user_id', userId)\n          .maybeSingle();\n          \n        const isJoined = !!participantData;\n        \n        // Step 3: Get creator info (separate fast query)\n        let creatorInfo = null;\n        if (gameData.creator_id) {\n          const { data: creator } = await supabase\n            .from('users')\n            .select('id, full_name, username, avatar_url')\n            .eq('id', gameData.creator_id)\n            .maybeSingle();\n          creatorInfo = creator;\n        }\n        \n        // Combine results\n        const result = transformGameFromDB({\n          ...gameData,\n          creator: creatorInfo\n        }, isJoined);\n        \n        const duration = performance.now() - startTime;\n        console.log(' [getGameById] Success for authenticated user:', {\n          gameId,\n          duration: `${duration.toFixed(2)}ms`,\n          isJoined\n        });\n        \n        return result;\n      } else {\n        console.log(' [getGameById] Fetching for anonymous user');\n        \n        // For anonymous users: simple query without joins\n        const { data: gameData, error: gameError } = await supabase\n          .from('games')\n          .select('*')\n          .eq('id', gameId)\n          .single();\n\n        if (gameError) {\n          console.error(' [getGameById] Game query error:', gameError);\n          throw gameError;\n        }\n        \n        // Get creator info separately\n        let creatorInfo = null;\n        if (gameData.creator_id) {\n          const { data: creator } = await supabase\n            .from('users')\n            .select('id, full_name, username, avatar_url')\n            .eq('id', gameData.creator_id)\n            .maybeSingle();\n          creatorInfo = creator;\n        }\n        \n        const result = transformGameFromDB({\n          ...gameData,\n          creator: creatorInfo\n        }, false);\n        \n        const duration = performance.now() - startTime;\n        console.log(' [getGameById] Success for anonymous user:', {\n          gameId,\n          duration: `${duration.toFixed(2)}ms`\n        });\n        \n        return result;\n      }\n    } catch (error) {\n      const duration = performance.now() - startTime;\n      console.error(' [getGameById] Failed:', {\n        gameId,\n        error: error.message,\n        duration: `${duration.toFixed(2)}ms`\n      });\n      throw error;\n    }\n  }\n\n  // Notifications methods\n  static async getNotifications(): Promise<any[]> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('User not authenticated');\n\n    console.log(' Fetching notifications for user:', currentUser.id);\n\n    const { data, error } = await supabase\n      .from('notifications')\n      .select('*')\n      .eq('user_id', currentUser.id)\n      .order('created_at', { ascending: false });\n\n    if (error) {\n      console.error(' Error fetching notifications:', error);\n      console.log(' Returning empty array due to error (table might not exist)');\n      return [];\n    }\n\n    console.log(' Fetched notifications from database:', data?.length || 0);\n\n    return data.map(notification => ({\n      id: notification.id,\n      type: notification.type,\n      title: notification.title,\n      message: notification.message,\n      timestamp: new Date(notification.created_at),\n      read: notification.read,\n      actionUrl: notification.data?.actionUrl,\n      gameId: notification.data?.gameId,\n      userId: notification.data?.userId,\n      data: notification.data\n    }));\n  }\n\n  static async markNotificationAsRead(notificationId: string): Promise<void> {\n    const { error } = await supabase\n      .from('notifications')\n      .update({ read: true })\n      .eq('id', notificationId);\n\n    if (error) throw error;\n  }\n\n  static async deleteNotification(notificationId: string): Promise<void> {\n    const { error } = await supabase\n      .from('notifications')\n      .delete()\n      .eq('id', notificationId);\n\n    if (error) throw error;\n  }\n\n  static async clearAllNotifications(): Promise<void> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('User not authenticated');\n\n    console.log(' Attempting to delete notifications for user:', currentUser.id);\n\n    const { data, error, count } = await supabase\n      .from('notifications')\n      .delete()\n      .eq('user_id', currentUser.id)\n      .select();\n\n    console.log(' Delete result:', { data, error, count });\n\n    if (error) {\n      console.error(' Database error during delete:', error);\n      throw error;\n    }\n\n    console.log(' Successfully deleted notifications:', data?.length || 0);\n  }\n\n  static async getGameParticipants(gameId: string): Promise<any[]> {\n    console.log(' [getGameParticipants] Starting optimized fetch for game:', gameId);\n    const startTime = performance.now();\n    \n    try {\n      // Get participant user IDs (no timeout - let it complete)\n      const { data: participants, error: participantsError } = await supabase\n        .from('game_participants')\n        .select('user_id, joined_at')\n        .eq('game_id', gameId);\n\n      if (participantsError) throw participantsError;\n\n      console.log(' Raw participants data:', participants);\n\n      if (!participants || participants.length === 0) {\n        return [];\n      }\n\n      // Then fetch user details for each participant\n      const userIds = participants.map(p => p.user_id);\n      \n      // Debug: Show what user IDs we're trying to fetch\n      console.log(' Fetching user details for IDs:', userIds);\n      \n      // Test RLS permissions first with a simple query\n      console.log(' Testing RLS permissions...');\n      const { data: testUsers, error: testError } = await supabase\n        .from('users')\n        .select('id, full_name')\n        .limit(1);\n      \n      console.log(' RLS test result:', { testUsers, testError });\n      \n      if (testError) {\n        console.error(' RLS is blocking basic user queries!');\n        console.error(' Error details:', testError);\n        console.error(' You MUST run the RLS fix SQL in Supabase dashboard');\n      }\n      \n      // Fetch user details from users table (no timeout - optimized query)\n      const { data: users, error: usersError } = await supabase\n        .from('users')\n        .select('id, full_name, username, avatar_url, email')\n        .in('id', userIds);\n      \n      console.log(' Users query result:', { users, error: usersError });\n\n      if (usersError) {\n        console.error(' Error fetching user details:', usersError);\n        console.error(' This is likely due to RLS policies blocking access to user profiles');\n        console.error(' EXACT ERROR:', JSON.stringify(usersError, null, 2));\n        console.error(' Run this SQL in Supabase dashboard:');\n        console.error(`\nCREATE POLICY \"Users can view basic profile info\" ON public.users\n    FOR SELECT TO authenticated\n    USING (true);\n        `);\n        \n        // Fallback: return participants with basic info\n        return participants.map(participant => ({\n          id: participant.user_id,\n          name: `Unknown User (${participant.user_id.slice(0, 8)})`,\n          avatar: null,\n          isHost: false,\n          rating: 4.5\n        }));\n      }\n\n      console.log(' Fetched user details:', users);\n\n      // Combine participant and user data\n      return participants.map(participant => {\n        const user = users?.find(u => u.id === participant.user_id);\n        console.log(' Processing participant:', participant.user_id, 'user:', user);\n        \n        return {\n          id: participant.user_id,\n          name: user?.full_name || user?.username || user?.email?.split('@')[0] || `Unknown User (${participant.user_id.slice(0, 8)})`,\n          avatar: user?.avatar_url || null,\n          isHost: false, // We'll determine this separately by checking if user is game creator\n          rating: 4.5 // Default rating - in real app this would come from a ratings table\n        };\n      });\n    } catch (error) {\n      console.error(' getGameParticipants failed:', error);\n      return [];\n    }\n  }\n\n  // Development helper to create test users\n  static async createTestUser(userData: {\n    id?: string;\n    full_name: string;\n    username: string;\n    email: string;\n    bio?: string;\n    location?: string;\n  }) {\n    try {\n      const { data, error } = await supabase\n        .from('users')\n        .insert([{\n          id: userData.id || crypto.randomUUID(),\n          full_name: userData.full_name,\n          username: userData.username,\n          email: userData.email,\n          bio: userData.bio || '',\n          location: userData.location || '',\n          role: 'user',\n          created_at: new Date().toISOString()\n        }])\n        .select()\n        .single();\n\n      if (error) throw error;\n      console.log(' Test user created:', data);\n      return data;\n    } catch (error) {\n      console.error(' Failed to create test user:', error);\n      throw error;\n    }\n  }\n\n  // Real-time subscriptions\n  static subscribeToGameUpdates(gameId: string, callback: (payload: any) => void) {\n    return supabase\n      .channel(`game:${gameId}`)\n      .on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'games',\n        filter: `id=eq.${gameId}`\n      }, callback)\n      .on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'game_participants',\n        filter: `game_id=eq.${gameId}`\n      }, callback)\n      .subscribe();\n  }\n\n  static subscribeToChatMessages(gameId: string, callback: (payload: any) => void) {\n    return supabase\n      .channel(`chat:${gameId}`)\n      .on('postgres_changes', {\n        event: 'INSERT',\n        schema: 'public',\n        table: 'chat_messages',\n        filter: `game_id=eq.${gameId}`\n      }, callback)\n      .subscribe();\n  }\n\n  static subscribeToNotifications(callback: (notification: any) => void) {\n    // Temporarily disabled to prevent WebSocket connection failures\n    console.log('Realtime notifications disabled to prevent WebSocket failures');\n    return { unsubscribe: () => {} };\n  }\n\n  static subscribeToAllGames(callback: (payload: any) => void) {\n    // Temporarily disabled to prevent WebSocket connection failures\n    console.log('Realtime subscriptions disabled to prevent WebSocket failures');\n    return { unsubscribe: () => {} };\n  }\n\n  static subscribeToPublicRSVPs(gameId: string, callback: (payload: any) => void) {\n    // Temporarily disabled to prevent WebSocket connection failures\n    console.log('Realtime subscriptions disabled to prevent WebSocket failures');\n    return { unsubscribe: () => {} };\n  }\n\n  // Utility methods\n  static async searchGames(filters: {\n    sports?: string[];\n    dateRange?: { start: Date | null; end: Date | null };\n    distance?: number;\n    priceRange?: { min: number; max: number };\n  }): Promise<Game[]> {\n    try {\n      // Get current user directly without caching\n      const { data: { user } } = await supabase.auth.getUser();\n      const userId = user?.id;\n\n      let query = supabase\n        .from('games')\n        .select('id,title,sport,date,time,location,cost,max_players,current_players,description,image_url,creator_id')\n;\n\n      // Default to future games only unless specific date range is provided\n      if (!filters.dateRange?.start) {\n        query = query.gte('date', new Date().toISOString().split('T')[0]);\n      }\n\n      if (filters.sports && filters.sports.length > 0) {\n        query = query.in('sport', filters.sports);\n      }\n      if (filters.dateRange?.start) {\n        query = query.gte('date', filters.dateRange.start.toISOString().split('T')[0]);\n      }\n      if (filters.dateRange?.end) {\n        query = query.lte('date', filters.dateRange.end.toISOString().split('T')[0]);\n      }\n\n      // If no user, return games without join status\n      if (!userId) {\n        const { data: gamesData, error } = await query.order('date', { ascending: true }).limit(50);\n        if (error) throw error;\n        return (gamesData || []).map((game: any) => transformGameFromDB(game, false));\n      }\n\n      // For authenticated users, use optimized join query\n      const { data: gamesWithParticipants, error } = await query\n        .select(`\n          *,\n          game_participants(user_id)\n        `)\n        .order('date', { ascending: true })\n        .limit(50);\n\n      if (error) throw error;\n\n      return (gamesWithParticipants || []).map((game: any) => {\n        const isJoined = game.game_participants?.some((p: any) => p.user_id === userId) || false;\n        return transformGameFromDB(game, isJoined);\n      });\n    } catch (error) {\n      console.error('[SupabaseService.searchGames] Error:', error);\n      return [];\n    }\n  }\n\n  // Recommended games - Optimized for Pro tier\n  static async getRecommendedGames(preferredOverride?: string[]): Promise<Game[]> {\n    const timeLabel = `SupabaseService.getRecommendedGames ${Date.now()}-${Math.random().toString(36).slice(2,6)}`;\n    console.time?.(timeLabel);\n    \n    try {\n      // Use override sports if provided, otherwise get user preferences\n      let preferred: string[];\n      if (Array.isArray(preferredOverride) && preferredOverride.length > 0) {\n        preferred = preferredOverride.filter((s): s is string => typeof s === 'string' && s.length > 0);\n      } else {\n        // Try to get user preferences from database\n        const { data: { user } } = await supabase.auth.getUser();\n        const userId = user?.id;\n        \n        if (!userId) {\n          console.timeEnd?.(timeLabel);\n          return this.getGames();\n        }\n\n        const { data: userRow } = await supabase\n          .from('users')\n          .select('preferred_sports')\n          .eq('id', userId)\n          .single();\n          \n        preferred = ((userRow?.preferred_sports ?? []) as (string | null)[])\n          .filter((s): s is string => typeof s === 'string' && s.length > 0);\n      }\n      \n      if (!preferred.length) {\n        console.timeEnd?.(timeLabel);\n        return this.getGames();\n      }\n\n      // Get session for join status\n      const { data: { user } } = await supabase.auth.getUser();\n      const userId = user?.id;\n\n      // Optimized query with join for Pro tier\n      if (userId) {\n        const { data: gamesWithParticipants, error } = await supabase\n          .from('games')\n          .select(`\n            id,title,sport,date,time,location,cost,max_players,current_players,description,image_url,creator_id,\n            game_participants(user_id)\n          `)\n          .in('sport', preferred)\n          .gte('date', new Date().toISOString().split('T')[0])\n          .order('date', { ascending: true })\n          .limit(50);\n\n        if (error) throw error;\n\n        return (gamesWithParticipants || []).map((game: any) => {\n          const isJoined = game.game_participants?.some((p: any) => p.user_id === userId) || false;\n          return transformGameFromDB(game, isJoined);\n        });\n      } else {\n        const { data: gamesData, error } = await supabase\n          .from('games')\n          .select('id,title,sport,date,time,location,cost,max_players,current_players,description,image_url,creator_id')\n          .in('sport', preferred)\n          .gte('date', new Date().toISOString().split('T')[0])\n          .order('date', { ascending: true })\n          .limit(50);\n\n        if (error) throw error;\n        return (gamesData || []).map((game: any) => transformGameFromDB(game, false));\n      }\n    } catch (error) {\n      console.error('[SupabaseService.getRecommendedGames] Error:', error);\n      return this.getGames(); // Fallback to all games\n    } finally {\n      console.timeEnd?.(timeLabel);\n    }\n  }\n\n  // Method to get past games (no archived column exists)\n  static async getArchivedGames(userId?: string): Promise<Game[]> {\n    try {\n      let query = supabase\n        .from('games')\n        .select('*')\n        .lt('date', new Date().toISOString().split('T')[0])\n        .order('date', { ascending: false })\n        .limit(50);\n\n      if (userId) {\n        // Get games where user was a participant or creator\n        const { data: gamesData, error } = await supabase\n          .from('games')\n          .select(`\n            *,\n            game_participants(user_id)\n          `)\n          .lt('date', new Date().toISOString().split('T')[0])\n          .order('date', { ascending: false })\n          .limit(50);\n\n        if (error) throw error;\n\n        return (gamesData || [])\n          .filter((game: any) => \n            game.creator_id === userId || \n            game.game_participants?.some((p: any) => p.user_id === userId)\n          )\n          .map((game: any) => {\n            const isJoined = game.game_participants?.some((p: any) => p.user_id === userId) || false;\n            return transformGameFromDB(game, isJoined);\n          });\n      } else {\n        const { data: gamesData, error } = await query;\n        if (error) throw error;\n        return (gamesData || []).map((game: any) => transformGameFromDB(game, false));\n      }\n    } catch (error) {\n      console.error('[SupabaseService.getArchivedGames] Error:', error);\n      return [];\n    }\n  }\n\n  // Method to automatically archive old games\n  static async archiveOldGames(): Promise<void> {\n    try {\n      const yesterday = new Date();\n      yesterday.setDate(yesterday.getDate() - 1);\n      const yesterdayStr = yesterday.toISOString().split('T')[0];\n\n      // Note: archived column doesn't exist in database\n      // const { error } = await supabase\n      //   .from('games')\n      //   .update({ archived: true })\n      //   .lt('date', yesterdayStr);\n      const error = null; // No-op since archived column doesn't exist\n\n      if (error) throw error;\n      console.log(' Old games processed successfully');\n    } catch (error) {\n      console.error(' Error archiving old games:', error);\n    }\n  }\n\n  // User Stats methods\n  static async getUserStats(userId: string) {\n    try {\n      // Get basic stats from user_stats table\n      const { data: basicStats, error } = await supabase\n        .from('user_stats')\n        .select('*')\n        .eq('user_id', userId)\n        .maybeSingle();\n\n      if (error && error.code !== 'PGRST116') { // PGRST116 = no rows returned\n        console.error(' getUserStats database error:', error);\n        throw error;\n      }\n\n      // If no user_stats record exists, calculate stats from actual game participation\n      let calculatedStats: any = null;\n      if (!basicStats) {\n        console.log(' No user_stats record found, calculating from game participation');\n        \n        // Get games hosted by user\n        const { data: hostedGames, error: hostedError } = await supabase\n          .from('games')\n          .select('id, sport')\n          .eq('creator_id', userId);\n          \n        if (hostedError) {\n          console.error(' Error fetching hosted games:', hostedError);\n        }\n\n        // Get games participated in by user\n        const { data: participatedGames, error: participatedError } = await supabase\n          .from('game_participants')\n          .select(`\n            game_id,\n            play_time_minutes,\n            games!inner(sport, date)\n          `)\n          .eq('user_id', userId);\n          \n        if (participatedError) {\n          console.error(' Error fetching participated games:', participatedError);\n        }\n\n        // Calculate real stats from actual data\n        const gamesHosted = hostedGames?.length || 0;\n        const gamesPlayed = participatedGames?.length || 0;\n        const totalPlayTime = participatedGames?.reduce((sum, p) => sum + (p.play_time_minutes || 0), 0) || 0;\n        \n        // Find favorite sport from participation\n        const sportCounts: Record<string, number> = {};\n        hostedGames?.forEach(game => {\n          sportCounts[game.sport] = (sportCounts[game.sport] || 0) + 1;\n        });\n        participatedGames?.forEach(p => {\n          const sport = (p.games as any)?.sport;\n          if (sport) {\n            sportCounts[sport] = (sportCounts[sport] || 0) + 1;\n          }\n        });\n        \n        const favoriteSport = Object.keys(sportCounts).length > 0 \n          ? Object.entries(sportCounts).reduce((a, b) => sportCounts[a[0]] > sportCounts[b[0]] ? a : b)[0]\n          : null;\n\n        calculatedStats = {\n          user_id: userId,\n          games_played: gamesPlayed,\n          games_hosted: gamesHosted,\n          total_play_time_minutes: totalPlayTime,\n          favorite_sport: favoriteSport,\n          last_activity: new Date().toISOString(),\n          created_at: new Date().toISOString(),\n          updated_at: new Date().toISOString()\n        };\n        \n        console.log(' Calculated stats from live data:', calculatedStats);\n      }\n\n      // Calculate average rating from game reviews (skip if table doesn't exist)\n      let reviews: any[] = [];\n      try {\n        const { data } = await supabase\n          .from('game_reviews')\n          .select('rating')\n          .eq('reviewee_id', userId);\n        reviews = data || [];\n      } catch (error) {\n        console.log(' game_reviews table not found, skipping rating calculation');\n        reviews = [];\n      }\n\n      const averageRating = reviews.length > 0 \n        ? reviews.reduce((sum, review) => sum + review.rating, 0) / reviews.length\n        : 0;\n\n      // Use calculated stats if no database record exists, otherwise use database stats\n      const finalStats = basicStats || calculatedStats || {\n        user_id: userId,\n        games_played: 0,\n        games_hosted: 0,\n        total_play_time_minutes: 0,\n        favorite_sport: null,\n        last_activity: new Date().toISOString(),\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString()\n      };\n\n      return {\n        ...finalStats,\n        average_rating: averageRating\n      };\n    } catch (error) {\n      console.error(' getUserStats failed:', error);\n      // Only return default stats as absolute last resort\n      const defaultStats = {\n        user_id: userId,\n        games_played: 0,\n        games_hosted: 0,\n        total_play_time_minutes: 0,\n        favorite_sport: null,\n        average_rating: 0,\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString()\n      };\n      return defaultStats;\n    }\n  }\n\n  static async getUserRecentGames(userId: string, limit = 5) {\n    try {\n      const { data, error } = await supabase\n        .from('game_participants')\n        .select(`\n          *,\n          games (\n            id,\n            title,\n            sport,\n            date,\n            time,\n            location,\n            creator_id\n          )\n        `)\n        .eq('user_id', userId)\n        .order('joined_at', { ascending: false })\n        .limit(limit);\n\n      if (error) {\n        console.error(' getUserRecentGames database error:', error);\n        console.log(' getUserRecentGames error, returning empty array:', error.message);\n        return [];\n      }\n\n      return data || [];\n    } catch (error) {\n      console.error(' getUserRecentGames catch block error:', error);\n      console.log(' getUserRecentGames failed, returning empty array');\n      return [];\n    }\n  }\n\n  static async getUserAchievements(userId: string) {\n    const { data, error } = await supabase\n      .from('user_achievements')\n      .select(`\n        *,\n        achievements (\n          id,\n          name,\n          description,\n          icon,\n          category,\n          criteria,\n          points,\n          is_active\n        )\n      `)\n      .eq('user_id', userId)\n      .order('earned_at', { ascending: false });\n\n    if (error) throw error;\n\n    return data || [];\n  }\n\n  static async getAllAchievements() {\n    const { data, error } = await supabase\n      .from('achievements')\n      .select('*')\n      .eq('is_active', true)\n      .order('points', { ascending: true });\n\n    if (error) throw error;\n\n    return data || [];\n  }\n\n  static async checkAndAwardAchievements(userId: string) {\n    // Get current user stats\n    const stats = await this.getUserStats(userId);\n    \n    // Get all active achievements\n    const { data: achievements, error: achievementsError } = await supabase\n      .from('achievements')\n      .select('*')\n      .eq('is_active', true);\n\n    if (achievementsError) throw achievementsError;\n\n    // Get user's current achievements\n    const { data: userAchievements, error: userAchievementsError } = await supabase\n      .from('user_achievements')\n      .select('achievement_id')\n      .eq('user_id', userId);\n\n    if (userAchievementsError) throw userAchievementsError;\n\n    const earnedAchievementIds = new Set(userAchievements?.map(ua => ua.achievement_id) || []);\n\n    // Check each achievement\n    const newAchievements: any[] = [];\n    for (const achievement of achievements || []) {\n      if (earnedAchievementIds.has(achievement.id)) continue;\n\n      const criteria = achievement.criteria;\n      let shouldAward = false;\n\n      // Check participation achievements\n      if (criteria.games_played && stats.games_played >= criteria.games_played) {\n        shouldAward = true;\n      }\n\n      // Check hosting achievements\n      if (criteria.games_hosted && stats.games_hosted >= criteria.games_hosted) {\n        shouldAward = true;\n      }\n\n      if (shouldAward) {\n        newAchievements.push(achievement);\n      }\n    }\n\n    // Award new achievements\n    if (newAchievements.length > 0) {\n      const achievementsToInsert = newAchievements.map(achievement => ({\n        user_id: userId,\n        achievement_id: achievement.id,\n        earned_at: new Date().toISOString()\n      }));\n\n      const { error: insertError } = await supabase\n        .from('user_achievements')\n        .insert(achievementsToInsert);\n\n      if (insertError) throw insertError;\n    }\n\n    return newAchievements;\n  }\n\n  // Method to record game participation\n  static async recordGameParticipation(userId: string, gameId: string, status: 'joined' | 'left' | 'completed' = 'joined') {\n    // First check if the status column exists\n    const { data: columns, error: columnError } = await supabase\n      .from('information_schema.columns')\n      .select('column_name')\n      .eq('table_name', 'game_participants')\n      .eq('column_name', 'status');\n\n    if (columnError) {\n      console.log('Could not check for status column, using basic participation tracking');\n      // Fall back to basic participation without status tracking\n      const { data, error } = await supabase\n        .from('game_participants')\n        .upsert({\n          user_id: userId,\n          game_id: gameId\n        }, {\n          onConflict: 'user_id,game_id'\n        });\n      \n      if (error) throw error;\n      return data;\n    }\n\n    // If status column exists, use full tracking\n    if (columns && columns.length > 0) {\n      const { data, error } = await supabase\n        .from('game_participants')\n        .upsert({\n          user_id: userId,\n          game_id: gameId,\n          status: status,\n          joined_at: status === 'joined' ? new Date().toISOString() : undefined,\n          left_at: status === 'left' || status === 'completed' ? new Date().toISOString() : undefined\n        }, {\n          onConflict: 'user_id,game_id'\n        });\n\n      if (error) throw error;\n      return data;\n    } else {\n      // Status column doesn't exist, use basic participation\n      const { data, error } = await supabase\n        .from('game_participants')\n        .upsert({\n          user_id: userId,\n          game_id: gameId\n        }, {\n          onConflict: 'user_id,game_id'\n        });\n      \n      if (error) throw error;\n      return data;\n    }\n  }\n\n  // Method to mark a game as completed for all participants\n  static async markGameCompleted(gameId: string) {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) throw new Error('User not authenticated');\n\n    // First, verify the user is the game creator\n    const { data: game, error: gameError } = await supabase\n      .from('games')\n      .select('creator_id')\n      .eq('id', gameId)\n      .single();\n\n    if (gameError) throw gameError;\n    if (game.creator_id !== currentUser.id) {\n      throw new Error('Only the game creator can mark a game as completed');\n    }\n\n    // Mark all participants as completed\n    const { error } = await supabase\n      .from('game_participants')\n      .update({ \n        status: 'completed',\n        left_at: new Date().toISOString()\n      })\n      .eq('game_id', gameId)\n      .eq('status', 'joined');\n\n    if (error) throw error;\n\n    // Check for new achievements for all participants\n    const { data: participants, error: participantsError } = await supabase\n      .from('game_participants')\n      .select('user_id')\n      .eq('game_id', gameId)\n      .eq('status', 'completed');\n\n    if (participantsError) throw participantsError;\n\n    // Award achievements to all participants\n    for (const participant of participants || []) {\n      try {\n        await this.checkAndAwardAchievements(participant.user_id);\n      } catch (achievementError) {\n        console.warn(`Failed to check achievements for user ${participant.user_id}:`, achievementError);\n      }\n    }\n  }\n\n  // WAITLIST SYSTEM METHODS\n  static async joinWaitlist(gameId: string): Promise<{ success: boolean; position: number; message: string }> {\n    const { data, error } = await supabase.rpc('join_waitlist', {\n      game_uuid: gameId\n    });\n\n    if (error) throw error;\n    return data;\n  }\n\n  static async leaveWaitlist(gameId: string): Promise<{ success: boolean; message: string }> {\n    const { data, error } = await supabase.rpc('leave_waitlist', {\n      game_uuid: gameId\n    });\n\n    if (error) throw error;\n    return data;\n  }\n\n  static async joinFromWaitlist(gameId: string): Promise<{ success: boolean; message: string }> {\n    const { data, error } = await supabase.rpc('join_from_waitlist', {\n      game_uuid: gameId\n    });\n\n    if (error) throw error;\n    return data;\n  }\n\n  static async getGameWaitlist(gameId: string): Promise<any[]> {\n    const { data, error } = await supabase\n      .from('game_waitlist')\n      .select(`\n        *,\n        user:users!game_waitlist_user_id_fkey(id, full_name, username, avatar_url)\n      `)\n      .eq('game_id', gameId)\n      .order('position', { ascending: true });\n\n    if (error) throw error;\n\n    return (data || []).map(entry => ({\n      id: entry.id,\n      position: entry.position,\n      joinedAt: entry.joined_at,\n      status: entry.status,\n      expiresAt: entry.expires_at,\n      user: {\n        id: entry.user.id,\n        name: entry.user.full_name || entry.user.username,\n        username: entry.user.username,\n        avatarUrl: entry.user.avatar_url\n      }\n    }));\n  }\n\n  static async getUserWaitlistStatus(gameId: string): Promise<{ isOnWaitlist: boolean; position?: number; status?: string }> {\n    const currentUser = await this.getCurrentUser();\n    if (!currentUser) return { isOnWaitlist: false };\n\n    const { data, error } = await supabase\n      .from('game_waitlist')\n      .select('position, status')\n      .eq('game_id', gameId)\n      .eq('user_id', currentUser.id)\n      .single();\n\n    if (error && error.code !== 'PGRST116') throw error;\n\n    return data ? {\n      isOnWaitlist: true,\n      position: data.position,\n      status: data.status\n    } : { isOnWaitlist: false };\n  }\n\n  // RECURRING GAMES METHODS\n  static async createRecurringTemplate(templateData: {\n    title: string;\n    sport: string;\n    location: string;\n    latitude?: number;\n    longitude?: number;\n    cost?: string;\n    maxPlayers: number;\n    description?: string;\n    imageUrl?: string;\n    recurrenceType: 'weekly' | 'biweekly' | 'monthly';\n    dayOfWeek?: number;\n    dayOfMonth?: number;\n    timeOfDay: string;\n    startDate: string;\n    endDate?: string;\n    maxOccurrences?: number;\n  }): Promise<string> {\n    const { data, error } = await supabase.rpc('create_recurring_template', {\n      p_title: templateData.title,\n      p_sport: templateData.sport,\n      p_location: templateData.location,\n      p_latitude: templateData.latitude || null,\n      p_longitude: templateData.longitude || null,\n      p_cost: templateData.cost || 'Free',\n      p_max_players: templateData.maxPlayers,\n      p_description: templateData.description || '',\n      p_image_url: templateData.imageUrl || null,\n      p_recurrence_type: templateData.recurrenceType,\n      p_recurrence_interval: 1,\n      p_day_of_week: templateData.dayOfWeek || null,\n      p_day_of_month: templateData.dayOfMonth || null,\n      p_time_of_day: templateData.timeOfDay,\n      p_start_date: templateData.startDate,\n      p_end_date: templateData.endDate || null,\n      p_max_occurrences: templateData.maxOccurrences || null\n    });\n\n    if (error) throw error;\n    return data;\n  }\n\n  static async getRecurringTemplates(userId?: string): Promise<any[]> {\n    let query = supabase\n      .from('recurring_game_templates')\n      .select(`\n        *,\n        creator:users!recurring_game_templates_creator_id_fkey(id, full_name, username, avatar_url),\n        _count:recurring_game_instances(count)\n      `)\n      .eq('is_active', true)\n      .order('created_at', { ascending: false });\n\n    if (userId) {\n      query = query.eq('creator_id', userId);\n    }\n\n    const { data, error } = await query;\n    if (error) throw error;\n\n    return (data || []).map(template => ({\n      id: template.id,\n      title: template.title,\n      sport: template.sport,\n      location: template.location,\n      recurrenceType: template.recurrence_type,\n      dayOfWeek: template.day_of_week,\n      dayOfMonth: template.day_of_month,\n      timeOfDay: template.time_of_day,\n      startDate: template.start_date,\n      endDate: template.end_date,\n      maxOccurrences: template.max_occurrences,\n      isActive: template.is_active,\n      createdAt: template.created_at,\n      creator: {\n        id: template.creator.id,\n        name: template.creator.full_name || template.creator.username,\n        username: template.creator.username,\n        avatarUrl: template.creator.avatar_url\n      },\n      instanceCount: template._count?.[0]?.count || 0\n    }));\n  }\n\n  static async updateRecurringTemplate(templateId: string, updates: any): Promise<boolean> {\n    const { data, error } = await supabase.rpc('update_recurring_template', {\n      template_id: templateId,\n      updates: updates\n    });\n\n    if (error) throw error;\n    return data;\n  }\n\n  static async cancelRecurringTemplate(templateId: string, cancelFutureGames: boolean = true): Promise<boolean> {\n    const { data, error } = await supabase.rpc('cancel_recurring_template', {\n      template_id: templateId,\n      cancel_future_games: cancelFutureGames\n    });\n\n    if (error) throw error;\n    return data;\n  }\n\n  static async getRecurringGameInstances(templateId: string): Promise<any[]> {\n    const { data, error } = await supabase\n      .from('recurring_game_instances')\n      .select(`\n        *,\n        game:games!recurring_game_instances_game_id_fkey(*)\n      `)\n      .eq('template_id', templateId)\n      .order('scheduled_date', { ascending: true });\n\n    if (error) throw error;\n\n    return (data || []).map(instance => ({\n      id: instance.id,\n      scheduledDate: instance.scheduled_date,\n      instanceNumber: instance.instance_number,\n      status: instance.status,\n      game: instance.game ? transformGameFromDB(instance.game, false) : null\n    }));\n  }\n\n  // RATING AND REVIEW METHODS\n  static async submitGameReview(reviewData: {\n    gameId: string;\n    overallRating: number;\n    organizationRating?: number;\n    skillLevelRating?: number;\n    funRating?: number;\n    reviewText?: string;\n    wouldPlayAgain?: boolean;\n    recommendToOthers?: boolean;\n  }): Promise<string> {\n    try {\n      const { data, error } = await supabase.rpc('submit_game_review', {\n        p_game_id: reviewData.gameId,\n        p_overall_rating: reviewData.overallRating,\n        p_organization_rating: reviewData.organizationRating || null,\n        p_skill_level_rating: reviewData.skillLevelRating || null,\n        p_fun_rating: reviewData.funRating || null,\n        p_review_text: reviewData.reviewText || null,\n        p_would_play_again: reviewData.wouldPlayAgain ?? true,\n        p_recommend_to_others: reviewData.recommendToOthers ?? true\n      });\n\n      if (error) throw error;\n      return data;\n    } catch (error: any) {\n      console.log(' Rating system disabled - submit_game_review function not available');\n      throw new Error('Rating system is currently disabled');\n    }\n  }\n\n  static async submitPlayerRating(ratingData: {\n    gameId: string;\n    ratedPlayerId: string;\n    skillRating: number;\n    sportsmanshipRating: number;\n    communicationRating: number;\n    feedbackText?: string;\n  }): Promise<string> {\n    try {\n      const { data, error } = await supabase.rpc('submit_player_rating', {\n        p_game_id: ratingData.gameId,\n        p_rated_player_id: ratingData.ratedPlayerId,\n        p_skill_rating: ratingData.skillRating,\n        p_sportsmanship_rating: ratingData.sportsmanshipRating,\n        p_communication_rating: ratingData.communicationRating,\n        p_feedback_text: ratingData.feedbackText || null\n      });\n\n      if (error) throw error;\n      return data;\n    } catch (error: any) {\n      console.log(' Rating system disabled - submit_player_rating function not available');\n      throw new Error('Rating system is currently disabled');\n    }\n  }\n\n  static async getGameReviews(gameId: string): Promise<any[]> {\n    try {\n      const { data, error } = await supabase\n        .from('game_reviews')\n        .select(`\n          *,\n          reviewer:users!game_reviews_reviewer_id_fkey(id, full_name, username, avatar_url)\n        `)\n        .eq('game_id', gameId)\n        .order('created_at', { ascending: false });\n\n      if (error) {\n        console.error('Error fetching game reviews:', error);\n        return [];\n      }\n\n      return data || [];\n    } catch (error) {\n      console.log(' game_reviews table not found, returning empty array');\n      return [];\n    }\n  }\n\n  static async getGameRatingSummary(gameId: string): Promise<any> {\n    const { data, error } = await supabase\n      .from('game_rating_summary')\n      .select('*')\n      .eq('game_id', gameId)\n      .single();\n\n    if (error && error.code !== 'PGRST116') throw error;\n\n    return data ? {\n      totalReviews: data.total_reviews,\n      avgOverallRating: data.avg_overall_rating,\n      avgOrganizationRating: data.avg_organization_rating,\n      avgSkillLevelRating: data.avg_skill_level_rating,\n      avgFunRating: data.avg_fun_rating,\n      wouldPlayAgainCount: data.would_play_again_count,\n      recommendCount: data.recommend_count,\n      lastUpdated: data.last_updated\n    } : null;\n  }\n\n  static async getUserRatingSummary(userId: string): Promise<any> {\n    const { data, error } = await supabase\n      .from('user_rating_summary')\n      .select('*')\n      .eq('user_id', userId)\n      .single();\n\n    if (error && error.code !== 'PGRST116') throw error;\n\n    return data ? {\n      totalRatingsReceived: data.total_ratings_received,\n      avgSkillRating: data.avg_skill_rating,\n      avgSportsmanshipRating: data.avg_sportsmanship_rating,\n      avgCommunicationRating: data.avg_communication_rating,\n      avgOverallPlayerRating: data.avg_overall_player_rating,\n      gamesOrganized: data.games_organized,\n      avgGameRating: data.avg_game_rating,\n      lastUpdated: data.last_updated\n    } : null;\n  }\n\n  static async getReviewableGames(): Promise<any[]> {\n    const { data, error } = await supabase.rpc('get_reviewable_games');\n\n    if (error) throw error;\n\n    return (data || []).map(game => ({\n      gameId: game.game_id,\n      title: game.game_title,\n      date: game.game_date,\n      time: game.game_time,\n      sport: game.sport,\n      hasReviewed: game.has_reviewed\n    }));\n  }\n\n  static async getPlayerRatings(gameId: string, playerId?: string): Promise<any[]> {\n    let query = supabase\n      .from('player_ratings')\n      .select(`\n        *,\n        rater:users!player_ratings_rater_id_fkey(id, full_name, username, avatar_url),\n        rated_player:users!player_ratings_rated_player_id_fkey(id, full_name, username, avatar_url)\n      `)\n      .eq('game_id', gameId);\n\n    if (playerId) {\n      query = query.eq('rated_player_id', playerId);\n    }\n\n    const { data, error } = await query.order('created_at', { ascending: false });\n\n    if (error) throw error;\n\n    return (data || []).map(rating => ({\n      id: rating.id,\n      skillRating: rating.skill_rating,\n      sportsmanshipRating: rating.sportsmanship_rating,\n      communicationRating: rating.communication_rating,\n      feedbackText: rating.feedback_text,\n      createdAt: rating.created_at,\n      rater: {\n        id: rating.rater.id,\n        name: rating.rater.full_name || rating.rater.username,\n        username: rating.rater.username,\n        avatarUrl: rating.rater.avatar_url\n      },\n      ratedPlayer: {\n        id: rating.rated_player.id,\n        name: rating.rated_player.full_name || rating.rated_player.username,\n        username: rating.rated_player.username,\n        avatarUrl: rating.rated_player.avatar_url\n      }\n    }));\n  }\n\n  // User Testing Feedback\n  static async submitUserTestingFeedback(feedbackData: any): Promise<void> {\n    try {\n      const { error } = await supabase\n        .from('user_testing_feedback')\n        .insert([feedbackData]);\n\n      if (error) throw error;\n      \n      console.log(' User testing feedback submitted successfully');\n    } catch (error) {\n      console.error(' Failed to submit user testing feedback:', error);\n      throw error;\n    }\n  }\n}\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = ((state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  });\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = ((selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  });\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    return setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      return setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","// src/utils/env.ts\nvar NOTHING = Symbol.for(\"immer-nothing\");\nvar DRAFTABLE = Symbol.for(\"immer-draftable\");\nvar DRAFT_STATE = Symbol.for(\"immer-state\");\n\n// src/utils/errors.ts\nvar errors = process.env.NODE_ENV !== \"production\" ? [\n  // All error codes, starting by 0:\n  function(plugin) {\n    return `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`;\n  },\n  function(thing) {\n    return `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`;\n  },\n  \"This object has been frozen and should not be mutated\",\n  function(data) {\n    return \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + data;\n  },\n  \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n  \"Immer forbids circular references\",\n  \"The first or second argument to `produce` must be a function\",\n  \"The third argument to `produce` must be a function or undefined\",\n  \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n  \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n  function(thing) {\n    return `'current' expects a draft, got: ${thing}`;\n  },\n  \"Object.defineProperty() cannot be used on an Immer draft\",\n  \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n  \"Immer only supports deleting array indices\",\n  \"Immer only supports setting array indices and the 'length' property\",\n  function(thing) {\n    return `'original' expects a draft, got: ${thing}`;\n  }\n  // Note: if more errors are added, the errorOffset in Patches.ts should be increased\n  // See Patches.ts for additional errors\n] : [];\nfunction die(error, ...args) {\n  if (process.env.NODE_ENV !== \"production\") {\n    const e = errors[error];\n    const msg = typeof e === \"function\" ? e.apply(null, args) : e;\n    throw new Error(`[Immer] ${msg}`);\n  }\n  throw new Error(\n    `[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n  );\n}\n\n// src/utils/common.ts\nvar getPrototypeOf = Object.getPrototypeOf;\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\nfunction isDraftable(value) {\n  if (!value)\n    return false;\n  return isPlainObject(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor?.[DRAFTABLE] || isMap(value) || isSet(value);\n}\nvar objectCtorString = Object.prototype.constructor.toString();\nfunction isPlainObject(value) {\n  if (!value || typeof value !== \"object\")\n    return false;\n  const proto = getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n  const Ctor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  if (Ctor === Object)\n    return true;\n  return typeof Ctor == \"function\" && Function.toString.call(Ctor) === objectCtorString;\n}\nfunction original(value) {\n  if (!isDraft(value))\n    die(15, value);\n  return value[DRAFT_STATE].base_;\n}\nfunction each(obj, iter) {\n  if (getArchtype(obj) === 0 /* Object */) {\n    Reflect.ownKeys(obj).forEach((key) => {\n      iter(key, obj[key], obj);\n    });\n  } else {\n    obj.forEach((entry, index) => iter(index, entry, obj));\n  }\n}\nfunction getArchtype(thing) {\n  const state = thing[DRAFT_STATE];\n  return state ? state.type_ : Array.isArray(thing) ? 1 /* Array */ : isMap(thing) ? 2 /* Map */ : isSet(thing) ? 3 /* Set */ : 0 /* Object */;\n}\nfunction has(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);\n}\nfunction get(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.get(prop) : thing[prop];\n}\nfunction set(thing, propOrOldValue, value) {\n  const t = getArchtype(thing);\n  if (t === 2 /* Map */)\n    thing.set(propOrOldValue, value);\n  else if (t === 3 /* Set */) {\n    thing.add(value);\n  } else\n    thing[propOrOldValue] = value;\n}\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction isMap(target) {\n  return target instanceof Map;\n}\nfunction isSet(target) {\n  return target instanceof Set;\n}\nfunction latest(state) {\n  return state.copy_ || state.base_;\n}\nfunction shallowCopy(base, strict) {\n  if (isMap(base)) {\n    return new Map(base);\n  }\n  if (isSet(base)) {\n    return new Set(base);\n  }\n  if (Array.isArray(base))\n    return Array.prototype.slice.call(base);\n  const isPlain = isPlainObject(base);\n  if (strict === true || strict === \"class_only\" && !isPlain) {\n    const descriptors = Object.getOwnPropertyDescriptors(base);\n    delete descriptors[DRAFT_STATE];\n    let keys = Reflect.ownKeys(descriptors);\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i];\n      const desc = descriptors[key];\n      if (desc.writable === false) {\n        desc.writable = true;\n        desc.configurable = true;\n      }\n      if (desc.get || desc.set)\n        descriptors[key] = {\n          configurable: true,\n          writable: true,\n          // could live with !!desc.set as well here...\n          enumerable: desc.enumerable,\n          value: base[key]\n        };\n    }\n    return Object.create(getPrototypeOf(base), descriptors);\n  } else {\n    const proto = getPrototypeOf(base);\n    if (proto !== null && isPlain) {\n      return { ...base };\n    }\n    const obj = Object.create(proto);\n    return Object.assign(obj, base);\n  }\n}\nfunction freeze(obj, deep = false) {\n  if (isFrozen(obj) || isDraft(obj) || !isDraftable(obj))\n    return obj;\n  if (getArchtype(obj) > 1) {\n    obj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections;\n  }\n  Object.freeze(obj);\n  if (deep)\n    Object.entries(obj).forEach(([key, value]) => freeze(value, true));\n  return obj;\n}\nfunction dontMutateFrozenCollections() {\n  die(2);\n}\nfunction isFrozen(obj) {\n  return Object.isFrozen(obj);\n}\n\n// src/utils/plugins.ts\nvar plugins = {};\nfunction getPlugin(pluginKey) {\n  const plugin = plugins[pluginKey];\n  if (!plugin) {\n    die(0, pluginKey);\n  }\n  return plugin;\n}\nfunction loadPlugin(pluginKey, implementation) {\n  if (!plugins[pluginKey])\n    plugins[pluginKey] = implementation;\n}\n\n// src/core/scope.ts\nvar currentScope;\nfunction getCurrentScope() {\n  return currentScope;\n}\nfunction createScope(parent_, immer_) {\n  return {\n    drafts_: [],\n    parent_,\n    immer_,\n    // Whenever the modified draft contains a draft from another scope, we\n    // need to prevent auto-freezing so the unowned draft can be finalized.\n    canAutoFreeze_: true,\n    unfinalizedDrafts_: 0\n  };\n}\nfunction usePatchesInScope(scope, patchListener) {\n  if (patchListener) {\n    getPlugin(\"Patches\");\n    scope.patches_ = [];\n    scope.inversePatches_ = [];\n    scope.patchListener_ = patchListener;\n  }\n}\nfunction revokeScope(scope) {\n  leaveScope(scope);\n  scope.drafts_.forEach(revokeDraft);\n  scope.drafts_ = null;\n}\nfunction leaveScope(scope) {\n  if (scope === currentScope) {\n    currentScope = scope.parent_;\n  }\n}\nfunction enterScope(immer2) {\n  return currentScope = createScope(currentScope, immer2);\n}\nfunction revokeDraft(draft) {\n  const state = draft[DRAFT_STATE];\n  if (state.type_ === 0 /* Object */ || state.type_ === 1 /* Array */)\n    state.revoke_();\n  else\n    state.revoked_ = true;\n}\n\n// src/core/finalize.ts\nfunction processResult(result, scope) {\n  scope.unfinalizedDrafts_ = scope.drafts_.length;\n  const baseDraft = scope.drafts_[0];\n  const isReplaced = result !== void 0 && result !== baseDraft;\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified_) {\n      revokeScope(scope);\n      die(4);\n    }\n    if (isDraftable(result)) {\n      result = finalize(scope, result);\n      if (!scope.parent_)\n        maybeFreeze(scope, result);\n    }\n    if (scope.patches_) {\n      getPlugin(\"Patches\").generateReplacementPatches_(\n        baseDraft[DRAFT_STATE].base_,\n        result,\n        scope.patches_,\n        scope.inversePatches_\n      );\n    }\n  } else {\n    result = finalize(scope, baseDraft, []);\n  }\n  revokeScope(scope);\n  if (scope.patches_) {\n    scope.patchListener_(scope.patches_, scope.inversePatches_);\n  }\n  return result !== NOTHING ? result : void 0;\n}\nfunction finalize(rootScope, value, path) {\n  if (isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  if (!state) {\n    each(\n      value,\n      (key, childValue) => finalizeProperty(rootScope, state, value, key, childValue, path)\n    );\n    return value;\n  }\n  if (state.scope_ !== rootScope)\n    return value;\n  if (!state.modified_) {\n    maybeFreeze(rootScope, state.base_, true);\n    return state.base_;\n  }\n  if (!state.finalized_) {\n    state.finalized_ = true;\n    state.scope_.unfinalizedDrafts_--;\n    const result = state.copy_;\n    let resultEach = result;\n    let isSet2 = false;\n    if (state.type_ === 3 /* Set */) {\n      resultEach = new Set(result);\n      result.clear();\n      isSet2 = true;\n    }\n    each(\n      resultEach,\n      (key, childValue) => finalizeProperty(rootScope, state, result, key, childValue, path, isSet2)\n    );\n    maybeFreeze(rootScope, result, false);\n    if (path && rootScope.patches_) {\n      getPlugin(\"Patches\").generatePatches_(\n        state,\n        path,\n        rootScope.patches_,\n        rootScope.inversePatches_\n      );\n    }\n  }\n  return state.copy_;\n}\nfunction finalizeProperty(rootScope, parentState, targetObject, prop, childValue, rootPath, targetIsSet) {\n  if (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n    die(5);\n  if (isDraft(childValue)) {\n    const path = rootPath && parentState && parentState.type_ !== 3 /* Set */ && // Set objects are atomic since they have no keys.\n    !has(parentState.assigned_, prop) ? rootPath.concat(prop) : void 0;\n    const res = finalize(rootScope, childValue, path);\n    set(targetObject, prop, res);\n    if (isDraft(res)) {\n      rootScope.canAutoFreeze_ = false;\n    } else\n      return;\n  } else if (targetIsSet) {\n    targetObject.add(childValue);\n  }\n  if (isDraftable(childValue) && !isFrozen(childValue)) {\n    if (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n      return;\n    }\n    finalize(rootScope, childValue);\n    if ((!parentState || !parentState.scope_.parent_) && typeof prop !== \"symbol\" && Object.prototype.propertyIsEnumerable.call(targetObject, prop))\n      maybeFreeze(rootScope, childValue);\n  }\n}\nfunction maybeFreeze(scope, value, deep = false) {\n  if (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n    freeze(value, deep);\n  }\n}\n\n// src/core/proxy.ts\nfunction createProxyProxy(base, parent) {\n  const isArray = Array.isArray(base);\n  const state = {\n    type_: isArray ? 1 /* Array */ : 0 /* Object */,\n    // Track which produce call this is associated with.\n    scope_: parent ? parent.scope_ : getCurrentScope(),\n    // True for both shallow and deep changes.\n    modified_: false,\n    // Used during finalization.\n    finalized_: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned_: {},\n    // The parent draft state.\n    parent_: parent,\n    // The base state.\n    base_: base,\n    // The base proxy.\n    draft_: null,\n    // set below\n    // The base copy with any updated values.\n    copy_: null,\n    // Called by the `produce` function.\n    revoke_: null,\n    isManual_: false\n  };\n  let target = state;\n  let traps = objectTraps;\n  if (isArray) {\n    target = [state];\n    traps = arrayTraps;\n  }\n  const { revoke, proxy } = Proxy.revocable(target, traps);\n  state.draft_ = proxy;\n  state.revoke_ = revoke;\n  return proxy;\n}\nvar objectTraps = {\n  get(state, prop) {\n    if (prop === DRAFT_STATE)\n      return state;\n    const source = latest(state);\n    if (!has(source, prop)) {\n      return readPropFromProto(state, source, prop);\n    }\n    const value = source[prop];\n    if (state.finalized_ || !isDraftable(value)) {\n      return value;\n    }\n    if (value === peek(state.base_, prop)) {\n      prepareCopy(state);\n      return state.copy_[prop] = createProxy(value, state);\n    }\n    return value;\n  },\n  has(state, prop) {\n    return prop in latest(state);\n  },\n  ownKeys(state) {\n    return Reflect.ownKeys(latest(state));\n  },\n  set(state, prop, value) {\n    const desc = getDescriptorFromProto(latest(state), prop);\n    if (desc?.set) {\n      desc.set.call(state.draft_, value);\n      return true;\n    }\n    if (!state.modified_) {\n      const current2 = peek(latest(state), prop);\n      const currentState = current2?.[DRAFT_STATE];\n      if (currentState && currentState.base_ === value) {\n        state.copy_[prop] = value;\n        state.assigned_[prop] = false;\n        return true;\n      }\n      if (is(value, current2) && (value !== void 0 || has(state.base_, prop)))\n        return true;\n      prepareCopy(state);\n      markChanged(state);\n    }\n    if (state.copy_[prop] === value && // special case: handle new props with value 'undefined'\n    (value !== void 0 || prop in state.copy_) || // special case: NaN\n    Number.isNaN(value) && Number.isNaN(state.copy_[prop]))\n      return true;\n    state.copy_[prop] = value;\n    state.assigned_[prop] = true;\n    return true;\n  },\n  deleteProperty(state, prop) {\n    if (peek(state.base_, prop) !== void 0 || prop in state.base_) {\n      state.assigned_[prop] = false;\n      prepareCopy(state);\n      markChanged(state);\n    } else {\n      delete state.assigned_[prop];\n    }\n    if (state.copy_) {\n      delete state.copy_[prop];\n    }\n    return true;\n  },\n  // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n  // the same guarantee in ES5 mode.\n  getOwnPropertyDescriptor(state, prop) {\n    const owner = latest(state);\n    const desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n    if (!desc)\n      return desc;\n    return {\n      writable: true,\n      configurable: state.type_ !== 1 /* Array */ || prop !== \"length\",\n      enumerable: desc.enumerable,\n      value: owner[prop]\n    };\n  },\n  defineProperty() {\n    die(11);\n  },\n  getPrototypeOf(state) {\n    return getPrototypeOf(state.base_);\n  },\n  setPrototypeOf() {\n    die(12);\n  }\n};\nvar arrayTraps = {};\neach(objectTraps, (key, fn) => {\n  arrayTraps[key] = function() {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\narrayTraps.deleteProperty = function(state, prop) {\n  if (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop)))\n    die(13);\n  return arrayTraps.set.call(this, state, prop, void 0);\n};\narrayTraps.set = function(state, prop, value) {\n  if (process.env.NODE_ENV !== \"production\" && prop !== \"length\" && isNaN(parseInt(prop)))\n    die(14);\n  return objectTraps.set.call(this, state[0], prop, value, state[0]);\n};\nfunction peek(draft, prop) {\n  const state = draft[DRAFT_STATE];\n  const source = state ? latest(state) : draft;\n  return source[prop];\n}\nfunction readPropFromProto(state, source, prop) {\n  const desc = getDescriptorFromProto(source, prop);\n  return desc ? `value` in desc ? desc.value : (\n    // This is a very special case, if the prop is a getter defined by the\n    // prototype, we should invoke it with the draft as context!\n    desc.get?.call(state.draft_)\n  ) : void 0;\n}\nfunction getDescriptorFromProto(source, prop) {\n  if (!(prop in source))\n    return void 0;\n  let proto = getPrototypeOf(source);\n  while (proto) {\n    const desc = Object.getOwnPropertyDescriptor(proto, prop);\n    if (desc)\n      return desc;\n    proto = getPrototypeOf(proto);\n  }\n  return void 0;\n}\nfunction markChanged(state) {\n  if (!state.modified_) {\n    state.modified_ = true;\n    if (state.parent_) {\n      markChanged(state.parent_);\n    }\n  }\n}\nfunction prepareCopy(state) {\n  if (!state.copy_) {\n    state.copy_ = shallowCopy(\n      state.base_,\n      state.scope_.immer_.useStrictShallowCopy_\n    );\n  }\n}\n\n// src/core/immerClass.ts\nvar Immer2 = class {\n  constructor(config) {\n    this.autoFreeze_ = true;\n    this.useStrictShallowCopy_ = false;\n    /**\n     * The `produce` function takes a value and a \"recipe function\" (whose\n     * return value often depends on the base state). The recipe function is\n     * free to mutate its first argument however it wants. All mutations are\n     * only ever applied to a __copy__ of the base state.\n     *\n     * Pass only a function to create a \"curried producer\" which relieves you\n     * from passing the recipe function every time.\n     *\n     * Only plain objects and arrays are made mutable. All other objects are\n     * considered uncopyable.\n     *\n     * Note: This function is __bound__ to its `Immer` instance.\n     *\n     * @param {any} base - the initial state\n     * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n     * @param {Function} patchListener - optional function that will be called with all the patches produced here\n     * @returns {any} a new state, or the initial state if nothing was modified\n     */\n    this.produce = (base, recipe, patchListener) => {\n      if (typeof base === \"function\" && typeof recipe !== \"function\") {\n        const defaultBase = recipe;\n        recipe = base;\n        const self = this;\n        return function curriedProduce(base2 = defaultBase, ...args) {\n          return self.produce(base2, (draft) => recipe.call(this, draft, ...args));\n        };\n      }\n      if (typeof recipe !== \"function\")\n        die(6);\n      if (patchListener !== void 0 && typeof patchListener !== \"function\")\n        die(7);\n      let result;\n      if (isDraftable(base)) {\n        const scope = enterScope(this);\n        const proxy = createProxy(base, void 0);\n        let hasError = true;\n        try {\n          result = recipe(proxy);\n          hasError = false;\n        } finally {\n          if (hasError)\n            revokeScope(scope);\n          else\n            leaveScope(scope);\n        }\n        usePatchesInScope(scope, patchListener);\n        return processResult(result, scope);\n      } else if (!base || typeof base !== \"object\") {\n        result = recipe(base);\n        if (result === void 0)\n          result = base;\n        if (result === NOTHING)\n          result = void 0;\n        if (this.autoFreeze_)\n          freeze(result, true);\n        if (patchListener) {\n          const p = [];\n          const ip = [];\n          getPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip);\n          patchListener(p, ip);\n        }\n        return result;\n      } else\n        die(1, base);\n    };\n    this.produceWithPatches = (base, recipe) => {\n      if (typeof base === \"function\") {\n        return (state, ...args) => this.produceWithPatches(state, (draft) => base(draft, ...args));\n      }\n      let patches, inversePatches;\n      const result = this.produce(base, recipe, (p, ip) => {\n        patches = p;\n        inversePatches = ip;\n      });\n      return [result, patches, inversePatches];\n    };\n    if (typeof config?.autoFreeze === \"boolean\")\n      this.setAutoFreeze(config.autoFreeze);\n    if (typeof config?.useStrictShallowCopy === \"boolean\")\n      this.setUseStrictShallowCopy(config.useStrictShallowCopy);\n  }\n  createDraft(base) {\n    if (!isDraftable(base))\n      die(8);\n    if (isDraft(base))\n      base = current(base);\n    const scope = enterScope(this);\n    const proxy = createProxy(base, void 0);\n    proxy[DRAFT_STATE].isManual_ = true;\n    leaveScope(scope);\n    return proxy;\n  }\n  finishDraft(draft, patchListener) {\n    const state = draft && draft[DRAFT_STATE];\n    if (!state || !state.isManual_)\n      die(9);\n    const { scope_: scope } = state;\n    usePatchesInScope(scope, patchListener);\n    return processResult(void 0, scope);\n  }\n  /**\n   * Pass true to automatically freeze all copies created by Immer.\n   *\n   * By default, auto-freezing is enabled.\n   */\n  setAutoFreeze(value) {\n    this.autoFreeze_ = value;\n  }\n  /**\n   * Pass true to enable strict shallow copy.\n   *\n   * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n   */\n  setUseStrictShallowCopy(value) {\n    this.useStrictShallowCopy_ = value;\n  }\n  applyPatches(base, patches) {\n    let i;\n    for (i = patches.length - 1; i >= 0; i--) {\n      const patch = patches[i];\n      if (patch.path.length === 0 && patch.op === \"replace\") {\n        base = patch.value;\n        break;\n      }\n    }\n    if (i > -1) {\n      patches = patches.slice(i + 1);\n    }\n    const applyPatchesImpl = getPlugin(\"Patches\").applyPatches_;\n    if (isDraft(base)) {\n      return applyPatchesImpl(base, patches);\n    }\n    return this.produce(\n      base,\n      (draft) => applyPatchesImpl(draft, patches)\n    );\n  }\n};\nfunction createProxy(value, parent) {\n  const draft = isMap(value) ? getPlugin(\"MapSet\").proxyMap_(value, parent) : isSet(value) ? getPlugin(\"MapSet\").proxySet_(value, parent) : createProxyProxy(value, parent);\n  const scope = parent ? parent.scope_ : getCurrentScope();\n  scope.drafts_.push(draft);\n  return draft;\n}\n\n// src/core/current.ts\nfunction current(value) {\n  if (!isDraft(value))\n    die(10, value);\n  return currentImpl(value);\n}\nfunction currentImpl(value) {\n  if (!isDraftable(value) || isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  let copy;\n  if (state) {\n    if (!state.modified_)\n      return state.base_;\n    state.finalized_ = true;\n    copy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_);\n  } else {\n    copy = shallowCopy(value, true);\n  }\n  each(copy, (key, childValue) => {\n    set(copy, key, currentImpl(childValue));\n  });\n  if (state) {\n    state.finalized_ = false;\n  }\n  return copy;\n}\n\n// src/plugins/patches.ts\nfunction enablePatches() {\n  const errorOffset = 16;\n  if (process.env.NODE_ENV !== \"production\") {\n    errors.push(\n      'Sets cannot have \"replace\" patches.',\n      function(op) {\n        return \"Unsupported patch operation: \" + op;\n      },\n      function(path) {\n        return \"Cannot apply patch, path doesn't resolve: \" + path;\n      },\n      \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n    );\n  }\n  const REPLACE = \"replace\";\n  const ADD = \"add\";\n  const REMOVE = \"remove\";\n  function generatePatches_(state, basePath, patches, inversePatches) {\n    switch (state.type_) {\n      case 0 /* Object */:\n      case 2 /* Map */:\n        return generatePatchesFromAssigned(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n      case 1 /* Array */:\n        return generateArrayPatches(state, basePath, patches, inversePatches);\n      case 3 /* Set */:\n        return generateSetPatches(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n    }\n  }\n  function generateArrayPatches(state, basePath, patches, inversePatches) {\n    let { base_, assigned_ } = state;\n    let copy_ = state.copy_;\n    if (copy_.length < base_.length) {\n      ;\n      [base_, copy_] = [copy_, base_];\n      [patches, inversePatches] = [inversePatches, patches];\n    }\n    for (let i = 0; i < base_.length; i++) {\n      if (assigned_[i] && copy_[i] !== base_[i]) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REPLACE,\n          path,\n          // Need to maybe clone it, as it can in fact be the original value\n          // due to the base/copy inversion at the start of this function\n          value: clonePatchValueIfNeeded(copy_[i])\n        });\n        inversePatches.push({\n          op: REPLACE,\n          path,\n          value: clonePatchValueIfNeeded(base_[i])\n        });\n      }\n    }\n    for (let i = base_.length; i < copy_.length; i++) {\n      const path = basePath.concat([i]);\n      patches.push({\n        op: ADD,\n        path,\n        // Need to maybe clone it, as it can in fact be the original value\n        // due to the base/copy inversion at the start of this function\n        value: clonePatchValueIfNeeded(copy_[i])\n      });\n    }\n    for (let i = copy_.length - 1; base_.length <= i; --i) {\n      const path = basePath.concat([i]);\n      inversePatches.push({\n        op: REMOVE,\n        path\n      });\n    }\n  }\n  function generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n    const { base_, copy_ } = state;\n    each(state.assigned_, (key, assignedValue) => {\n      const origValue = get(base_, key);\n      const value = get(copy_, key);\n      const op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD;\n      if (origValue === value && op === REPLACE)\n        return;\n      const path = basePath.concat(key);\n      patches.push(op === REMOVE ? { op, path } : { op, path, value });\n      inversePatches.push(\n        op === ADD ? { op: REMOVE, path } : op === REMOVE ? { op: ADD, path, value: clonePatchValueIfNeeded(origValue) } : { op: REPLACE, path, value: clonePatchValueIfNeeded(origValue) }\n      );\n    });\n  }\n  function generateSetPatches(state, basePath, patches, inversePatches) {\n    let { base_, copy_ } = state;\n    let i = 0;\n    base_.forEach((value) => {\n      if (!copy_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REMOVE,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: ADD,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n    i = 0;\n    copy_.forEach((value) => {\n      if (!base_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: ADD,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: REMOVE,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n  }\n  function generateReplacementPatches_(baseValue, replacement, patches, inversePatches) {\n    patches.push({\n      op: REPLACE,\n      path: [],\n      value: replacement === NOTHING ? void 0 : replacement\n    });\n    inversePatches.push({\n      op: REPLACE,\n      path: [],\n      value: baseValue\n    });\n  }\n  function applyPatches_(draft, patches) {\n    patches.forEach((patch) => {\n      const { path, op } = patch;\n      let base = draft;\n      for (let i = 0; i < path.length - 1; i++) {\n        const parentType = getArchtype(base);\n        let p = path[i];\n        if (typeof p !== \"string\" && typeof p !== \"number\") {\n          p = \"\" + p;\n        }\n        if ((parentType === 0 /* Object */ || parentType === 1 /* Array */) && (p === \"__proto__\" || p === \"constructor\"))\n          die(errorOffset + 3);\n        if (typeof base === \"function\" && p === \"prototype\")\n          die(errorOffset + 3);\n        base = get(base, p);\n        if (typeof base !== \"object\")\n          die(errorOffset + 2, path.join(\"/\"));\n      }\n      const type = getArchtype(base);\n      const value = deepClonePatchValue(patch.value);\n      const key = path[path.length - 1];\n      switch (op) {\n        case REPLACE:\n          switch (type) {\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              die(errorOffset);\n            default:\n              return base[key] = value;\n          }\n        case ADD:\n          switch (type) {\n            case 1 /* Array */:\n              return key === \"-\" ? base.push(value) : base.splice(key, 0, value);\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              return base.add(value);\n            default:\n              return base[key] = value;\n          }\n        case REMOVE:\n          switch (type) {\n            case 1 /* Array */:\n              return base.splice(key, 1);\n            case 2 /* Map */:\n              return base.delete(key);\n            case 3 /* Set */:\n              return base.delete(patch.value);\n            default:\n              return delete base[key];\n          }\n        default:\n          die(errorOffset + 1, op);\n      }\n    });\n    return draft;\n  }\n  function deepClonePatchValue(obj) {\n    if (!isDraftable(obj))\n      return obj;\n    if (Array.isArray(obj))\n      return obj.map(deepClonePatchValue);\n    if (isMap(obj))\n      return new Map(\n        Array.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n      );\n    if (isSet(obj))\n      return new Set(Array.from(obj).map(deepClonePatchValue));\n    const cloned = Object.create(getPrototypeOf(obj));\n    for (const key in obj)\n      cloned[key] = deepClonePatchValue(obj[key]);\n    if (has(obj, DRAFTABLE))\n      cloned[DRAFTABLE] = obj[DRAFTABLE];\n    return cloned;\n  }\n  function clonePatchValueIfNeeded(obj) {\n    if (isDraft(obj)) {\n      return deepClonePatchValue(obj);\n    } else\n      return obj;\n  }\n  loadPlugin(\"Patches\", {\n    applyPatches_,\n    generatePatches_,\n    generateReplacementPatches_\n  });\n}\n\n// src/plugins/mapset.ts\nfunction enableMapSet() {\n  class DraftMap extends Map {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 2 /* Map */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        assigned_: void 0,\n        base_: target,\n        draft_: this,\n        isManual_: false,\n        revoked_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(key) {\n      return latest(this[DRAFT_STATE]).has(key);\n    }\n    set(key, value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!latest(state).has(key) || latest(state).get(key) !== value) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_.set(key, true);\n        state.copy_.set(key, value);\n        state.assigned_.set(key, true);\n      }\n      return this;\n    }\n    delete(key) {\n      if (!this.has(key)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareMapCopy(state);\n      markChanged(state);\n      if (state.base_.has(key)) {\n        state.assigned_.set(key, false);\n      } else {\n        state.assigned_.delete(key);\n      }\n      state.copy_.delete(key);\n      return true;\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_ = /* @__PURE__ */ new Map();\n        each(state.base_, (key) => {\n          state.assigned_.set(key, false);\n        });\n        state.copy_.clear();\n      }\n    }\n    forEach(cb, thisArg) {\n      const state = this[DRAFT_STATE];\n      latest(state).forEach((_value, key, _map) => {\n        cb.call(thisArg, this.get(key), key, this);\n      });\n    }\n    get(key) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      const value = latest(state).get(key);\n      if (state.finalized_ || !isDraftable(value)) {\n        return value;\n      }\n      if (value !== state.base_.get(key)) {\n        return value;\n      }\n      const draft = createProxy(value, state);\n      prepareMapCopy(state);\n      state.copy_.set(key, draft);\n      return draft;\n    }\n    keys() {\n      return latest(this[DRAFT_STATE]).keys();\n    }\n    values() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.values(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value\n          };\n        }\n      };\n    }\n    entries() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.entries(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value: [r.value, value]\n          };\n        }\n      };\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.entries();\n    }\n  }\n  function proxyMap_(target, parent) {\n    return new DraftMap(target, parent);\n  }\n  function prepareMapCopy(state) {\n    if (!state.copy_) {\n      state.assigned_ = /* @__PURE__ */ new Map();\n      state.copy_ = new Map(state.base_);\n    }\n  }\n  class DraftSet extends Set {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 3 /* Set */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        base_: target,\n        draft_: this,\n        drafts_: /* @__PURE__ */ new Map(),\n        revoked_: false,\n        isManual_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!state.copy_) {\n        return state.base_.has(value);\n      }\n      if (state.copy_.has(value))\n        return true;\n      if (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n        return true;\n      return false;\n    }\n    add(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!this.has(value)) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.add(value);\n      }\n      return this;\n    }\n    delete(value) {\n      if (!this.has(value)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      markChanged(state);\n      return state.copy_.delete(value) || (state.drafts_.has(value) ? state.copy_.delete(state.drafts_.get(value)) : (\n        /* istanbul ignore next */\n        false\n      ));\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.clear();\n      }\n    }\n    values() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.values();\n    }\n    entries() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.entries();\n    }\n    keys() {\n      return this.values();\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.values();\n    }\n    forEach(cb, thisArg) {\n      const iterator = this.values();\n      let result = iterator.next();\n      while (!result.done) {\n        cb.call(thisArg, result.value, result.value, this);\n        result = iterator.next();\n      }\n    }\n  }\n  function proxySet_(target, parent) {\n    return new DraftSet(target, parent);\n  }\n  function prepareSetCopy(state) {\n    if (!state.copy_) {\n      state.copy_ = /* @__PURE__ */ new Set();\n      state.base_.forEach((value) => {\n        if (isDraftable(value)) {\n          const draft = createProxy(value, state);\n          state.drafts_.set(value, draft);\n          state.copy_.add(draft);\n        } else {\n          state.copy_.add(value);\n        }\n      });\n    }\n  }\n  function assertUnrevoked(state) {\n    if (state.revoked_)\n      die(3, JSON.stringify(latest(state)));\n  }\n  loadPlugin(\"MapSet\", { proxyMap_, proxySet_ });\n}\n\n// src/immer.ts\nvar immer = new Immer2();\nvar produce = immer.produce;\nvar produceWithPatches = immer.produceWithPatches.bind(\n  immer\n);\nvar setAutoFreeze = immer.setAutoFreeze.bind(immer);\nvar setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer);\nvar applyPatches = immer.applyPatches.bind(immer);\nvar createDraft = immer.createDraft.bind(immer);\nvar finishDraft = immer.finishDraft.bind(immer);\nfunction castDraft(value) {\n  return value;\n}\nfunction castImmutable(value) {\n  return value;\n}\nexport {\n  Immer2 as Immer,\n  applyPatches,\n  castDraft,\n  castImmutable,\n  createDraft,\n  current,\n  enableMapSet,\n  enablePatches,\n  finishDraft,\n  freeze,\n  DRAFTABLE as immerable,\n  isDraft,\n  isDraftable,\n  NOTHING as nothing,\n  original,\n  produce,\n  produceWithPatches,\n  setAutoFreeze,\n  setUseStrictShallowCopy\n};\n//# sourceMappingURL=immer.mjs.map","import { produce } from 'immer';\n\nconst immerImpl = (initializer) => (set, get, store) => {\n  store.setState = (updater, replace, ...args) => {\n    const nextState = typeof updater === \"function\" ? produce(updater) : updater;\n    return set(nextState, replace, ...args);\n  };\n  return initializer(store.setState, get, store);\n};\nconst immer = immerImpl;\n\nexport { immer };\n","import { create } from 'zustand';\nimport { persist, createJSONStorage } from 'zustand/middleware';\nimport { immer } from 'zustand/middleware/immer';\nimport { SupabaseService } from '../lib/supabaseService';\n\n// Types\nexport interface User {\n  id: string;\n  name: string;\n  email: string;\n  avatar?: string;\n  username?: string;\n  bio?: string;\n  location?: string;\n  role: 'user' | 'moderator' | 'admin';\n  preferences: UserPreferences;\n}\n\nexport interface Game {\n  id: string;\n  title: string;\n  sport: string;\n  date: string;\n  time: string;\n  duration: number;\n  location: string;\n  latitude?: number;\n  longitude?: number;\n  currentPlayers: number;\n  maxPlayers: number;\n  cost: string;\n  description: string;\n  imageUrl: string;\n  sportColor: string;\n  isJoined: boolean;\n  createdBy: string;\n  createdAt: string;\n  // Host profile data\n  creatorId?: string;\n  creatorData?: {\n    id: string;\n    name: string;\n    avatar?: string;\n    username?: string;\n    rating?: string | number;\n  };\n}\n\nexport interface UserPreferences {\n  theme: 'light' | 'dark' | 'auto';\n  highContrast: boolean;\n  largeText: boolean;\n  reducedMotion: boolean;\n  colorBlindFriendly: boolean;\n  // Optional list of sports from the DB profile\n  sports?: string[];\n  notifications: {\n    push: boolean;\n    email: boolean;\n    gameReminders: boolean;\n  };\n  privacy: {\n    locationSharing: boolean;\n    profileVisibility: 'public' | 'players' | 'private';\n  };\n}\n\nexport interface AppState {\n  // User state\n  user: User | null;\n  isAuthenticated: boolean;\n  \n  // Games state\n  games: Game[];\n  myGames: Game[];\n  nearbyGames: Game[];\n  \n  // UI state\n  isLoading: boolean;\n  error: string | null;\n  \n  // Chat state\n  chatContext: { type: 'game' | 'direct', id: string, title: string } | null;\n  \n  // Search state\n  searchFilters: {\n    sports: string[];\n    dateRange: { start: Date | null; end: Date | null };\n    distance: number;\n    priceRange: { min: number; max: number };\n  };\n}\n\nexport interface AppActions {\n  // User actions\n  setUser: (user: User | null) => void;\n  updateUserPreferences: (preferences: Partial<UserPreferences>) => void;\n  signOut: () => void;\n  signIn: (email: string, password: string) => Promise<void>;\n  signUp: (email: string, password: string, userData: Partial<User>) => Promise<void>;\n  initializeAuth: () => Promise<void>;\n  \n  // Games actions\n  setGames: (games: Game[]) => void;\n  addGame: (game: Game) => void;\n  updateGame: (gameId: string, updates: Partial<Game>) => void;\n  joinGame: (gameId: string) => void;\n  leaveGame: (gameId: string) => void;\n  \n  // UI actions\n  setLoading: (loading: boolean) => void;\n  setError: (error: string | null) => void;\n  clearError: () => void;\n  \n  // Chat actions\n  setChatContext: (context: { type: 'game' | 'direct', id: string, title: string } | null) => void;\n  \n  // Search actions\n  updateSearchFilters: (filters: Partial<AppState['searchFilters']>) => void;\n  clearSearchFilters: () => void;\n  \n  // Utility actions\n  reset: () => void;\n}\n\n// Default values\nconst defaultPreferences: UserPreferences = {\n  theme: 'auto',\n  highContrast: false,\n  largeText: false,\n  reducedMotion: false,\n  colorBlindFriendly: false,\n  notifications: {\n    push: true,\n    email: false,\n    gameReminders: true,\n  },\n  privacy: {\n    locationSharing: true,\n    profileVisibility: 'public',\n  },\n};\n\nconst defaultSearchFilters: AppState['searchFilters'] = {\n  sports: [],\n  dateRange: { start: null, end: null },\n  distance: 25,\n  priceRange: { min: 0, max: 100 },\n};\n\nconst initialState: AppState = {\n  user: null,\n  isAuthenticated: false,\n  games: [],\n  myGames: [],\n  nearbyGames: [],\n  isLoading: false,\n  error: null,\n  chatContext: null,\n  searchFilters: defaultSearchFilters,\n};\n\n// Create the store\nexport const useAppStore = create<AppState & AppActions>()(\n  persist(\n    immer((set, get) => ({\n      ...initialState,\n      \n      // User actions\n      setUser: (user) => set((state) => {\n        state.user = user;\n        state.isAuthenticated = !!user;\n      }),\n      \n      updateUserPreferences: async (preferences) => {\n        const { setLoading, setError } = get();\n        try {\n          setLoading(true);\n          const currentUser = await SupabaseService.getCurrentUser();\n          if (currentUser) {\n            await SupabaseService.updateUserProfile(currentUser.id, { preferences });\n            set((state) => {\n              if (state.user) {\n                state.user.preferences = { ...state.user.preferences, ...preferences };\n              }\n            });\n          }\n        } catch (error) {\n          setError(error instanceof Error ? error.message : 'Failed to update preferences');\n        } finally {\n          setLoading(false);\n        }\n      },\n      \n      signOut: async () => {\n        const { setLoading, setError } = get();\n        try {\n          setLoading(true);\n          await SupabaseService.signOut();\n          set((state) => {\n            state.user = null;\n            state.isAuthenticated = false;\n            state.myGames = [];\n            state.chatContext = null;\n          });\n        } catch (error) {\n          setError(error instanceof Error ? error.message : 'Failed to sign out');\n        } finally {\n          setLoading(false);\n        }\n      },\n\n      signIn: async (email: string, password: string) => {\n        const { setLoading, setError } = get();\n        try {\n          setLoading(true);\n          const { user } = await SupabaseService.signIn(email, password);\n          if (user) {\n            const userProfile = await SupabaseService.getUserProfile(user.id);\n            set((state) => {\n              state.user = userProfile;\n              state.isAuthenticated = true;\n            });\n          }\n        } catch (error) {\n          setError(error instanceof Error ? error.message : 'Failed to sign in');\n        } finally {\n          setLoading(false);\n        }\n      },\n\n      signUp: async (email: string, password: string, userData: Partial<User>) => {\n        const { setLoading, setError } = get();\n        try {\n          setLoading(true);\n          const { user } = await SupabaseService.signUp(email, password, userData);\n          if (user) {\n            const userProfile = await SupabaseService.getUserProfile(user.id);\n            set((state) => {\n              state.user = userProfile;\n              state.isAuthenticated = true;\n            });\n          }\n        } catch (error) {\n          setError(error instanceof Error ? error.message : 'Failed to sign up');\n        } finally {\n          setLoading(false);\n        }\n      },\n\n      initializeAuth: async () => {\n        const { setLoading, setError, setGames } = get();\n        const state = get();\n        \n        // Prevent multiple simultaneous calls\n        if (state.isLoading) {\n          return;\n        }\n        \n        try {\n          setLoading(true);\n          \n          // Only load games if we don't have them already\n          if (state.games.length === 0) {\n            const gamesData = await SupabaseService.getGames();\n            setGames(gamesData);\n          }\n        } catch (error) {\n          setError(error instanceof Error ? error.message : 'Failed to initialize auth');\n        } finally {\n          setLoading(false);\n        }\n      },\n      \n      // Games actions\n      setGames: (games: Game[]) => {\n        set((state) => {\n          state.games = games;\n          state.isLoading = false;\n          // Update derived state\n          const userId = state.user?.id;\n          state.myGames = games.filter(game => game.createdBy === userId || game.isJoined);\n          state.nearbyGames = games.slice(0, 10); // Simplified nearby logic\n        });\n      },\n      \n      addGame: async (gameData) => {\n        const { setLoading, setError } = get();\n        try {\n          setLoading(true);\n          const newGame = await SupabaseService.createGame(gameData);\n          set((state) => {\n            state.games.unshift(newGame);\n            // Add to my games if I created it\n            if (newGame.createdBy === state.user?.id) {\n              state.myGames.unshift(newGame);\n            }\n          });\n        } catch (error) {\n          setError(error instanceof Error ? error.message : 'Failed to create game');\n        } finally {\n          setLoading(false);\n        }\n      },\n      \n      updateGame: async (gameId, updates) => {\n        const { setLoading, setError } = get();\n        try {\n          setLoading(true);\n          // Note: This would need to be implemented in SupabaseService\n          // For now, we'll just update the local state\n          set((state) => {\n            const gameIndex = state.games.findIndex(g => g.id === gameId);\n            if (gameIndex !== -1) {\n              state.games[gameIndex] = { ...state.games[gameIndex], ...updates };\n            }\n            \n            // Update in myGames if present\n            const myGameIndex = state.myGames.findIndex(g => g.id === gameId);\n            if (myGameIndex !== -1) {\n              state.myGames[myGameIndex] = { ...state.myGames[myGameIndex], ...updates };\n            }\n          });\n        } catch (error) {\n          setError(error instanceof Error ? error.message : 'Failed to update game');\n        } finally {\n          setLoading(false);\n        }\n      },\n      \n      joinGame: async (gameId) => {\n        console.warn(' Zustand joinGame method is deprecated - use React Query mutations instead');\n        // This method is disabled to prevent conflicts with React Query mutations\n        // Use useJoinGame() hook instead\n      },\n      \n      leaveGame: async (gameId) => {\n        console.warn(' Zustand leaveGame method is deprecated - use React Query mutations instead');\n        // This method is disabled to prevent conflicts with React Query mutations\n        // Use useLeaveGame() hook instead\n      },\n      \n      // UI actions\n      setLoading: (loading) => set((state) => {\n        state.isLoading = loading;\n      }),\n      \n      setError: (error) => set((state) => {\n        state.error = error;\n        state.isLoading = false;\n      }),\n      \n      clearError: () => set((state) => {\n        state.error = null;\n      }),\n      \n      // Chat actions\n      setChatContext: (context) => set((state) => {\n        state.chatContext = context;\n      }),\n      \n      // Search actions\n      updateSearchFilters: (filters) => set((state) => {\n        state.searchFilters = { ...state.searchFilters, ...filters };\n      }),\n      \n      clearSearchFilters: () => set((state) => {\n        state.searchFilters = defaultSearchFilters;\n      }),\n      \n      // Utility actions\n      reset: () => set(() => initialState),\n    })),\n    {\n      name: 'tribeup-store',\n      storage: createJSONStorage(() => localStorage),\n      partialize: (state) => ({\n        user: state.user,\n        searchFilters: state.searchFilters,\n        // Don't persist games, chat context, or loading states\n      }),\n    }\n  )\n);\n\n// Selectors for derived state\nexport const useUser = () => useAppStore((state) => state.user);\nexport const useIsAuthenticated = () => useAppStore((state) => state.isAuthenticated);\nexport const useGames = () => useAppStore((state) => state.games);\nexport const useMyGames = () => useAppStore((state) => state.myGames);\nexport const useNearbyGames = () => useAppStore((state) => state.nearbyGames);\nexport const useAppLoading = () => useAppStore((state) => state.isLoading);\nexport const useAppError = () => useAppStore((state) => state.error);\nexport const useChatContext = () => useAppStore((state) => state.chatContext);\nexport const useSearchFilters = () => useAppStore((state) => state.searchFilters);\n\n// Action selectors\nexport const useAppActions = () => useAppStore((state) => ({\n  setUser: state.setUser,\n  updateUserPreferences: state.updateUserPreferences,\n  signOut: state.signOut,\n  signIn: state.signIn,\n  signUp: state.signUp,\n  initializeAuth: state.initializeAuth,\n  setGames: state.setGames,\n  addGame: state.addGame,\n  updateGame: state.updateGame,\n  joinGame: state.joinGame,\n  leaveGame: state.leaveGame,\n  setLoading: state.setLoading,\n  setError: state.setError,\n  clearError: state.clearError,\n  setChatContext: state.setChatContext,\n  updateSearchFilters: state.updateSearchFilters,\n  clearSearchFilters: state.clearSearchFilters,\n  reset: state.reset,\n}));","import React, { createContext, useContext, useEffect, useState } from 'react';\nimport { User, Session } from '@supabase/supabase-js';\nimport { supabase } from '../lib/supabase';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { useAppStore } from '../store/appStore';\nimport { toast } from 'sonner';\n\ninterface AuthContextType {\n  user: User | null;\n  session: Session | null;\n  loading: boolean;\n  signIn: (email: string, password: string) => Promise<void>;\n  signUp: (email: string, password: string, userData: any) => Promise<void>;\n  signInWithOAuth: (provider: 'google' | 'apple', options?: { pendingGameId?: string }) => Promise<void>;\n  signOut: () => Promise<void>;\n  resetPassword: (email: string) => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [loading, setLoading] = useState(true);\n  const { setUser: setAppUser, initializeAuth } = useAppStore();\n\n  useEffect(() => {\n    const DEBUG = typeof window !== 'undefined' && localStorage.getItem('DEBUG_AUTH') === '1';\n\n    const getInitialSession = async () => {\n      DEBUG && console.log('[Auth] bootstrap:loading=true');\n      \n      try {\n        // Check for known problematic user IDs and clear them\n        const authToken = localStorage.getItem('sb-alegufnopsminqcokelr-auth-token');\n        if (authToken && (authToken.includes('ca2ee1cc-3ccc-4d34-8f8e-b9e02c38bfc0') || authToken.includes('6e9f3e18-0005-4080-a62a-2a298cf52199'))) {\n          console.warn('[Auth] Detected orphaned user in auth token, clearing...');\n          await supabase.auth.signOut();\n          localStorage.clear();\n          setLoading(false);\n          return;\n        }\n        \n        const { data: { session }, error } = await supabase.auth.getSession();\n        \n        if (error) {\n          console.error('Error getting session:', error);\n          return;\n        }\n\n        setSession(session);\n        setUser(session?.user ?? null);\n\n        if (session?.user) {\n          DEBUG && console.log('[Auth] Found session, creating user from auth data...');\n          \n          // Create user immediately from auth data - don't wait for profile\n          const authUser = {\n            id: session.user.id,\n            email: session.user.email || '',\n            name: session.user.user_metadata?.full_name || session.user.email || '',\n            username: session.user.user_metadata?.username || session.user.email?.split('@')[0] || '',\n            avatar: session.user.user_metadata?.avatar_url || '',\n            role: 'user' as const,\n            preferences: { \n              sports: [], \n              notifications: { push: true, email: true, gameReminders: true },\n              theme: 'light' as const,\n              highContrast: false,\n              largeText: false,\n              reducedMotion: false,\n              colorBlindFriendly: false,\n              privacy: {\n                locationSharing: true,\n                profileVisibility: 'public' as const\n              }\n            }\n          };\n          \n          setAppUser(authUser);\n          DEBUG && console.log('[Auth] User set from auth data:', authUser.id);\n          \n          // Try to load full profile in background (non-blocking)\n          setTimeout(() => {\n            SupabaseService.getUserProfile(session.user.id)\n              .then(profile => {\n                if (profile) {\n                  DEBUG && console.log('[Auth] Profile loaded later:', profile.id);\n                  setAppUser(profile);\n                }\n              })\n              .catch(error => {\n                console.warn('Profile loading failed (non-critical):', error.message);\n                // Keep using auth data - don't fail\n              });\n          }, 100);\n        }\n        \n        // Don't call initializeAuth here to prevent loops\n      } catch (error) {\n        console.error('Error getting initial session:', error);\n      } finally {\n        setLoading(false);\n        DEBUG && console.log('[Auth] bootstrap:loading=false');\n        console.log('[Auth] Initial auth check complete - user:', session?.user?.id || 'none');\n      }\n    }; \n\n    getInitialSession();\n\n    // Listen for auth changes\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        DEBUG && console.log('[Auth] onAuthStateChange:', event, session?.user?.id);\n        \n        setSession(session);\n        setUser(session?.user ?? null);\n\n        if (event === 'SIGNED_IN' && session?.user) {\n          try {\n            DEBUG && console.log('[Auth] Load profile for:', session.user.id);\n            const userProfile = await SupabaseService.getUserProfile(session.user.id);\n            if (userProfile) {\n              DEBUG && console.log('[Auth] Profile loaded:', userProfile.name);\n              setAppUser(userProfile);\n              \n              // Don't call initializeAuth here to prevent loops\n              \n              // Check for pending game join after successful login\n              const pendingGameId = localStorage.getItem('pendingGameJoin');\n              if (pendingGameId) {\n                localStorage.removeItem('pendingGameJoin');\n                // Auto-join the game\n                try {\n                  const { joinGame } = useAppStore.getState();\n                  await joinGame(pendingGameId);\n                  toast.success('Welcome! You\\'ve been automatically joined to the game.');\n                } catch (joinError) {\n                  console.error('Error auto-joining game:', joinError);\n                  toast.error('Welcome! Please manually join the game you were interested in.');\n                }\n              } else {\n                // Only redirect to home if we're not already on the onboarding page\n                if (window.location.pathname === '/onboarding') {\n                  DEBUG && console.log('[Auth] Onboarding page active');\n                } else {\n                  toast.success('Welcome back!');\n                }\n              }\n            } else {\n              DEBUG && console.log('[Auth] No profile found (ProfileCheck handles onboarding)');\n              // Let the ProfileCheck component handle the redirect to onboarding\n              // This prevents multiple redirects\n            }\n          } catch (error) {\n            console.error('Error loading user profile on sign in:', error);\n            // Let the ProfileCheck component handle the redirect to onboarding\n          }\n        } else if (event === 'SIGNED_OUT') {\n          setAppUser(null);\n          toast.success('Signed out successfully');\n        } else if (event === 'PASSWORD_RECOVERY') {\n          toast.info('Check your email for password reset instructions');\n        } else if (event === 'USER_UPDATED') {\n          // Handle user updates if needed\n          DEBUG && console.log('[Auth] User updated:', session?.user?.id);\n        }\n\n        // Ensure we don't hang in loading after any event\n        setLoading(false);\n        DEBUG && console.log('[Auth] onAuthStateChange:loading=false');\n      }\n    );\n\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, [setAppUser]);\n\n  const signIn = async (email: string, password: string) => {\n    try {\n      const { error } = await supabase.auth.signInWithPassword({\n        email,\n        password\n      });\n\n      if (error) throw error;\n    } catch (error: any) {\n      console.error('Sign in error:', error);\n      throw new Error(error.message || 'Failed to sign in');\n    }\n  };\n\n  const signUp = async (email: string, password: string, userData: any) => {\n    try {\n      const { data, error } = await supabase.auth.signUp({\n        email,\n        password,\n        options: {\n          data: {\n            full_name: userData.name,\n            username: userData.name?.toLowerCase().replace(/\\s+/g, '_'),\n            pending_game_id: userData.pendingGameId, // Store game ID for auto-join\n            phone: userData.phone\n          }\n        }\n      });\n\n      if (error) throw error;\n\n      // Create user profile immediately if signup was successful\n      if (data.user) {\n        try {\n          await SupabaseService.createUserProfile(data.user.id, {\n            email: data.user.email,\n            name: userData.name,\n            phone: userData.phone\n          });\n          \n          // If there's a pending game ID, auto-join after profile creation\n          if (userData.pendingGameId) {\n            // Store in localStorage for after email confirmation\n            localStorage.setItem('pendingGameJoin', userData.pendingGameId);\n          }\n        } catch (profileError) {\n          console.error('Error creating user profile:', profileError);\n          // Don't throw here, as the user account was created successfully\n        }\n      }\n    } catch (error: any) {\n      console.error('Sign up error:', error);\n      throw new Error(error.message || 'Failed to sign up');\n    }\n  };\n\n  const signInWithOAuth = async (provider: 'google' | 'apple', options?: { pendingGameId?: string }) => {\n    try {\n      // Use the correct redirect URL for production\n      const baseUrl = window.location.origin;\n      const redirectTo = `${baseUrl}/auth/callback`;\n      \n      console.log(` OAuth Debug - Starting ${provider} OAuth flow`);\n      console.log(` Base URL: ${baseUrl}`);\n      console.log(` Redirect URL: ${redirectTo}`);\n      console.log(` Supabase URL: ${supabase.supabaseUrl}`);\n      \n      // Store pending game ID if provided\n      if (options?.pendingGameId) {\n        localStorage.setItem('pendingGameJoin', options.pendingGameId);\n      }\n      \n      console.log(` Calling supabase.auth.signInWithOAuth...`);\n      const { data, error } = await supabase.auth.signInWithOAuth({\n        provider,\n        options: {\n          redirectTo,\n          queryParams: {\n            access_type: 'offline',\n            prompt: 'consent',\n          }\n        }\n      });\n\n      console.log(` OAuth response:`, { data, error });\n\n      if (error) {\n        console.error(' OAuth initiation error:', error);\n        console.error(' Error details:', {\n          message: error.message,\n          status: error.status,\n          statusText: error.statusText\n        });\n        throw error;\n      }\n      \n      console.log(` OAuth redirect initiated for ${provider}`);\n      console.log(` OAuth URL:`, data?.url);\n    } catch (error: any) {\n      console.error(' OAuth sign in error:', error);\n      throw new Error(error.message || `Failed to sign in with ${provider}`);\n    }\n  };\n\n  const signOut = async () => {\n    try {\n      const { error } = await supabase.auth.signOut();\n      if (error) throw error;\n      \n      // Clear app state\n      setUser(null);\n      setAppUser(null);\n      \n      // Clear any stored data\n      localStorage.removeItem('pendingGameJoin');\n      \n      console.log('Sign out successful');\n    } catch (error: any) {\n      console.error('Sign out error:', error);\n      throw new Error(error.message || 'Failed to sign out');\n    }\n  };\n\n  const resetPassword = async (email: string) => {\n    try {\n      const { error } = await supabase.auth.resetPasswordForEmail(email, {\n        redirectTo: `${window.location.origin}/auth?reset=true`\n      });\n\n      if (error) throw error;\n    } catch (error: any) {\n      console.error('Password reset error:', error);\n      throw new Error(error.message || 'Failed to send reset email');\n    }\n  };\n\n  const value = {\n    user,\n    session,\n    loading,\n    signIn,\n    signUp,\n    signInWithOAuth,\n    signOut,\n    resetPassword\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n\n\n","import React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../providers/AuthProvider';\n\ninterface ProtectedRouteProps {\n  children?: React.ReactNode;\n  requireAuth?: boolean;\n  redirectTo?: string;\n}\n\nexport function ProtectedRoute({ \n  children = null, \n  requireAuth = true, \n  redirectTo = '/auth' \n}: ProtectedRouteProps) {\n  const location = useLocation();\n  \n  try {\n    const { user, loading } = useAuth();\n\n    // Show simple loading while checking auth state\n    if (loading) {\n      return (\n        <div className=\"min-h-screen bg-background flex items-center justify-center\">\n          <div className=\"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full\"></div>\n        </div>\n      );\n    }\n\n    // If auth is required and user is not authenticated, redirect to auth page\n    if (requireAuth && !user) {\n      return <Navigate to={redirectTo} state={{ from: location }} replace />;\n    }\n\n    // If auth is not required and user is authenticated, redirect to home\n    if (!requireAuth && user) {\n      return <Navigate to=\"/\" replace />;\n    }\n\n    // User is authenticated and can access the route\n    return <>{children}</>;\n    \n  } catch (error) {\n    console.error('ProtectedRoute error:', error);\n    // On error, show simple loading or redirect to auth\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4\"></div>\n          <p>Loading...</p>\n        </div>\n      </div>\n    );\n  }\n}\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"./utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\";\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  );\n}\n\nexport { Badge, badgeVariants };\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","// src/use-is-hydrated.tsx\nimport { useSyncExternalStore } from \"use-sync-external-store/shim\";\nfunction useIsHydrated() {\n  return useSyncExternalStore(\n    subscribe,\n    () => true,\n    () => false\n  );\n}\nfunction subscribe() {\n  return () => {\n  };\n}\nexport {\n  useIsHydrated\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/avatar.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useIsHydrated } from \"@radix-ui/react-use-is-hydrated\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AVATAR_NAME = \"Avatar\";\nvar [createAvatarContext, createAvatarScope] = createContextScope(AVATAR_NAME);\nvar [AvatarProvider, useAvatarContext] = createAvatarContext(AVATAR_NAME);\nvar Avatar = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, ...avatarProps } = props;\n    const [imageLoadingStatus, setImageLoadingStatus] = React.useState(\"idle\");\n    return /* @__PURE__ */ jsx(\n      AvatarProvider,\n      {\n        scope: __scopeAvatar,\n        imageLoadingStatus,\n        onImageLoadingStatusChange: setImageLoadingStatus,\n        children: /* @__PURE__ */ jsx(Primitive.span, { ...avatarProps, ref: forwardedRef })\n      }\n    );\n  }\n);\nAvatar.displayName = AVATAR_NAME;\nvar IMAGE_NAME = \"AvatarImage\";\nvar AvatarImage = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, src, onLoadingStatusChange = () => {\n    }, ...imageProps } = props;\n    const context = useAvatarContext(IMAGE_NAME, __scopeAvatar);\n    const imageLoadingStatus = useImageLoadingStatus(src, imageProps);\n    const handleLoadingStatusChange = useCallbackRef((status) => {\n      onLoadingStatusChange(status);\n      context.onImageLoadingStatusChange(status);\n    });\n    useLayoutEffect(() => {\n      if (imageLoadingStatus !== \"idle\") {\n        handleLoadingStatusChange(imageLoadingStatus);\n      }\n    }, [imageLoadingStatus, handleLoadingStatusChange]);\n    return imageLoadingStatus === \"loaded\" ? /* @__PURE__ */ jsx(Primitive.img, { ...imageProps, ref: forwardedRef, src }) : null;\n  }\n);\nAvatarImage.displayName = IMAGE_NAME;\nvar FALLBACK_NAME = \"AvatarFallback\";\nvar AvatarFallback = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, delayMs, ...fallbackProps } = props;\n    const context = useAvatarContext(FALLBACK_NAME, __scopeAvatar);\n    const [canRender, setCanRender] = React.useState(delayMs === void 0);\n    React.useEffect(() => {\n      if (delayMs !== void 0) {\n        const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n        return () => window.clearTimeout(timerId);\n      }\n    }, [delayMs]);\n    return canRender && context.imageLoadingStatus !== \"loaded\" ? /* @__PURE__ */ jsx(Primitive.span, { ...fallbackProps, ref: forwardedRef }) : null;\n  }\n);\nAvatarFallback.displayName = FALLBACK_NAME;\nfunction resolveLoadingStatus(image, src) {\n  if (!image) {\n    return \"idle\";\n  }\n  if (!src) {\n    return \"error\";\n  }\n  if (image.src !== src) {\n    image.src = src;\n  }\n  return image.complete && image.naturalWidth > 0 ? \"loaded\" : \"loading\";\n}\nfunction useImageLoadingStatus(src, { referrerPolicy, crossOrigin }) {\n  const isHydrated = useIsHydrated();\n  const imageRef = React.useRef(null);\n  const image = (() => {\n    if (!isHydrated) return null;\n    if (!imageRef.current) {\n      imageRef.current = new window.Image();\n    }\n    return imageRef.current;\n  })();\n  const [loadingStatus, setLoadingStatus] = React.useState(\n    () => resolveLoadingStatus(image, src)\n  );\n  useLayoutEffect(() => {\n    setLoadingStatus(resolveLoadingStatus(image, src));\n  }, [image, src]);\n  useLayoutEffect(() => {\n    const updateStatus = (status) => () => {\n      setLoadingStatus(status);\n    };\n    if (!image) return;\n    const handleLoad = updateStatus(\"loaded\");\n    const handleError = updateStatus(\"error\");\n    image.addEventListener(\"load\", handleLoad);\n    image.addEventListener(\"error\", handleError);\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n    if (typeof crossOrigin === \"string\") {\n      image.crossOrigin = crossOrigin;\n    }\n    return () => {\n      image.removeEventListener(\"load\", handleLoad);\n      image.removeEventListener(\"error\", handleError);\n    };\n  }, [image, crossOrigin, referrerPolicy]);\n  return loadingStatus;\n}\nvar Root = Avatar;\nvar Image = AvatarImage;\nvar Fallback = AvatarFallback;\nexport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n  Fallback,\n  Image,\n  Root,\n  createAvatarScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\nimport * as React from \"react\";\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\n\nimport { cn } from \"./utils\";\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-10 shrink-0 overflow-hidden rounded-full\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Avatar, AvatarImage, AvatarFallback };\n","import React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Avatar, AvatarImage, AvatarFallback } from './avatar';\nimport { cn } from './utils';\n\ninterface ClickableAvatarProps {\n  userId?: string;\n  src?: string;\n  alt?: string;\n  fallback?: string;\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n  className?: string;\n  onClick?: () => void;\n  disabled?: boolean;\n}\n\nconst sizeClasses = {\n  sm: 'size-6',\n  md: 'size-8', \n  lg: 'size-10',\n  xl: 'size-12'\n};\n\nexport function ClickableAvatar({\n  userId,\n  src,\n  alt,\n  fallback,\n  size = 'md',\n  className,\n  onClick,\n  disabled = false\n}: ClickableAvatarProps) {\n  const navigate = useNavigate();\n\n  const handleClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    \n    if (onClick) {\n      onClick();\n    } else if (userId && !disabled) {\n      navigate(`/user/${userId}`);\n    }\n  };\n\n  const getInitials = (name?: string) => {\n    if (!name) return '?';\n    \n    // Handle \"Unknown User\" case specifically\n    if (name.startsWith('Unknown User')) {\n      return '??';\n    }\n    \n    return name\n      .split(' ')\n      .map(word => word.charAt(0))\n      .join('')\n      .toUpperCase()\n      .slice(0, 2);\n  };\n\n  return (\n    <Avatar\n      className={cn(\n        sizeClasses[size],\n        (userId || onClick) && !disabled && 'cursor-pointer hover:ring-2 hover:ring-primary/20 transition-all',\n        disabled && 'opacity-50 cursor-not-allowed',\n        className\n      )}\n      onClick={handleClick}\n    >\n      {src && (\n        <AvatarImage \n          src={src} \n          alt={alt || 'User avatar'} \n        />\n      )}\n      <AvatarFallback className=\"bg-primary/10 text-primary font-medium\">\n        {fallback || getInitials(alt)}\n      </AvatarFallback>\n    </Avatar>\n  );\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport { toast } from 'sonner';\nimport { SupabaseService } from '../lib/supabaseService';\n\ninterface Notification {\n  id: string;\n  type: 'game_update' | 'new_message' | 'game_reminder' | 'join_request' | 'system';\n  title: string;\n  message: string;\n  timestamp: Date;\n  read: boolean;\n  actionUrl?: string;\n  gameId?: string;\n  userId?: string;\n}\n\ninterface NotificationSettings {\n  pushNotifications: boolean;\n  emailNotifications: boolean;\n  gameReminders: boolean;\n  messageNotifications: boolean;\n  soundEnabled: boolean;\n}\n\nexport function useNotifications() {\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [settings, setSettings] = useState<NotificationSettings>({\n    pushNotifications: true,\n    emailNotifications: false,\n    gameReminders: true,\n    messageNotifications: true,\n    soundEnabled: true\n  });\n\n  // Load notifications from Supabase\n  useEffect(() => {\n    const loadNotifications = async () => {\n      try {\n        const notificationsData = await SupabaseService.getNotifications();\n        setNotifications(notificationsData);\n      } catch (error) {\n        console.error('Error loading notifications:', error);\n      }\n    };\n\n    loadNotifications();\n  }, []);\n\n  // Subscribe to real-time notifications\n  useEffect(() => {\n    let subscription: any = null;\n\n    const setupSubscription = async () => {\n      subscription = await SupabaseService.subscribeToNotifications((newNotification) => {\n        setNotifications(prev => [newNotification, ...prev]);\n        \n        if (settings.pushNotifications) {\n          showNotification(newNotification);\n        }\n      });\n    };\n\n    setupSubscription();\n\n    return () => {\n      if (subscription?.unsubscribe) {\n        subscription.unsubscribe();\n      }\n    };\n  }, [settings.pushNotifications]);\n\n  const showNotification = useCallback((notification: Notification) => {\n    if (!settings.pushNotifications) return;\n\n    // Play sound if enabled\n    if (settings.soundEnabled) {\n      // In a real app, you'd play an actual sound file\n      console.log(' Notification sound played');\n    }\n\n    // Show ONE notification - prefer browser notification if permission granted, otherwise toast\n    const importantTypes = ['new_message', 'game_reminder', 'join_request'];\n    if (importantTypes.includes(notification.type)) {\n      \n      // Try browser notification first for critical notifications\n      if ('Notification' in window && Notification.permission === 'granted' && \n          ['new_message', 'game_reminder'].includes(notification.type)) {\n        // Show browser notification only\n        new Notification(notification.title, {\n          body: notification.message,\n          icon: '/favicon.ico',\n          badge: '/favicon.ico',\n          timestamp: notification.timestamp.getTime(),\n          silent: false\n        } as NotificationOptions & { vibrate?: number[] });\n      } else {\n        // Show toast notification only (fallback when browser notifications not available)\n        toast(notification.title, {\n          description: notification.message,\n          action: notification.actionUrl ? {\n            label: 'View',\n            onClick: () => {\n              // In a real app, you'd navigate to the URL\n              console.log('Navigate to:', notification.actionUrl);\n            }\n          } : undefined,\n          duration: 4000\n        });\n      }\n    } else {\n      // For non-important notifications, always use toast\n      toast(notification.title, {\n        description: notification.message,\n        duration: 3000\n      });\n    }\n  }, [settings.pushNotifications, settings.soundEnabled]);\n\n  const markAsRead = useCallback(async (notificationId: string) => {\n    try {\n      // Update state immediately for better UX\n      setNotifications(prev => \n        prev.map(notification => \n          notification.id === notificationId \n            ? { ...notification, read: true }\n            : notification\n        )\n      );\n      \n      // Update database in background\n      await SupabaseService.markNotificationAsRead(notificationId);\n    } catch (error) {\n      console.error('Error marking notification as read:', error);\n      // Revert state on error\n      setNotifications(prev => \n        prev.map(notification => \n          notification.id === notificationId \n            ? { ...notification, read: false }\n            : notification\n        )\n      );\n    }\n  }, []);\n\n  const markAllAsRead = useCallback(async () => {\n    try {\n      // Get current unread notifications from state\n      setNotifications(prev => {\n        const unreadNotifications = prev.filter(n => !n.read);\n        \n        // Mark all unread notifications as read in the database\n        Promise.all(unreadNotifications.map(n => SupabaseService.markNotificationAsRead(n.id)))\n          .catch(error => console.error('Error marking all notifications as read:', error));\n        \n        // Update state immediately for better UX\n        return prev.map(notification => ({ ...notification, read: true }));\n      });\n    } catch (error) {\n      console.error('Error marking all notifications as read:', error);\n    }\n  }, []);\n\n  const deleteNotification = useCallback(async (notificationId: string) => {\n    try {\n      // Update state immediately for better UX\n      setNotifications(prev => {\n        const updated = prev.filter(notification => notification.id !== notificationId);\n        console.log(' Notification deleted, new count:', updated.filter(n => !n.read).length);\n        return updated;\n      });\n      \n      // Delete from database in background\n      await SupabaseService.deleteNotification(notificationId);\n    } catch (error) {\n      console.error('Error deleting notification:', error);\n      // Reload notifications on error to sync state\n      const notificationsData = await SupabaseService.getNotifications();\n      setNotifications(notificationsData);\n    }\n  }, []);\n\n  const clearAll = useCallback(async () => {\n    try {\n      console.log(' Clearing all notifications...');\n      \n      // Update state immediately for better UX\n      setNotifications([]);\n      console.log(' Notifications cleared from state, unread count now: 0');\n      \n      // Clear from database in background\n      await SupabaseService.clearAllNotifications();\n      console.log(' All notifications cleared from database');\n      toast.success('All notifications cleared');\n    } catch (error) {\n      console.error(' Error clearing all notifications:', error);\n      toast.error('Failed to clear notifications');\n      // Reload notifications on error to sync state\n      try {\n        const notificationsData = await SupabaseService.getNotifications();\n        setNotifications(notificationsData);\n      } catch (reloadError) {\n        console.error('Failed to reload notifications after error:', reloadError);\n      }\n    }\n  }, []);\n\n  const requestPermission = useCallback(async () => {\n    if (!('Notification' in window)) {\n      console.log('Browser notifications not supported');\n      return false;\n    }\n\n    if (Notification.permission === 'granted') {\n      return true;\n    }\n\n    if (Notification.permission === 'denied') {\n      console.log('Notifications are blocked by user');\n      return false;\n    }\n\n    const permission = await Notification.requestPermission();\n    \n    if (permission === 'granted') {\n      // Only show success toast when permission is explicitly granted\n      toast.success('Notifications enabled!');\n      return true;\n    } else {\n      console.log('Notification permission denied by user');\n      return false;\n    }\n  }, []);\n\n  const updateSettings = useCallback((newSettings: Partial<NotificationSettings>) => {\n    setSettings(prev => ({ ...prev, ...newSettings }));\n    \n    // If push notifications are being enabled, request permission\n    if (newSettings.pushNotifications && !settings.pushNotifications) {\n      requestPermission();\n    }\n  }, [settings.pushNotifications, requestPermission]);\n\n  const unreadCount = notifications.filter(n => !n.read).length;\n  const recentNotifications = notifications.slice(0, 10); // Show last 10\n  \n  // Debug logging for unread count changes\n  useEffect(() => {\n    console.log(' Notifications updated:', {\n      total: notifications.length,\n      unread: unreadCount,\n      notifications: notifications.map(n => ({ id: n.id, read: n.read, title: n.title }))\n    });\n  }, [notifications, unreadCount]);\n\n  return {\n    notifications: recentNotifications,\n    unreadCount,\n    settings,\n    markAsRead,\n    markAllAsRead,\n    deleteNotification,\n    clearAll,\n    updateSettings,\n    requestPermission\n  };\n}","import React, { forwardRef } from 'react';\n// import { motion } from 'framer-motion'; // TEMPORARILY DISABLED\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { Button } from './ui/button';\nimport { Badge } from './ui/badge';\nimport { ClickableAvatar } from './ui/clickable-avatar';\nimport { useNotifications } from '../hooks/useNotifications';\nimport { useAppStore } from '../store/appStore';\nimport { Home, Search, Plus, Bell, User } from 'lucide-react';\n\nconst navItems = [\n  { path: '/', icon: Home, label: 'Home' },\n  { path: '/search', icon: Search, label: 'Search' },\n  { path: '/create', icon: Plus, label: 'Create' },\n  { path: '/notifications', icon: Bell, label: 'Notifications', showBadge: true },\n  { path: '/profile', icon: User, label: 'Profile' },\n];\n\nexport const BottomNavigation = forwardRef<HTMLDivElement>((props, ref) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { unreadCount } = useNotifications();\n  const { user } = useAppStore();\n\n  return (\n    <div ref={ref} className=\"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-sm border-t border-border\">\n      <div className=\"flex items-center justify-between px-4 py-2 max-w-lg mx-auto\">\n        {navItems.map((item) => {\n          const isActive = location.pathname === item.path;\n          const Icon = item.icon;\n          \n          return (\n            <div\n              key={item.path}\n              className=\"relative flex-1 flex justify-center\"\n            >\n              <Button\n                variant=\"ghost\"\n                onClick={() => navigate(item.path)}\n                className={`flex flex-col items-center gap-1 p-2 h-auto w-full transition-all duration-200 ${\n                  isActive \n                    ? 'text-primary' \n                    : 'text-muted-foreground hover:text-foreground'\n                }`}\n                aria-label={`Navigate to ${item.label}`}\n                aria-current={isActive ? 'page' : undefined}\n              >\n                <div className=\"relative\">\n                  {item.path === '/profile' && user ? (\n                    <ClickableAvatar\n                      src={user.avatar}\n                      alt={user.name}\n                      size=\"sm\"\n                      onClick={() => navigate('/profile')}\n                      className=\"w-5 h-5\"\n                    />\n                  ) : (\n                    <Icon className=\"w-5 h-5\" />\n                  )}\n                  {item.showBadge && unreadCount > 0 && (\n                    <Badge \n                      variant=\"destructive\" \n                      className=\"absolute -top-2 -right-2 h-5 w-5 p-0 text-xs flex items-center justify-center min-w-[20px]\"\n                    >\n                      {unreadCount > 99 ? '99+' : unreadCount}\n                    </Badge>\n                  )}\n                </div>\n                \n                <span className=\"text-xs font-medium\">\n                  {item.label}\n                </span>\n                \n                {/* Active indicator - only show for meaningful active states */}\n                {isActive && (\n                  <div\n                    className=\"absolute -top-1 left-1/2 w-1 h-1 bg-primary rounded-full transition-all duration-200\"\n                    style={{ transform: 'translateX(-50%)' }}\n                  />\n                )}\n              </Button>\n            </div>\n          );\n        })}\n      </div>\n      \n      {/* Bottom safe area for mobile devices */}\n      <div className=\"pb-safe bg-background/95\" />\n    </div>\n  );\n});\n\nBottomNavigation.displayName = 'BottomNavigation';","import React, { useState } from 'react';\n// import { motion } from 'framer-motion'; // TEMPORARILY DISABLED\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { Button } from './ui/button';\nimport { Badge } from './ui/badge';\nimport { Avatar, AvatarFallback, AvatarImage } from './ui/avatar';\nimport { useNotifications } from '../hooks/useNotifications';\nimport { useAppStore } from '../store/appStore';\nimport { \n  Home, \n  Search, \n  Plus, \n  Bell, \n  User, \n  Menu, \n  Settings,\n  MapPin,\n  Users,\n  Calendar\n} from 'lucide-react';\n\nconst sidebarItems = [\n  { \n    path: '/', \n    icon: Home, \n    label: 'Home', \n    description: 'Discover games' \n  },\n  { \n    path: '/search', \n    icon: Search, \n    label: 'Search', \n    description: 'Find your game' \n  },\n  { \n    path: '/notifications', \n    icon: Bell, \n    label: 'Notifications', \n    description: 'Stay updated',\n    showBadge: true \n  },\n  { \n    path: '/profile', \n    icon: User, \n    label: 'Profile', \n    description: 'Your account' \n  },\n];\n\nexport function DesktopLayout({ children }: { children: React.ReactNode }) {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { unreadCount } = useNotifications();\n  const { user } = useAppStore();\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n\n  return (\n    <div className=\"flex h-screen bg-background\">\n      {/* Sidebar */}\n      <aside \n        className={`bg-card border-r border-border transition-all duration-300 ${\n          sidebarCollapsed ? 'w-16' : 'w-64'\n        }`}\n      >\n        {/* Sidebar Header */}\n        <div className=\"p-6 border-b border-border\">\n          <div className=\"flex items-center justify-between\">\n            {!sidebarCollapsed && (\n              <div>\n                <h1 className=\"text-xl text-foreground\">TribeUp</h1>\n                <p className=\"text-sm text-muted-foreground\">Find your tribe</p>\n              </div>\n            )}\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={() => setSidebarCollapsed(!sidebarCollapsed)}\n              aria-label={sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}\n            >\n              <Menu className=\"w-5 h-5\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Quick Create Button */}\n        <div className=\"p-4\">\n          <Button\n            onClick={() => navigate('/create')}\n            className=\"w-full justify-start gap-3\"\n            aria-label=\"Create new game\"\n          >\n            <Plus className=\"w-5 h-5\" />\n            {!sidebarCollapsed && 'Create Game'}\n          </Button>\n        </div>\n\n        {/* Navigation Items */}\n        <nav className=\"flex-1 px-4 space-y-2\" role=\"menubar\">\n          {sidebarItems.map((item) => {\n            const isActive = location.pathname === item.path;\n            const Icon = item.icon;\n            \n            return (\n              <div\n                key={item.path}\n              >\n                <Button\n                  variant={isActive ? 'default' : 'ghost'}\n                  onClick={() => navigate(item.path)}\n                  className={`w-full justify-start gap-3 h-12 relative ${\n                    sidebarCollapsed ? 'px-2' : 'px-4'\n                  }`}\n                  role=\"menuitem\"\n                  aria-current={isActive ? 'page' : undefined}\n                  title={sidebarCollapsed ? item.label : undefined}\n                >\n                  <div className=\"relative\">\n                    <Icon className=\"w-5 h-5 flex-shrink-0\" />\n                    {item.showBadge && unreadCount > 0 && (\n                      <Badge \n                        variant=\"destructive\" \n                        className=\"absolute -top-1 -right-1 h-4 min-w-4 p-0 text-xs flex items-center justify-center\"\n                      >\n                        {unreadCount > 99 ? '99+' : unreadCount}\n                      </Badge>\n                    )}\n                  </div>\n                  {!sidebarCollapsed && (\n                    <div className=\"flex-1 text-left\">\n                      <div className=\"font-medium flex items-center gap-2\">\n                        {item.label}\n                        {item.showBadge && unreadCount > 0 && (\n                          <Badge variant=\"destructive\" className=\"h-5 px-2 text-xs\">\n                            {unreadCount > 99 ? '99+' : unreadCount}\n                          </Badge>\n                        )}\n                      </div>\n                      <div className=\"text-xs text-muted-foreground\">\n                        {item.description}\n                      </div>\n                    </div>\n                  )}\n                </Button>\n              </div>\n            );\n          })}\n        </nav>\n\n        {/* User Profile */}\n        <div className=\"p-4 border-t border-border\">\n          <div className=\"flex items-center gap-3\">\n            <Avatar className=\"cursor-pointer\" onClick={() => navigate('/profile')}>\n              {user?.avatar && <AvatarImage src={user.avatar} alt={user.name || 'User'} />}\n              <AvatarFallback>{user?.name?.charAt(0) || 'U'}</AvatarFallback>\n            </Avatar>\n            {!sidebarCollapsed && (\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium truncate\">\n                  {user?.name || 'User'}\n                </p>\n                <p className=\"text-xs text-muted-foreground truncate\">\n                  {user?.email || 'user@example.com'}\n                </p>\n              </div>\n            )}\n          </div>\n        </div>\n      </aside>\n\n      {/* Main Content */}\n      <main className=\"flex-1 overflow-hidden\">\n        {children}\n      </main>\n    </div>\n  );\n}","import React, { useRef, useEffect, useState } from 'react';\nimport { Outlet, useLocation } from 'react-router-dom';\nimport { Toaster } from 'sonner';\nimport { BottomNavigation } from './BottomNavigation';\nimport { DesktopLayout } from './DesktopLayout';\nimport { useAppStore } from '../store/appStore';\nimport { useUserPresence } from '../hooks/useUserPresence';\nimport { useAccessibility } from '../hooks/useAccessibility';\nimport { useResponsive } from '../hooks/useResponsive';\nimport { toast } from 'sonner';\n\nfunction AppContent() {\n  const { isMobile } = useResponsive();\n  const location = useLocation();\n  const { announceToScreenReader } = useAccessibility();\n  const [hasCompletedOnboarding, setHasCompletedOnboarding] = React.useState(false);\n  \n  // Navigation height calculation for proper scrolling\n  const navigationRef = useRef<HTMLDivElement>(null);\n  const [navigationHeight, setNavigationHeight] = useState(0);\n\n  // Handle the fromOnboarding state to prevent redirect loops\n  React.useEffect(() => {\n    const locationState = location.state || window.history.state?.usr || {};\n    console.log('AppContent: Current location state:', locationState);\n    \n    if (locationState.fromOnboarding && !hasCompletedOnboarding) {\n      console.log('AppContent: Detected navigation from onboarding, marking as complete');\n      setHasCompletedOnboarding(true);\n      \n      // Clear the state to prevent issues if user refreshes\n      window.history.replaceState(\n        { ...window.history.state, usr: { ...window.history.state?.usr, fromOnboarding: false } },\n        ''\n      );\n    }\n  }, [location.state, hasCompletedOnboarding]);\n\n  // Announce route changes to screen readers\n  React.useEffect(() => {\n    const getRouteTitle = (pathname: string) => {\n      if (pathname === '/') return 'Home';\n      if (pathname === '/search') return 'Search';\n      if (pathname === '/create') return 'Create Game';\n      if (pathname === '/profile') return 'Profile';\n      if (pathname.startsWith('/game/')) return 'Game Details';\n      if (pathname.startsWith('/chat/')) return 'Chat';\n      if (pathname.startsWith('/user/')) return 'User Profile';\n      if (pathname.startsWith('/settings')) return 'Settings';\n      return 'Page';\n    };\n\n    const title = getRouteTitle(location.pathname);\n    announceToScreenReader(`Navigated to ${title}`);\n    \n    // Update document title\n    document.title = `${title} - TribeUp`;\n  }, [location.pathname, announceToScreenReader]);\n\n  // Dynamic navigation height calculation\n  useEffect(() => {\n    const updateNavigationHeight = () => {\n      if (navigationRef.current) {\n        const height = navigationRef.current.offsetHeight;\n        setNavigationHeight(height);\n      }\n    };\n\n    updateNavigationHeight();\n    window.addEventListener('resize', updateNavigationHeight);\n    \n    return () => window.removeEventListener('resize', updateNavigationHeight);\n  }, []);\n\n  // Render mobile layout\n  if (isMobile) {\n    // Check if we're on the CreateGame route - it has its own navigation\n    const isCreateGameRoute = location.pathname === '/create';\n    \n    return (\n      <>\n        <div className=\"min-h-screen bg-background\">\n          {/* Main content area with proper scrolling */}\n          <main style={{ paddingBottom: isCreateGameRoute ? '0px' : `${navigationHeight + 16}px` }}>\n            <Outlet />\n          </main>\n\n          {/* Bottom navigation - hide for CreateGame route */}\n          {!isCreateGameRoute && <BottomNavigation ref={navigationRef} />}\n\n        </div>\n\n      </>\n    );\n  }\n\n  // Render desktop layout\n  return (\n    <>\n      <div className=\"min-h-screen bg-background\">\n        <DesktopLayout>\n          <main id=\"main-content\" className=\"flex-1 overflow-hidden\">\n            <Outlet />\n          </main>\n        </DesktopLayout>\n\n      </div>\n\n\n      {/* Toast notifications for desktop */}\n      <Toaster \n        position=\"bottom-right\"\n        theme=\"system\"\n        richColors\n        closeButton\n        duration={4000}\n        toastOptions={{\n          className: 'animate-slide-in-down',\n        }}\n      />\n    </>\n  );\n}\n\nexport default AppContent;","import { useState, useEffect } from 'react';\n\nexport function useResponsive() {\n  const [isMobile, setIsMobile] = useState(false);\n\n  useEffect(() => {\n    const checkIsMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n\n    checkIsMobile();\n    window.addEventListener('resize', checkIsMobile);\n\n    return () => window.removeEventListener('resize', checkIsMobile);\n  }, []);\n\n  return { isMobile };\n}\n","import { useEffect, useCallback } from 'react';\nimport { useAppStore } from '../store/appStore';\n\ninterface AccessibilityPreferences {\n  theme: 'light' | 'dark' | 'auto';\n  highContrast: boolean;\n  largeText: boolean;\n  reducedMotion: boolean;\n  colorBlindFriendly: boolean;\n}\n\nexport function useAccessibility() {\n  const user = useAppStore((state) => state.user);\n  const updateUserPreferences = useAppStore((state) => state.updateUserPreferences);\n\n  // Function to announce messages to screen readers\n  const announceToScreenReader = useCallback((message: string, priority: 'polite' | 'assertive' = 'polite') => {\n    // Create or find the live region\n    let liveRegion = document.getElementById('live-region');\n    \n    if (!liveRegion) {\n      // Create a live region if it doesn't exist\n      liveRegion = document.createElement('div');\n      liveRegion.id = 'live-region';\n      liveRegion.setAttribute('aria-live', priority);\n      liveRegion.setAttribute('aria-atomic', 'true');\n      liveRegion.className = 'sr-only';\n      document.body.appendChild(liveRegion);\n    } else {\n      // Update the aria-live attribute if needed\n      liveRegion.setAttribute('aria-live', priority);\n    }\n\n    // Clear any existing message and add the new one\n    liveRegion.textContent = '';\n    \n    // Use a small delay to ensure screen readers pick up the change\n    setTimeout(() => {\n      if (liveRegion) {\n        liveRegion.textContent = message;\n      }\n    }, 100);\n\n    // Clear the message after a reasonable time\n    setTimeout(() => {\n      if (liveRegion && liveRegion.textContent === message) {\n        liveRegion.textContent = '';\n      }\n    }, 5000);\n  }, []);\n\n  // Apply accessibility preferences to the document\n  const applyPreferences = useCallback((prefs: AccessibilityPreferences) => {\n    const root = document.documentElement;\n\n    // Theme application\n    root.classList.remove('light', 'dark');\n    if (prefs.theme === 'dark') {\n      root.classList.add('dark');\n    } else if (prefs.theme === 'light') {\n      root.classList.add('light');\n    } else {\n      // Auto - follow system preference\n      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n      root.classList.toggle('dark', prefersDark);\n      root.classList.toggle('light', !prefersDark);\n    }\n\n    // High contrast\n    root.classList.toggle('high-contrast', prefs.highContrast);\n    \n    // Large text\n    root.classList.toggle('large-text', prefs.largeText);\n    \n    // Colorblind friendly\n    root.classList.toggle('colorblind-friendly', prefs.colorBlindFriendly);\n    \n    // Reduced motion\n    if (prefs.reducedMotion) {\n      root.style.setProperty('--duration-fast', '0ms');\n      root.style.setProperty('--duration-normal', '0ms');\n      root.style.setProperty('--duration-slow', '0ms');\n    } else {\n      root.style.removeProperty('--duration-fast');\n      root.style.removeProperty('--duration-normal');\n      root.style.removeProperty('--duration-slow');\n    }\n  }, []);\n\n  // Load and apply saved preferences\n  useEffect(() => {\n    if (user?.preferences) {\n      applyPreferences({\n        theme: user.preferences.theme,\n        highContrast: user.preferences.highContrast,\n        largeText: user.preferences.largeText,\n        reducedMotion: user.preferences.reducedMotion,\n        colorBlindFriendly: user.preferences.colorBlindFriendly,\n      });\n    } else {\n      // Apply system preferences as defaults\n      const root = document.documentElement;\n      \n      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n        root.classList.add('dark');\n      }\n      \n      if (window.matchMedia('(prefers-contrast: high)').matches) {\n        root.classList.add('high-contrast');\n      }\n      \n      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {\n        root.style.setProperty('--duration-fast', '0ms');\n        root.style.setProperty('--duration-normal', '0ms');\n        root.style.setProperty('--duration-slow', '0ms');\n      }\n    }\n  }, [user?.preferences, applyPreferences]);\n\n  // Update preferences\n  const updatePreferences = useCallback((updates: Partial<AccessibilityPreferences>) => {\n    if (user) {\n      const newPrefs = { ...user.preferences, ...updates };\n      updateUserPreferences(newPrefs);\n      applyPreferences({\n        theme: newPrefs.theme,\n        highContrast: newPrefs.highContrast,\n        largeText: newPrefs.largeText,\n        reducedMotion: newPrefs.reducedMotion,\n        colorBlindFriendly: newPrefs.colorBlindFriendly,\n      });\n    }\n  }, [user, updateUserPreferences, applyPreferences]);\n\n  // Focus management utilities\n  const focusElement = useCallback((element: HTMLElement | null) => {\n    if (element) {\n      element.focus();\n      announceToScreenReader(`Focused on ${element.getAttribute('aria-label') || element.textContent || 'element'}`);\n    }\n  }, [announceToScreenReader]);\n\n  const trapFocus = useCallback((container: HTMLElement) => {\n    const focusableElements = container.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    );\n    const firstElement = focusableElements[0] as HTMLElement;\n    const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === 'Tab') {\n        if (e.shiftKey) {\n          if (document.activeElement === firstElement) {\n            e.preventDefault();\n            lastElement.focus();\n          }\n        } else {\n          if (document.activeElement === lastElement) {\n            e.preventDefault();\n            firstElement.focus();\n          }\n        }\n      }\n    };\n\n    container.addEventListener('keydown', handleKeyDown);\n    firstElement?.focus();\n\n    return () => {\n      container.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n\n  return {\n    preferences: user?.preferences,\n    updatePreferences,\n    applyPreferences,\n    announceToScreenReader,\n    focusElement,\n    trapFocus,\n  };\n}","import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"./utils\";\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-card text-card-foreground\",\n        destructive:\n          \"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  );\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        \"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Alert, AlertTitle, AlertDescription };\n","import React, { useEffect, useState } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { supabase } from '../lib/supabase';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { useAppStore } from '../store/appStore';\nimport { LoadingSpinner } from './ui/loading-spinner';\nimport { Card, CardContent } from './ui/card';\nimport { Alert, AlertDescription } from './ui/alert';\nimport { CheckCircle, XCircle } from 'lucide-react';\n\nfunction AuthCallback() {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [status, setStatus] = useState<'loading' | 'success' | 'error'>('loading');\n  const [message, setMessage] = useState('Processing authentication...');\n  const { setUser } = useAppStore();\n\n  useEffect(() => {\n    const handleAuthCallback = async () => {\n      try {\n        // Handle OAuth callback properly\n        const { data, error } = await supabase.auth.getSession();\n        \n        if (error) {\n          console.error('Auth callback error:', error);\n          setStatus('error');\n          setMessage(error.message || 'Authentication failed');\n          return;\n        }\n\n        if (!data.session?.user) {\n          setStatus('error');\n          setMessage('No user session found');\n          return;\n        }\n\n        const user = data.session.user;\n        console.log('OAuth user authenticated:', user.id);\n\n        // Create user profile from OAuth data\n        const userProfile = {\n          id: user.id,\n          email: user.email || '',\n          name: user.user_metadata?.full_name || user.user_metadata?.name || user.email?.split('@')[0] || 'User',\n          username: user.user_metadata?.preferred_username || \n                   user.user_metadata?.user_name || \n                   user.email?.split('@')[0] || \n                   `user_${Math.random().toString(36).substring(2, 10)}`,\n          avatar: user.user_metadata?.avatar_url || user.user_metadata?.picture || '',\n          bio: '',\n          location: '',\n          role: 'user' as const,\n          preferences: {\n            theme: 'auto' as const,\n            highContrast: false,\n            largeText: false,\n            reducedMotion: false,\n            colorBlindFriendly: false,\n            notifications: {\n              push: true,\n              email: false,\n              gameReminders: true,\n            },\n            privacy: {\n              locationSharing: true,\n              profileVisibility: 'public' as const,\n            },\n            sports: []\n          }\n        };\n\n        // Set user in app store\n        setUser(userProfile);\n        \n        setStatus('success');\n        setMessage('Authentication successful! Redirecting...');\n\n        // Check for pending game join\n        const pendingGameId = localStorage.getItem('pendingGameJoin');\n        if (pendingGameId) {\n          localStorage.removeItem('pendingGameJoin');\n          // Redirect to game page\n          setTimeout(() => navigate(`/game/${pendingGameId}`), 1500);\n        } else {\n          // Check if profile is complete\n          if (userProfile) {\n            const isComplete = userProfile.name && userProfile.username;\n            if (!isComplete) {\n              setTimeout(() => navigate('/onboarding'), 1500);\n            } else {\n              setTimeout(() => navigate('/'), 1500);\n            }\n          } else {\n            setTimeout(() => navigate('/onboarding'), 1500);\n          }\n        }\n\n      } catch (error) {\n        console.error('Auth callback error:', error);\n        setStatus('error');\n        setMessage('Authentication failed. Please try again.');\n        setTimeout(() => navigate('/auth'), 3000);\n      }\n    };\n\n    handleAuthCallback();\n  }, [navigate, setUser, searchParams]);\n\n  return (\n    <div className=\"min-h-screen bg-background flex items-center justify-center p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardContent className=\"pt-6\">\n          <div className=\"text-center space-y-4\">\n            {status === 'loading' && (\n              <>\n                <LoadingSpinner size=\"lg\" />\n                <h2 className=\"text-xl font-semibold\">Completing Sign In</h2>\n                <p className=\"text-muted-foreground\">{message}</p>\n              </>\n            )}\n            \n            {status === 'success' && (\n              <>\n                <CheckCircle className=\"w-12 h-12 text-green-500 mx-auto\" />\n                <h2 className=\"text-xl font-semibold text-green-700\">Success!</h2>\n                <p className=\"text-muted-foreground\">{message}</p>\n              </>\n            )}\n            \n            {status === 'error' && (\n              <>\n                <XCircle className=\"w-12 h-12 text-red-500 mx-auto\" />\n                <h2 className=\"text-xl font-semibold text-red-700\">Authentication Error</h2>\n                <Alert variant=\"destructive\">\n                  <AlertDescription>{message}</AlertDescription>\n                </Alert>\n                <p className=\"text-sm text-muted-foreground\">\n                  Redirecting to sign in page...\n                </p>\n              </>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default AuthCallback;\n","import React, { lazy, Suspense } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { ErrorBoundary } from './ErrorBoundary';\nimport { QueryErrorBoundary } from './QueryErrorBoundary';\nimport { LoadingSpinner } from './ui/loading-spinner';\nimport { ProtectedRoute } from './ProtectedRoute';\nimport AppContent from './AppContent';\n\n// Lazy load components for better performance\nconst HomeScreen = lazy(() => import('./HomeScreen'));\nconst SearchDiscovery = lazy(() => import('./SearchDiscovery'));\nconst CreateGame = lazy(() => import('./CreateGame'));\nconst UserProfile = lazy(() => import('./UserProfile'));\nconst EditProfile = lazy(() => import('./EditProfile'));\nconst GameDetails = lazy(() => import('./GameDetails'));\nconst OtherUserProfile = lazy(() => import('./OtherUserProfile'));\nconst NotificationCenter = lazy(() => import('./NotificationCenter'));\nconst Settings = lazy(() => import('./Settings'));\nconst AccessibilitySettings = lazy(() => import('./AccessibilitySettings'));\nconst NotificationSettings = lazy(() => import('./NotificationSettings'));\nconst DesignSystem = lazy(() => import('./DesignSystem'));\nconst AdminDashboard = lazy(() => import('./AdminDashboard'));\nimport AuthCallback from './AuthCallback';\nconst TermsOfService = lazy(() => import('./TermsOfService'));\nconst PrivacyPolicy = lazy(() => import('./PrivacyPolicy'));\n\nconst Onboarding = lazy(() => import('./Onboarding'));\nconst NavigationTest = lazy(() => import('./NavigationTest'));\nconst Auth = lazy(() => import('./Auth'));\n\n// Simple loading component\nconst RouteLoader = ({ text = \"Loading...\" }: { text?: string }) => (\n  <div className=\"flex items-center justify-center min-h-[50vh]\">\n    <LoadingSpinner size=\"lg\" text={text} />\n  </div>\n);\n\n// AppWrapper component for consistent layout\nconst AppWrapper = ({ children }: { children: React.ReactNode }) => (\n  <div className=\"min-h-screen bg-background\">\n    {children}\n  </div>\n);\n\n// Main Router Component\nexport function AppRouter() {\n  return (\n    <BrowserRouter>\n      <ErrorBoundary>\n        <QueryErrorBoundary>\n          <AppWrapper>\n            <Suspense fallback={<RouteLoader text=\"Loading application...\" />}>\n              <Routes>\n              {/* Protected Routes - require authentication */}\n              <Route path=\"/\" element={\n                <ProtectedRoute>\n                  <AppContent />\n                </ProtectedRoute>\n              }>\n                {/* Main App Routes */}\n                <Route index element={<HomeScreen />} />\n                <Route path=\"search\" element={<SearchDiscovery />} />\n                <Route path=\"create\" element={<CreateGame />} />\n                <Route path=\"profile\" element={<UserProfile />} />\n                <Route path=\"profile/edit\" element={<EditProfile />} />\n\n                {/* Game Routes */}\n                <Route path=\"game/:gameId\" element={<GameDetails />} />\n\n                {/* User Profile Routes */}\n                <Route path=\"user/:userId\" element={<OtherUserProfile />} />\n\n                {/* Notification Routes */}\n                <Route path=\"notifications\" element={<NotificationCenter />} />\n\n                {/* Settings Routes */}\n                <Route path=\"settings\" element={<Settings />} />\n                <Route path=\"settings/accessibility\" element={<AccessibilitySettings />} />\n                <Route path=\"settings/notifications\" element={<NotificationSettings />} />\n\n                {/* Admin Routes */}\n                <Route path=\"admin\" element={<AdminDashboard />} />\n\n                {/* Design System Routes */}\n                <Route path=\"design\" element={<DesignSystem onBack={() => {}} />} />\n    \n\n                {/* Development Routes */}\n                <Route path=\"navigation-test\" element={<NavigationTest />} />\n\n              </Route>\n\n              {/* Public routes - no authentication required */}\n              <Route\n                path=\"/auth\"\n                element={\n                  <ProtectedRoute requireAuth={false}>\n                    <Suspense fallback={<RouteLoader text=\"Loading authentication...\" />}>\n                      <Auth />\n                    </Suspense>\n                  </ProtectedRoute>\n                }\n              />\n              <Route\n                path=\"/auth/callback\"\n                element={<AuthCallback />}\n              />\n              <Route\n                path=\"onboarding\"\n                element={\n                  <Suspense fallback={<RouteLoader text=\"Loading onboarding...\" />}>\n                    <Onboarding onComplete={(data) => {\n                      console.log('Onboarding completed with data:', data);\n                      // The onboarding component handles navigation internally\n                    }} />\n                  </Suspense>\n                }\n              />\n\n              {/* Legal Pages */}\n              <Route\n                path=\"legal/terms\"\n                element={\n                  <Suspense fallback={<RouteLoader text=\"Loading terms...\" />}>\n                    <TermsOfService />\n                  </Suspense>\n                }\n              />\n              <Route\n                path=\"legal/privacy\"\n                element={\n                  <Suspense fallback={<RouteLoader text=\"Loading privacy policy...\" />}>\n                    <PrivacyPolicy />\n                  </Suspense>\n                }\n              />\n\n              {/* Fallback */}\n              <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n            </Routes>\n          </Suspense>\n        </AppWrapper>\n        </QueryErrorBoundary>\n      </ErrorBoundary>\n    </BrowserRouter>\n  );\n}","\"use client\";\n\n// src/index.ts\nimport * as Devtools from \"./ReactQueryDevtools.js\";\nimport * as DevtoolsPanel from \"./ReactQueryDevtoolsPanel.js\";\nvar ReactQueryDevtools2 = process.env.NODE_ENV !== \"development\" ? function() {\n  return null;\n} : Devtools.ReactQueryDevtools;\nvar ReactQueryDevtoolsPanel2 = process.env.NODE_ENV !== \"development\" ? function() {\n  return null;\n} : DevtoolsPanel.ReactQueryDevtoolsPanel;\nexport {\n  ReactQueryDevtools2 as ReactQueryDevtools,\n  ReactQueryDevtoolsPanel2 as ReactQueryDevtoolsPanel\n};\n//# sourceMappingURL=index.js.map","import { QueryClient } from '@tanstack/react-query';\n\nexport class QueryDebugger {\n  private static instance: QueryDebugger;\n  private queryClient: QueryClient | null = null;\n  private debugInterval: NodeJS.Timeout | null = null;\n\n  static getInstance(): QueryDebugger {\n    if (!QueryDebugger.instance) {\n      QueryDebugger.instance = new QueryDebugger();\n    }\n    return QueryDebugger.instance;\n  }\n\n  setQueryClient(client: QueryClient) {\n    this.queryClient = client;\n  }\n\n  startDebugging() {\n    if (this.debugInterval || !this.queryClient) return;\n\n    console.log(' [QueryDebugger] Starting query state monitoring...');\n    \n    this.debugInterval = setInterval(() => {\n      this.logQueryStates();\n    }, 10000); // Log every 10 seconds\n  }\n\n  stopDebugging() {\n    if (this.debugInterval) {\n      clearInterval(this.debugInterval);\n      this.debugInterval = null;\n      console.log(' [QueryDebugger] Stopped query state monitoring');\n    }\n  }\n\n  logQueryStates() {\n    if (!this.queryClient) return;\n\n    const cache = this.queryClient.getQueryCache();\n    const queries = cache.getAll();\n    \n    const gameQueries = queries.filter(q => \n      q.queryKey.includes('games') || \n      q.queryKey.some(key => typeof key === 'string' && key.includes('game'))\n    );\n\n    if (gameQueries.length === 0) {\n      console.log(' [QueryDebugger] No game queries found');\n      return;\n    }\n\n    console.group(' [QueryDebugger] Query States');\n    \n    gameQueries.forEach(query => {\n      const state = query.state;\n      const isStale = query.isStale();\n      const isActive = query.getObserversCount() > 0;\n      \n      console.log(` Query: ${JSON.stringify(query.queryKey)}`, {\n        status: state.status,\n        fetchStatus: state.fetchStatus,\n        isStale,\n        isActive,\n        observers: query.getObserversCount(),\n        dataUpdatedAt: new Date(state.dataUpdatedAt).toLocaleTimeString(),\n        errorUpdatedAt: state.errorUpdatedAt ? new Date(state.errorUpdatedAt).toLocaleTimeString() : 'never',\n        error: state.error?.message,\n        data: state.data ? `${Array.isArray(state.data) ? state.data.length : 'object'} items` : 'no data'\n      });\n    });\n    \n    console.groupEnd();\n  }\n\n  forceRefreshStuckQueries() {\n    if (!this.queryClient) return;\n\n    const cache = this.queryClient.getQueryCache();\n    const queries = cache.getAll();\n    \n    const stuckQueries = queries.filter(query => {\n      const state = query.state;\n      const timeSinceLastUpdate = Date.now() - state.dataUpdatedAt;\n      \n      // Consider a query \"stuck\" if it's been loading for more than 30 seconds\n      return (\n        state.fetchStatus === 'fetching' && \n        timeSinceLastUpdate > 30000\n      );\n    });\n\n    if (stuckQueries.length > 0) {\n      console.warn(` [QueryDebugger] Found ${stuckQueries.length} stuck queries, forcing refresh...`);\n      \n      stuckQueries.forEach(query => {\n        console.log(` [QueryDebugger] Cancelling stuck query:`, query.queryKey);\n        query.cancel();\n        this.queryClient!.invalidateQueries({ queryKey: query.queryKey });\n      });\n    }\n  }\n\n  clearAllGameQueries() {\n    if (!this.queryClient) return;\n\n    console.log(' [QueryDebugger] Clearing all game-related queries...');\n    \n    this.queryClient.removeQueries({\n      predicate: (query) => \n        query.queryKey.includes('games') || \n        query.queryKey.some(key => typeof key === 'string' && key.includes('game'))\n    });\n    \n    console.log(' [QueryDebugger] Game queries cleared');\n  }\n\n  getQueryStats() {\n    if (!this.queryClient) return null;\n\n    const cache = this.queryClient.getQueryCache();\n    const queries = cache.getAll();\n    \n    const stats = {\n      total: queries.length,\n      loading: queries.filter(q => q.state.fetchStatus === 'fetching').length,\n      error: queries.filter(q => q.state.status === 'error').length,\n      success: queries.filter(q => q.state.status === 'success').length,\n      stale: queries.filter(q => q.isStale()).length,\n      active: queries.filter(q => q.getObserversCount() > 0).length\n    };\n\n    return stats;\n  }\n}\n\n// Global instance\nexport const queryDebugger = QueryDebugger.getInstance();\n\n// Development helper functions\nif (typeof window !== 'undefined') {\n  (window as any).queryDebugger = queryDebugger;\n  (window as any).debugQueries = () => queryDebugger.logQueryStates();\n  (window as any).clearGameQueries = () => queryDebugger.clearAllGameQueries();\n  (window as any).forceRefreshStuck = () => queryDebugger.forceRefreshStuckQueries();\n}\n","import React, { useEffect } from 'react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\nimport { queryDebugger } from '../utils/queryDebugger';\n\n// Create a client with enhanced error handling\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 2 * 60 * 1000, // 2 minutes (reduced for better refresh)\n      gcTime: 5 * 60 * 1000, // 5 minutes (reduced to prevent stale cache issues)\n      retry: (failureCount, error: any) => {\n        console.log(` [QueryClient] Retry attempt ${failureCount} for error:`, error?.message);\n        \n        // Don't retry on 4xx errors\n        if (error?.status >= 400 && error?.status < 500) {\n          console.warn(' [QueryClient] 4xx error, no retry');\n          return false;\n        }\n        \n        // Don't retry timeout errors more than once\n        if (error?.message?.includes('timeout') && failureCount >= 1) {\n          console.warn(' [QueryClient] Timeout retry limit reached');\n          return false;\n        }\n        \n        return failureCount < 2; // Reduced from 3 to 2\n      },\n      retryDelay: (attemptIndex) => {\n        const delay = Math.min(1000 * 2 ** attemptIndex, 15000); // Reduced max delay\n        console.log(` [QueryClient] Retry delay: ${delay}ms`);\n        return delay;\n      },\n    },\n    mutations: {\n      retry: 1,\n    },\n  },\n});\n\n// Set up query debugger\nqueryDebugger.setQueryClient(queryClient);\n\n// Add global error handler\nqueryClient.getQueryCache().subscribe((event) => {\n  if (event.type === 'added') {\n    console.log(' [QueryClient] Query added:', event.query.queryKey);\n  } else if (event.type === 'removed') {\n    console.log(' [QueryClient] Query removed:', event.query.queryKey);\n  }\n});\n\ninterface QueryProviderProps {\n  children: React.ReactNode;\n}\n\nexport function QueryProvider({ children }: QueryProviderProps) {\n  useEffect(() => {\n    // Expose queryClient to window for debugging\n    if (typeof window !== 'undefined') {\n      (window as any).queryClient = queryClient;\n      console.log(' [QueryProvider] QueryClient exposed to window.queryClient');\n    }\n    \n    // Start debugging in development\n    const isDev = typeof window !== 'undefined' && \n      (window.location.hostname === 'localhost' || process.env.NODE_ENV === 'development');\n    \n    if (isDev) {\n      console.log(' [QueryProvider] Query debugging disabled temporarily to prevent interference');\n      // queryDebugger.startDebugging();\n      \n      // Disable stuck query detection that was cancelling queries\n      // const stuckQueryInterval = setInterval(() => {\n      //   queryDebugger.forceRefreshStuckQueries();\n      // }, 30000); // Check every 30 seconds\n      \n      // return () => {\n      //   queryDebugger.stopDebugging();\n      //   clearInterval(stuckQueryInterval);\n      // };\n    }\n  }, []);\n  \n  return (\n    <QueryClientProvider client={queryClient}>\n      {children}\n      {/* React Query DevTools - only in development */}\n      {typeof window !== 'undefined' && \n       (window.location.hostname === 'localhost' || process.env.NODE_ENV === 'development') && (\n        <ReactQueryDevtools \n          initialIsOpen={false}\n        />\n      )}\n    </QueryClientProvider>\n  );\n}\n\nexport { queryClient };\n","import React from 'react';\nimport { AppRouter } from './components/AppRouter';\nimport { AuthProvider } from './providers/AuthProvider';\nimport { QueryProvider } from './providers/QueryProvider';\nimport { ErrorBoundary } from './components/ErrorBoundary';\nimport { Toaster } from 'sonner';\n\nexport default function App() {\n  return (\n    <ErrorBoundary>\n      <QueryProvider>\n        <AuthProvider>\n          <AppRouter />\n        </AuthProvider>\n      </QueryProvider>\n    </ErrorBoundary>\n  );\n}","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.tsx'\nimport './index.css'\nimport { CacheCorruptionDetector } from './utils/cacheCorruptionDetector'\n\n// Performance optimization: In production, CSS is bundled into main assets automatically\n// No manual preloading needed as Vite handles this optimization\n\n// Register service worker properly - only in production\nif ('serviceWorker' in navigator && (import.meta as any).env.PROD) {\n  window.addEventListener('load', async () => {\n    try {\n      const registration = await navigator.serviceWorker.register('/sw.js', {\n        scope: '/',\n        updateViaCache: 'none' // Always check for updates\n      });\n      \n      console.log(' Service Worker registered:', registration);\n      \n      // Handle service worker updates\n      registration.addEventListener('updatefound', () => {\n        const newWorker = registration.installing;\n        if (newWorker) {\n          newWorker.addEventListener('statechange', () => {\n            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n              // New content is available, prompt user to refresh\n              if (confirm('New version available! Refresh to update?')) {\n                window.location.reload();\n              }\n            }\n          });\n        }\n      });\n      \n    } catch (error) {\n      console.error(' Service Worker registration failed:', error);\n    }\n  });\n}\n\n// Performance monitoring in production\nif ((import.meta as any).env.PROD && 'performance' in window) {\n  const startTime = performance.now();\n  window.addEventListener('load', () => {\n    const loadTime = performance.now() - startTime;\n    console.log(` App loaded in: ${loadTime.toFixed(2)} ms`);\n    console.log(` DEPLOYMENT VERSION: v2.1 - ${new Date().toISOString()}`);\n  });\n}\n\n// Initialize app directly - disable cache corruption detector temporarily\nasync function initializeApp() {\n  console.log(' [App] Starting TribeUp initialization...');\n  \n  try {\n    console.log(' [App] Skipping cache corruption check, starting React app directly...');\n    \n    // Start React app immediately\n    ReactDOM.createRoot(document.getElementById('root')!).render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n    );\n    \n  } catch (error) {\n    console.error(' [App] Initialization failed:', error);\n    \n    // Simple fallback without cache cleaning\n    console.log(' [App] Retrying app initialization...');\n    setTimeout(() => {\n      window.location.reload();\n    }, 1000);\n  }\n}\n\n// Start the initialization\ninitializeApp();"],"file":"assets/index-DJ4pNJjZ.js"}