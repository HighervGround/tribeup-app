import{r as f,u as ue,j as e,B as S,C as G,d as I,e as z,f as B,g as W,A as K,h as V,a as xe,S as X}from"./index-Cfl5Ip2R.js";import{I as q}from"./input-BTvzpFMr.js";import{T as pe}from"./textarea-B0NSIol_.js";import{P as ge}from"./progress-BCqT7bZs.js";import{u as he}from"./useGeolocation-Ba2-VC5B.js";import{A as H}from"./arrow-left-GJhZLgHY.js";import{N as Z}from"./navigation-R0rUPSQO.js";import{M as ee}from"./map-pin-BnLWMbzc.js";import{C as te}from"./circle-check-big-PI9OIIPG.js";import"./index-R0r65nVe.js";import"./index-BznrBX1_.js";function fe(){const[P,l]=f.useState([]),[_,k]=f.useState(!1),b="AIzaSyCs_MsE3qt74h6eIR04QJqmf2FYgSys4UQ",g=f.useCallback(async x=>{try{if(b&&b!=="demo_key"){const y=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(x)}&key=${b}`);if(y.ok){const c=await y.json();if(c.results&&c.results.length>0){const m=c.results[0].geometry.location;return{lat:m.lat,lng:m.lng}}}}const p=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(x)}&limit=1`);if(!p.ok)throw new Error("Geocoding failed");const h=await p.json();return h.length>0?{lat:parseFloat(h[0].lat),lng:parseFloat(h[0].lon)}:null}catch(p){return console.error("Geocoding error:",p),null}},[b]),$=f.useCallback(async(x,p,h)=>{if(!x.trim()){l([]);return}k(!0);try{if(b&&b!=="demo_key"){let N="https://places.googleapis.com/v1/places:autocomplete";const D={input:x,...p&&h&&{locationBias:{circle:{center:{latitude:p,longitude:h},radius:5e4}}}},T=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json","X-Goog-Api-Key":b},body:JSON.stringify(D)});if(T.ok){const L=await T.json();if(L.suggestions&&L.suggestions.length>0){const A=L.suggestions.map((a,w)=>({place_id:a.placePrediction?.placeId||`google-${w}`,description:a.placePrediction?.text?.text||"",structured_formatting:{main_text:a.placePrediction?.structuredFormat?.mainText?.text||"",secondary_text:a.placePrediction?.structuredFormat?.secondaryText?.text||""}}));l(A),k(!1);return}}}let y=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(x)}&limit=5&addressdetails=1`;p&&h&&(y+=`&lat=${p}&lon=${h}&bounded=1&viewbox=${h-.1},${p+.1},${h+.1},${p-.1}`);const C=(await(await fetch(y)).json()).map((N,D)=>({place_id:N.place_id||`osm-${D}`,description:N.display_name,structured_formatting:{main_text:N.name||N.display_name.split(",")[0],secondary_text:N.display_name.split(",").slice(1,3).join(",").trim()}}));l(C)}catch(y){console.error("Location search error:",y);const c=[{place_id:"1",description:`${x} Community Center`,structured_formatting:{main_text:`${x} Community Center`,secondary_text:"Recreation Center"}},{place_id:"2",description:`${x} Park`,structured_formatting:{main_text:`${x} Park`,secondary_text:"Public Park"}},{place_id:"3",description:`${x} Sports Complex`,structured_formatting:{main_text:`${x} Sports Complex`,secondary_text:"Athletic Facility"}}];l(c)}finally{k(!1)}},[b]);return{suggestions:P,loading:_,searchLocations:$,geocodeLocation:g}}const se=[{value:"basketball",label:"Basketball",icon:"ðŸ€"},{value:"soccer",label:"Soccer",icon:"âš½"},{value:"tennis",label:"Tennis",icon:"ðŸŽ¾"},{value:"pickleball",label:"Pickleball",icon:"ðŸ¥’"},{value:"volleyball",label:"Volleyball",icon:"ðŸ"},{value:"football",label:"Football",icon:"ðŸˆ"},{value:"baseball",label:"Baseball",icon:"âš¾"}],j=[{id:1,title:"Game Details",fields:["sport","title"]},{id:2,title:"Date & Time",fields:["date","time"]},{id:3,title:"Location & Players",fields:["location","maxPlayers","cost"]}];function De(){const P=ue(),[l,_]=f.useState(1),[k,b]=f.useState(!1),[g,$]=f.useState({}),[x,p]=f.useState(null),[h,y]=f.useState(!1),{latitude:c,longitude:m,error:C}=he(),{suggestions:N,loading:D,searchLocations:T,geocodeLocation:L}=fe(),A=()=>{const t=new Date;return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]},[a,w]=f.useState({title:"",sport:"",date:A(),time:"",location:"",latitude:null,longitude:null,maxPlayers:"",cost:"Free",imageUrl:""}),Y={basketball:{maxPlayers:10},soccer:{maxPlayers:22},football:{maxPlayers:22},tennis:{maxPlayers:4},volleyball:{maxPlayers:12},baseball:{maxPlayers:18},hockey:{maxPlayers:12},badminton:{maxPlayers:4},pickleball:{maxPlayers:4},golf:{maxPlayers:4},running:{maxPlayers:20},cycling:{maxPlayers:15},swimming:{maxPlayers:8},yoga:{maxPlayers:15},crossfit:{maxPlayers:12}},ae=(()=>{const t=new Date,s=t.getHours();return t.getDay()===0||t.getDay()===6?["09:00","10:00","11:00","14:00","15:00","16:00","17:00"]:s<17?["17:00","18:00","19:00","20:00","21:00"]:["18:00","19:00","20:00","21:00"]})(),[M,re]=f.useState(()=>{try{return JSON.parse(localStorage.getItem("recentGameLocations")||"[]")}catch{return[]}});f.useEffect(()=>{console.log("Location effect triggered:",{userLat:c,userLng:m,location:a.location,latitude:a.latitude,geoError:C}),c&&m&&!a.location.trim()&&(console.log("Auto-filling location with GPS coordinates"),(async()=>{try{console.log("Fetching reverse geocoding for:",c,m);const s="AIzaSyCs_MsE3qt74h6eIR04QJqmf2FYgSys4UQ";let o;if(s&&(o=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${c},${m}&key=${s}`)),!o.ok)throw new Error(`HTTP ${o.status}`);const r=await o.json();console.log("Reverse geocoding response:",r);let i="";if(s&&r.results&&r.results.length>0)i=r.results[0].formatted_address;else if(r.address){const n=[];r.address.house_number&&r.address.road?n.push(`${r.address.house_number} ${r.address.road}`):r.address.road&&n.push(r.address.road),(r.address.city||r.address.town||r.address.village)&&n.push(r.address.city||r.address.town||r.address.village),r.address.state&&n.push(r.address.state),i=n.join(", ")}i||(i=r.display_name||`${c.toFixed(4)}, ${m.toFixed(4)}`),console.log("Setting location to:",i),w(n=>({...n,location:i,latitude:c,longitude:m}))}catch(s){console.error("Reverse geocoding failed:",s);const o=`${c.toFixed(4)}, ${m.toFixed(4)}`;console.log("Using fallback location:",o),w(r=>({...r,location:o,latitude:c,longitude:m}))}})())},[c,m,C]);const R=(t,s,o)=>{if(!t||!s||!o)return"";const r=parseInt(s.split(":")[0]);let i="Morning";r>=12&&r<17?i="Afternoon":r>=17&&(i="Evening");const n=o.split(",")[0].trim(),d=t.charAt(0).toUpperCase()+t.slice(1),u=[`${i} ${d} at ${n}`,`${d} Game - ${n}`,`${i} ${d} Session`,`${n} ${d} Meetup`,`${d} @ ${n}`];return u[Math.floor(Math.random()*u.length)]},oe=async(t,s,o,r)=>{if(!t||!s||!o||!r)return null;try{return(await X.getGames()).filter(d=>{const u=d.date===s,U=Math.abs(new Date(`2000-01-01T${d.time}`).getTime()-new Date(`2000-01-01T${o}`).getTime())<36e5,de=d.sport.toLowerCase()===t.toLowerCase(),me=d.location.toLowerCase().includes(r.toLowerCase())||r.toLowerCase().includes(d.location.toLowerCase());return u&&U&&de&&me}).length>0?`Similar ${t} game already exists at ${r} on ${s} around ${o}`:null}catch(i){return console.error("Error checking duplicates:",i),null}},ie=(t,s)=>{switch(t){case"date":if(!s)return null;const o=new Date;return new Date(s+"T00:00:00")<new Date(o.toDateString())?"Date cannot be in the past":null;case"time":if(!s)return null;const i=parseInt(s.split(":")[0]);return i<6||i>23?"Unusual time - games typically happen 6 AM - 11 PM":i>=2&&i<=5?"Did you mean PM instead of AM?":null;case"maxPlayers":if(!s)return null;const n=parseInt(s);if(n<2)return"Need at least 2 players";if(n>100)return"That seems like a lot of players - double check?";const d=a.sport?.toLowerCase();return d==="tennis"&&n>4?"Tennis usually has 2-4 players":d==="basketball"&&n>10?"Basketball usually has 6-10 players":d==="soccer"&&n>22?"Soccer usually has up to 22 players":null;case"location":return s?s.length<3?"Location too short":s.toLowerCase().includes("ocean")||s.toLowerCase().includes("sea")?"Are you sure this location is correct?":s.toLowerCase().includes("home")||s.toLowerCase().includes("house")?"Consider using a public venue for safety":null:null;case"cost":if(!s)return null;const u=parseFloat(s);return u<0?"Cost cannot be negative":u>500?"That seems expensive - double check?":null;default:return null}},v=(t,s)=>{w(r=>{const i={...r,[t]:s},n=R(r.sport,r.time,r.location),d=R(t==="sport"?s:r.sport,t==="time"?s:r.time,t==="location"?s:r.location);if((t==="sport"||t==="time"||t==="location")&&(!r.title||r.title===n)&&d&&(i.title=d),t==="sport"&&Y[s.toLowerCase()]&&(i.maxPlayers=Y[s.toLowerCase()].maxPlayers.toString()),t==="location"&&s.trim()){const u=[s,...M.filter(U=>U!==s)].slice(0,5);re(u),localStorage.setItem("recentGameLocations",JSON.stringify(u))}return i});const o=ie(t,s);$(r=>{if(o)return{...r,[t]:o};{const{[t]:i,...n}=r;return n}}),t==="location"&&a.sport&&a.date&&a.time&&s&&oe(a.sport,a.date,a.time,s).then(r=>{$(r?i=>({...i,duplicate:r}):i=>{const{duplicate:n,...d}=i;return d})}),setTimeout(()=>{E(l)&&!Object.keys(g).length&&l<j.length&&_(l+1)},500)},E=t=>{const s=j[t-1]?.fields||[],o=s.every(r=>{const i=a[r];return i&&i.toString().trim()!==""});return console.log("[CreateGame] isStepComplete - Step:",t,"Fields:",s,"Complete:",o,"FormData:",a),o},J=()=>{const t={};if(l===1&&(a.sport||(t.sport="Please select a sport."),a.title.trim()||(t.title="Game title is required.")),l===2&&(a.date||(t.date="Please choose a date."),a.time||(t.time="Please choose a time."),a.date)){const s=new Date;new Date(a.date+"T00:00:00")<new Date(s.toDateString())&&(t.date="Date cannot be in the past.")}if(l===3){a.location.trim()||(t.location="Location is required.");const s=parseInt(a.maxPlayers,10);a.maxPlayers?(Number.isNaN(s)||s<=0)&&(t.maxPlayers="Enter a valid number greater than 0."):t.maxPlayers="Max players is required.",a.cost||(t.cost="Please select a cost option.")}return console.log("[CreateGame] Validation - Step:",l,"Errors:",t,"FormData:",a),$(t),Object.keys(t).length===0},ne=()=>{J()&&l<j.length&&_(l+1)},Q=()=>{l>1?_(l-1):P(-1)},le=async()=>{if(J()){b(!0),p(null);try{const{user:t}=xe.getState();if(console.log("[CreateGame] submit clicked. user =",t?.id),!t)throw new Error("You must be logged in to create a game");const s={title:a.title,sport:a.sport,date:a.date,time:a.time,location:a.location,latitude:a.latitude,longitude:a.longitude,max_players:parseInt(a.maxPlayers),cost:a.cost||"Free",description:"",requirements:"",image_url:a.imageUrl,creator_id:t.id};console.log("[CreateGame] creating game with data =",s),await X.createGame(s),P("/")}catch(t){console.error("Error creating game:",t),p(t instanceof Error?t.message:"Failed to create game")}finally{b(!1)}}},ce=l/j.length*100,O=se.find(t=>t.value===a.sport),F=(t,s,o="text",r)=>{const i=a[t],n=g[t],d=i&&!n;return o==="select"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:s}),e.jsxs("select",{value:i,onChange:u=>v(t,u.target.value),className:`w-full p-3 border rounded-lg transition-colors ${n?"border-red-500 bg-red-50 dark:bg-red-950 dark:border-red-400":d?"border-green-500 bg-green-50 dark:bg-green-950 dark:border-green-400":"border-gray-300 dark:border-gray-600 bg-background"}`,children:[e.jsxs("option",{value:"",children:["Select ",s.toLowerCase()]}),r?.map(u=>e.jsx("option",{value:u.value,children:u.label},u.value))]}),n&&e.jsxs("p",{className:"text-sm text-red-500 dark:text-red-400 flex items-center gap-1",children:[e.jsx("span",{children:"âš ï¸"})," ",n]}),d&&!n&&e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center gap-1",children:[e.jsx("span",{children:"âœ…"})," Looks good!"]})]}):o==="textarea"?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s,j[l-1].fields.includes(t)&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(pe,{value:i,onChange:u=>v(t,u.target.value),placeholder:`Enter ${s.toLowerCase()}`,className:`resize-none ${n?"border-destructive":""}`,rows:3}),n&&e.jsx("p",{className:"text-sm text-destructive",children:n})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s,j[l-1].fields.includes(t)&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(q,{type:o,value:a[t],onChange:u=>v(t,u.target.value),placeholder:`Enter ${s.toLowerCase()}`,min:o==="date"?new Date().toISOString().split("T")[0]:void 0,className:`transition-colors ${n?"border-red-500 bg-red-50":d?"border-green-500 bg-green-50":"border-gray-300"}`}),n&&e.jsxs("p",{className:"text-sm text-red-500 dark:text-red-400 flex items-center gap-1",children:[e.jsx("span",{children:"âš ï¸"})," ",n]}),d&&!n&&e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center gap-1",children:[e.jsx("span",{children:"âœ…"})," Looks good!"]})]})};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:[e.jsx("div",{className:"flex items-center justify-between px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(S,{variant:"ghost",size:"icon",onClick:Q,children:e.jsx(H,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Create Game"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:j[l-1].title})]})]})}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx(ge,{value:ce,className:"h-2"})})]}),e.jsxs("div",{className:"px-4 pb-32 pt-6",children:[O&&e.jsx("div",{className:"mb-6",children:e.jsx(G,{children:e.jsx(I,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center text-2xl",children:O.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:a.title||"New Game"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:O.label})]})]})})})}),l===1&&e.jsx("div",{className:"space-y-6",children:e.jsxs(G,{children:[e.jsx(z,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold text-sm",children:"1"}),"Game Details"]})}),e.jsxs(I,{className:"space-y-6",children:[F("sport","Sport","select",se),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-sm font-medium",children:"Game Title"}),e.jsx("button",{type:"button",onClick:()=>{if(a.sport&&(a.time||a.location)){const t=R(a.sport,a.time,a.location);v("title",t)}},className:"text-xs text-primary hover:underline",disabled:!a.sport,children:"Regenerate"})]}),e.jsx(q,{value:a.title,onChange:t=>v("title",t.target.value),placeholder:"Enter game title or let it auto-generate",className:"transition-colors"}),a.title&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Title will auto-update when you change sport, time, or location"})]})]})]})}),l===2&&e.jsx("div",{className:"space-y-6",children:e.jsxs(G,{children:[e.jsx(z,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold text-sm",children:"2"}),"Date & Time"]})}),e.jsxs(I,{className:"space-y-6",children:[F("date","Date","date"),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Time"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"time",value:a.time,onChange:t=>v("time",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 w-full",children:new Date().getDay()===0||new Date().getDay()===6?"Weekend times:":"Evening times:"}),ae.map(t=>{const s=parseInt(t.split(":")[0]),o=s>=12?"PM":"AM",i=`${s>12?s-12:s===0?12:s}:${t.split(":")[1]} ${o}`;return e.jsx("button",{type:"button",onClick:()=>v("time",t),className:`px-3 py-1 text-xs rounded-full border transition-colors ${a.time===t?"bg-primary text-white border-primary":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:i},t)})]})]}),g.time&&e.jsx("p",{className:"text-red-500 dark:text-red-400 text-sm",children:g.time})]})]})]})}),l===3&&e.jsx("div",{className:"space-y-6",children:e.jsxs(G,{children:[e.jsx(z,{children:e.jsxs(B,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold text-sm",children:"3"}),"Location & Players"]})}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Location"}),M.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"text-xs text-gray-500 block mb-2",children:"Recent locations:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:M.map((t,s)=>e.jsx("button",{type:"button",onClick:()=>v("location",t),className:`px-3 py-1 text-xs rounded-full border transition-colors ${a.location===t?"bg-primary text-white border-primary":"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}`,children:t.split(",")[0]},s))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q,{value:a.location,onChange:t=>{v("location",t.target.value),t.target.value.length>2?(T(t.target.value,c||void 0,m||void 0),y(!0)):y(!1)},placeholder:"Enter location or address",className:g.location?"border-destructive":""}),e.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex gap-2",children:[D&&e.jsx(W,{className:"w-4 h-4 animate-spin text-muted-foreground"}),e.jsx(S,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:async()=>{if(c&&m)try{const o=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${c}&lon=${m}`)).json()).display_name||`${c.toFixed(4)}, ${m.toFixed(4)}`;w(r=>({...r,location:o,latitude:c,longitude:m}))}catch(t){console.error("Reverse geocoding failed:",t),w(s=>({...s,location:`${c.toFixed(4)}, ${m.toFixed(4)}`,latitude:c,longitude:m}))}},disabled:!c||!m,title:c&&m?"Use my current location":C||"Location not available",children:e.jsx(Z,{className:"w-4 h-4"})})]})]}),h&&N.length>0&&e.jsx("div",{className:"border border-border rounded-md bg-background shadow-lg max-h-48 overflow-y-auto",children:N.map(t=>e.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-muted border-b border-border last:border-b-0 flex items-center gap-2",onClick:async()=>{w(o=>({...o,location:t.description})),y(!1);const s=await L(t.description);s&&w(o=>({...o,latitude:s.lat,longitude:s.lng}))},children:[e.jsx(ee,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.structured_formatting.main_text}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.structured_formatting.secondary_text})]})]},t.place_id))}),g.location&&e.jsx("p",{className:"text-sm text-destructive",children:g.location}),a.latitude&&a.longitude&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[e.jsx(ee,{className:"w-3 h-3"}),e.jsxs("span",{children:["ðŸ“ Location coordinates saved (",a.latitude.toFixed(4),", ",a.longitude.toFixed(4),")"]})]}),c&&m&&!a.latitude&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600 dark:text-blue-400",children:[e.jsx(Z,{className:"w-3 h-3"}),e.jsx("span",{children:"ðŸŽ¯ Your location detected - use GPS button to auto-fill"})]}),C&&e.jsxs("div",{className:"text-sm text-amber-600",children:["ðŸ“ ",C]})]}),F("maxPlayers","Max Players","number"),F("cost","Cost","select",[{value:"FREE",label:"Free"},{value:"$5",label:"$5 per person"},{value:"$10",label:"$10 per person"},{value:"$15",label:"$15 per person"},{value:"$20",label:"$20 per person"},{value:"custom",label:"Custom amount"}]),F("requirements","Requirements (Optional)","textarea")]})]})}),x&&e.jsx("div",{className:"mt-4",children:e.jsx(K,{variant:"destructive",children:e.jsx(V,{children:x})})}),l===3&&a.sport&&e.jsxs("div",{className:"mt-6",children:[e.jsxs(K,{children:[e.jsx(te,{className:"h-4 w-4"}),e.jsxs(V,{children:['Ready to create "',a.title,'" for ',a.maxPlayers," players on ",a.date," at ",a.time,"?"]})]}),g.duplicate&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:g.duplicate}),e.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"You can still create this game if it's intentional."})]})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-sm border-t border-border safe-area-inset-bottom",children:e.jsxs("div",{className:"px-4 py-3 pb-safe",children:[e.jsx("div",{className:"flex justify-center mb-3 sm:hidden",children:e.jsx("div",{className:"flex items-center gap-2",children:j.map((t,s)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium transition-colors ${l===t.id?"bg-primary text-primary-foreground":l>t.id?"bg-green-500 text-white":"bg-muted text-muted-foreground"}`,children:l>t.id?"âœ“":t.id}),s<j.length-1&&e.jsx("div",{className:`w-8 h-0.5 mx-1 ${l>t.id?"bg-green-500":"bg-muted"}`})]},t.id))})}),e.jsxs("div",{className:"flex justify-between items-center gap-3",children:[l>1?e.jsxs(S,{variant:"outline",onClick:Q,className:"min-h-[44px] px-6 flex-1 max-w-[120px] touch-manipulation",size:"lg",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden xs:inline",children:"Previous"}),e.jsx("span",{className:"xs:hidden",children:"Back"})]}):e.jsx(S,{variant:"ghost",onClick:()=>P(-1),className:"min-h-[44px] px-4 touch-manipulation",size:"lg",children:"Cancel"}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-sm text-muted-foreground",children:["Step ",l," of ",j.length]}),l<j.length?e.jsxs(S,{onClick:ne,disabled:!E(l)||Object.keys(g).some(t=>t!=="duplicate"),className:"min-h-[44px] px-6 flex-1 max-w-[120px] touch-manipulation",size:"lg",children:[e.jsx("span",{className:"hidden xs:inline",children:"Continue"}),e.jsx("span",{className:"xs:hidden",children:"Next"}),e.jsx(H,{className:"w-4 h-4 ml-2 rotate-180"})]}):e.jsx(S,{onClick:le,disabled:!E(l)||Object.keys(g).some(t=>t!=="duplicate")||k,className:"min-h-[44px] px-6 flex-1 max-w-[140px] touch-manipulation",size:"lg",children:k?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-4 h-4 mr-2 animate-spin"}),e.jsx("span",{className:"hidden xs:inline",children:"Creating..."}),e.jsx("span",{className:"xs:hidden",children:"Wait..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden xs:inline",children:"Create Game"}),e.jsx("span",{className:"xs:hidden",children:"Create"})]})})]}),!E(l)&&e.jsx("div",{className:"mt-2 text-center",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete required fields to continue"})}),!1]})})]})}export{De as CreateGame};
//# sourceMappingURL=CreateGame-COBqOgUc.js.map
