import{j as e}from"./ui-CuzVkv4o.js";import{r as y}from"./vendor-Dit9F4CM.js";import{u as g,C,d as p,a as k,f as j,B as w}from"./index-Mzv7St__.js";import{I as J}from"./ImageWithFallback-Ba8Vz0S_.js";import{u as P,C as $}from"./useGameJoinToggle-DY4Cct5e.js";import{f as S}from"./dateUtils-But3d3jk.js";import{C as B}from"./calendar-siSf3sT-.js";import{M as v}from"./map-pin-DThEIEnm.js";import{U as b}from"./users-B0YSAO-v.js";function I(s,t={}){const h=g(),a=P(),n=()=>{t.onSelect?t.onSelect(s.id):h(`/game/${s.id}`)},o=r=>{r.stopPropagation(),t.onJoinLeave?t.onJoinLeave(s.id):a.toggleJoin(s,r)},i=()=>s.category==="today"?{text:"Today",className:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300"}:s.category==="tomorrow"?{text:"Tomorrow",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}:null,l=s.currentPlayers>=s.maxPlayers;return{handleCardClick:n,handleJoinClick:o,...a,getCategoryBadge:i,isFull:l,getPlayerCount:()=>`${s.currentPlayers}/${s.maxPlayers} players`,getJoinStatus:()=>s.isJoined?{text:"Joined âœ“",className:"bg-success/20 text-success dark:bg-success/30 dark:text-success text-xs px-2 py-1 rounded"}:null,game:s}}function A({game:s,variant:t="simple",showImage:h=!1,showJoinButton:a=!0,onSelect:n,onJoinLeave:o}){const[i,l]=y.useState(!1),{handleCardClick:d,handleJoinClick:c,isLoading:r,getButtonText:f,getButtonVariant:N,getCategoryBadge:x,getPlayerCount:u,getJoinStatus:m}=I(s,{onSelect:n,onJoinLeave:o});return t==="full"?e.jsx("div",{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:e.jsxs(C,{className:`overflow-hidden cursor-pointer transition-all duration-200 ease-out ${i?"shadow-medium":"shadow-subtle"}`,onClick:d,children:[e.jsxs("div",{className:"relative overflow-hidden",children:[s.imageUrl?e.jsx("div",{className:"aspect-video overflow-hidden",children:e.jsx(J,{src:s.imageUrl,alt:s.sport,className:"w-full h-full object-cover transition-transform duration-300 ease-out"})}):e.jsx("div",{className:"h-16 bg-gradient-to-r from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsx(p,{variant:"secondary",className:"text-sm",children:s.sport})}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/20 to-transparent transition-opacity duration-200 ${i?"opacity-10":"opacity-0"}`}),e.jsxs("div",{className:"absolute top-3 left-3 bg-background/95 backdrop-blur-sm rounded-lg px-3 py-2 min-w-[80px]",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(B,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.date})]}),e.jsx("div",{className:"text-sm font-medium",children:s.time})]}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(p,{className:`${s.sportColor||"bg-primary"} text-white border-none`,children:s.sport})}),s.isJoined&&e.jsx("div",{className:"absolute bottom-3 right-3 w-6 h-6 bg-success rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),e.jsx(k,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{children:s.location})]})]}),s.host&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(j,{userId:s.host.id,src:s.host.avatar,alt:s.host.name,size:"sm"}),e.jsxs("span",{className:"text-muted-foreground",children:["Hosted by ",s.host.name]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{children:u()})]}),a&&e.jsx(w,{size:"sm",variant:N(s),onClick:c,className:"transition-all duration-200",disabled:r||s.currentPlayers>=s.maxPlayers&&!s.isJoined,children:s.currentPlayers>=s.maxPlayers&&!s.isJoined?"Game Full":f(s)})]})]})})]})}):e.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border cursor-pointer hover:shadow-md transition-shadow",onClick:d,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.title}),x()&&e.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full font-medium ${x()?.className}`,children:x()?.text})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.sport}),s.host&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[e.jsx(j,{userId:s.host.id,src:s.host.avatar,alt:s.host.name,size:"sm"}),e.jsxs("span",{className:"text-muted-foreground",children:["Hosted by ",s.host.name]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[s.cost&&e.jsx("div",{className:"text-sm font-medium",children:s.cost}),e.jsx("div",{className:"text-xs text-muted-foreground",children:u()})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:u()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:[s.date," at ",S(s.time)]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:s.description}),a&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[m()?e.jsx("span",{className:`inline-block ${m()?.className}`,children:m()?.text}):e.jsx("div",{}),e.jsx("button",{onClick:c,disabled:r,className:`px-3 py-1 rounded text-sm font-medium transition-colors ${r?"opacity-50 cursor-not-allowed":s.isJoined?"bg-destructive/20 text-destructive dark:bg-destructive/30 dark:text-destructive hover:bg-destructive/30 dark:hover:bg-destructive/40":"bg-primary text-primary-foreground hover:bg-primary/90"}`,children:f(s)})]})]})}export{A as U};
//# sourceMappingURL=UnifiedGameCard-XtxUGUD_.js.map
