import{j as e}from"./ui-Ca5AhCQM.js";import{r as p}from"./vendor-IUqyc6Bg.js";import{u as pe,b as Q,B as E,C as G,a as I,d as R,e as U,L as V,S as K}from"./index-nQGa32TO.js";import{P as he}from"./progress-DcDFIrTT.js";import{I as O}from"./input-qw1MT5NP.js";import{T as fe}from"./textarea-C8IK091d.js";import{A as X,a as Z}from"./alert-Ry46x2aN.js";import{A as z}from"./arrow-left-YpjKqtno.js";import{M as ee}from"./map-pin-Bu8GIzJf.js";import{C as te}from"./circle-check-big-LsyJ8tVB.js";function be(){const[b,n]=p.useState([]),[C,k]=p.useState(!1),j="AIzaSyCs_MsE3qt74h6eIR04QJqmf2FYgSys4UQ",x=p.useCallback(async h=>{try{if(j&&j!=="demo_key"){const N=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(h)}&key=${j}`);if(N.ok){const d=await N.json();if(d.results&&d.results.length>0){const c=d.results[0].geometry.location;return{lat:c.lat,lng:c.lng}}}}const f=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(h)}&limit=1`);if(!f.ok)throw new Error("Geocoding failed");const y=await f.json();return y.length>0?{lat:parseFloat(y[0].lat),lng:parseFloat(y[0].lon)}:null}catch(f){return console.error("Geocoding error:",f),null}},[j]),g=p.useCallback(async(h,f,y)=>{if(!h.trim()){n([]);return}console.log("ðŸ” Starting location search for:",h),k(!0);try{if(j&&j!=="demo_key"&&j!=="your_anon_key_here"){console.log("ðŸŒ Trying Google Places API...");let c=`https://maps.googleapis.com/maps/api/place/autocomplete/json?input=${encodeURIComponent(h)}&key=${j}`;f&&y&&(c+=`&location=${f},${y}&radius=50000`),console.log("ðŸ“¡ Google Places URL:",c);const w=await fetch(c);if(w.ok){const v=await w.json();if(console.log("âœ… Google Places response:",v),v.predictions&&v.predictions.length>0){const P=v.predictions.map($=>({place_id:$.place_id,description:$.description,structured_formatting:{main_text:$.structured_formatting?.main_text||$.description.split(",")[0],secondary_text:$.structured_formatting?.secondary_text||$.description.split(",").slice(1).join(",").trim()}}));console.log("ðŸŽ¯ Google Places suggestions:",P),n(P),k(!1);return}else console.log("âš ï¸ Google Places returned no predictions")}else console.log("âŒ Google Places API error:",w.status,w.statusText)}console.log("ðŸ—ºï¸ Trying OpenStreetMap...");let N=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(h)}&limit=5&addressdetails=1`;f&&y&&(N+=`&lat=${f}&lon=${y}&bounded=1&viewbox=${y-.1},${f+.1},${y+.1},${f-.1}`),console.log("ðŸ“¡ OpenStreetMap URL:",N);const d=await fetch(N);if(d.ok){const c=await d.json();console.log("âœ… OpenStreetMap response:",c);const w=c.map((v,P)=>({place_id:v.place_id||`osm-${P}`,description:v.display_name,structured_formatting:{main_text:v.name||v.display_name.split(",")[0],secondary_text:v.display_name.split(",").slice(1,3).join(",").trim()}}));console.log("ðŸŽ¯ OpenStreetMap suggestions:",w),n(w),k(!1);return}else console.log("âŒ OpenStreetMap API error:",d.status,d.statusText);console.log("âŒ All location APIs failed, showing no suggestions"),n([])}catch(N){console.error("âŒ Location search error:",N),n([])}finally{k(!1)}},[j]);return{suggestions:b,loading:C,searchLocations:g,geocodeLocation:x}}function je(b={}){const[n,C]=p.useState({latitude:null,longitude:null,error:null,loading:!0});return p.useEffect(()=>{if(console.log("useGeolocation hook initializing..."),!navigator.geolocation){console.log("Geolocation not supported"),C(g=>({...g,error:"Geolocation is not supported by this browser",loading:!1}));return}const k=g=>{console.log("GPS location obtained:",g.coords.latitude,g.coords.longitude),C({latitude:g.coords.latitude,longitude:g.coords.longitude,error:null,loading:!1})},j=g=>{let h="Unable to retrieve location";switch(g.code){case g.PERMISSION_DENIED:h="Location access denied by user";break;case g.POSITION_UNAVAILABLE:h="Location information unavailable";break;case g.TIMEOUT:h="Location request timed out";break}console.log("GPS error:",h,g),C(f=>({...f,error:h,loading:!1}))},x={enableHighAccuracy:b.enableHighAccuracy??!0,timeout:b.timeout??1e4,maximumAge:b.maximumAge??3e5};console.log("Requesting GPS permission with options:",x),navigator.geolocation.getCurrentPosition(k,j,x)},[b.enableHighAccuracy,b.timeout,b.maximumAge]),n}const se=[{value:"basketball",label:"Basketball",icon:"ðŸ€"},{value:"soccer",label:"Soccer",icon:"âš½"},{value:"tennis",label:"Tennis",icon:"ðŸŽ¾"},{value:"pickleball",label:"Pickleball",icon:"ðŸ¥’"},{value:"volleyball",label:"Volleyball",icon:"ðŸ"},{value:"football",label:"Football",icon:"ðŸˆ"},{value:"baseball",label:"Baseball",icon:"âš¾"}],S=[{id:1,title:"What & When",fields:["sport","date","time"]},{id:2,title:"Where & Who",fields:["location","maxPlayers","cost"]},{id:3,title:"Review & Create",fields:[]}],ye=["09:00","12:00","15:00","17:00","18:00","19:00","20:00","21:00"];function De(){const b=pe(),[n,C]=p.useState(1),[k,j]=p.useState(!1),[x,g]=p.useState({}),[h,f]=p.useState(null),[y,N]=p.useState(!1),{latitude:d,longitude:c,error:w}=je(),{searchLocations:v,loading:P,suggestions:$,geocodeLocation:ae}=be(),{user:H}=Q(),A=p.useRef(null),[B,re]=p.useState(0),oe=()=>{const t=new Date;return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]},[r,L]=p.useState({title:"",sport:"",date:oe(),time:"",location:"",latitude:null,longitude:null,maxPlayers:"10",cost:"FREE",imageUrl:""}),W={basketball:{maxPlayers:10},soccer:{maxPlayers:22},football:{maxPlayers:22},tennis:{maxPlayers:4},volleyball:{maxPlayers:12},baseball:{maxPlayers:18},hockey:{maxPlayers:12},badminton:{maxPlayers:4},pickleball:{maxPlayers:4},golf:{maxPlayers:4},running:{maxPlayers:20},cycling:{maxPlayers:15},swimming:{maxPlayers:8},yoga:{maxPlayers:15},crossfit:{maxPlayers:12}};(()=>{const t=new Date,s=t.getHours();return t.getDay()===0||t.getDay()===6?["09:00","10:00","11:00","14:00","15:00","16:00","17:00"]:s<17?["17:00","18:00","19:00","20:00","21:00"]:["18:00","19:00","20:00","21:00"]})();const[ne,ie]=p.useState(()=>{try{return JSON.parse(localStorage.getItem("recentGameLocations")||"[]")}catch{return[]}});p.useEffect(()=>{console.log("Location effect triggered:",{userLat:d,userLng:c,location:r.location,latitude:r.latitude,geoError:w}),d&&c&&!r.location.trim()&&(console.log("Auto-filling location with GPS coordinates"),(async()=>{try{console.log("Fetching reverse geocoding for:",d,c);const s="AIzaSyCs_MsE3qt74h6eIR04QJqmf2FYgSys4UQ";let i;if(s&&(i=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${d},${c}&key=${s}`)),!i.ok)throw new Error(`HTTP ${i.status}`);const a=await i.json();console.log("Reverse geocoding response:",a);let l="";if(s&&a.results&&a.results.length>0)l=a.results[0].formatted_address;else if(a.address){const o=[];a.address.house_number&&a.address.road?o.push(`${a.address.house_number} ${a.address.road}`):a.address.road&&o.push(a.address.road),(a.address.city||a.address.town||a.address.village)&&o.push(a.address.city||a.address.town||a.address.village),a.address.state&&o.push(a.address.state),l=o.join(", ")}l||(l=a.display_name||`${d.toFixed(4)}, ${c.toFixed(4)}`),console.log("Setting location to:",l),L(o=>({...o,location:l,latitude:d,longitude:c}))}catch(s){console.error("Reverse geocoding failed:",s);const i=`${d.toFixed(4)}, ${c.toFixed(4)}`;console.log("Using fallback location:",i),L(a=>({...a,location:i,latitude:d,longitude:c}))}})())},[d,c,w]),p.useEffect(()=>{H||b("/auth")},[H,b]),p.useEffect(()=>{const t=()=>{if(A.current){const s=A.current.offsetHeight;re(s)}};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[n,k]);const q=(t,s,i)=>{if(!t||!s||!i)return"";const a=parseInt(s.split(":")[0]);let l="Morning";a>=12&&a<17?l="Afternoon":a>=17&&(l="Evening");const o=i.split(",")[0].trim(),m=t.charAt(0).toUpperCase()+t.slice(1),u=[`${l} ${m} at ${o}`,`${m} Game - ${o}`,`${l} ${m} Session`,`${o} ${m} Meetup`,`${m} @ ${o}`];return u[Math.floor(Math.random()*u.length)]},le=async(t,s,i,a)=>{if(!t||!s||!i||!a)return null;try{return(await K.getGames()).filter(m=>{const u=m.date===s,M=Math.abs(new Date(`2000-01-01T${m.time}`).getTime()-new Date(`2000-01-01T${i}`).getTime())<36e5,xe=m.sport.toLowerCase()===t.toLowerCase(),ge=m.location.toLowerCase().includes(a.toLowerCase())||a.toLowerCase().includes(m.location.toLowerCase());return u&&M&&xe&&ge}).length>0?`Similar ${t} game already exists at ${a} on ${s} around ${i}`:null}catch(l){return console.error("Error checking duplicates:",l),null}},ce=(t,s)=>{switch(t){case"date":if(!s)return null;const i=new Date;return new Date(s+"T00:00:00")<new Date(i.toDateString())?"Date cannot be in the past":null;case"time":if(!s)return null;const l=parseInt(s.split(":")[0]);return l<6||l>23?"Unusual time - games typically happen 6 AM - 11 PM":l>=2&&l<=5?"Did you mean PM instead of AM?":null;case"maxPlayers":if(!s)return null;const o=parseInt(s);if(o<2)return"Need at least 2 players";if(o>100)return"That seems like a lot of players - double check?";const m=r.sport?.toLowerCase();return m==="tennis"&&o>4?"Tennis usually has 2-4 players":m==="basketball"&&o>10?"Basketball usually has 6-10 players":m==="soccer"&&o>22?"Soccer usually has up to 22 players":null;case"location":return s?s.length<3?"Location too short":s.toLowerCase().includes("ocean")||s.toLowerCase().includes("sea")?"Are you sure this location is correct?":s.toLowerCase().includes("home")||s.toLowerCase().includes("house")?"Consider using a public venue for safety":null:null;case"cost":if(!s)return null;const u=parseFloat(s);return u<0?"Cost cannot be negative":u>500?"That seems expensive - double check?":null;default:return null}},_=(t,s)=>{L(a=>{const l={...a,[t]:s},o=q(a.sport,a.time,a.location),m=q(t==="sport"?s:a.sport,t==="time"?s:a.time,t==="location"?s:a.location);if((t==="sport"||t==="time"||t==="location")&&(!a.title||a.title===o)&&m&&(l.title=m),t==="sport"&&W[s.toLowerCase()]&&(l.maxPlayers=W[s.toLowerCase()].maxPlayers.toString()),t==="location"&&s.trim()){const u=[s,...ne.filter(M=>M!==s)].slice(0,5);ie(u),localStorage.setItem("recentGameLocations",JSON.stringify(u))}return l});const i=ce(t,s);g(a=>{if(i)return{...a,[t]:i};{const{[t]:l,...o}=a;return o}}),t==="location"&&r.sport&&r.date&&r.time&&s&&le(r.sport,r.date,r.time,s).then(a=>{g(a?l=>({...l,duplicate:a}):l=>{const{duplicate:o,...m}=l;return m})}),setTimeout(()=>{T(n)&&!Object.keys(x).length&&n<S.length&&C(n+1)},500)},T=t=>{const s=S[t-1]?.fields||[],i=s.every(a=>{const l=r[a];return l&&l.toString().trim()!==""});return console.log("[CreateGame] isStepComplete - Step:",t,"Fields:",s,"Complete:",i,"FormData:",r),i},Y=()=>{const t={};if(n===1&&(r.sport||(t.sport="Please select a sport."),r.date||(t.date="Please choose a date."),r.time||(t.time="Please choose a time."),r.date)){const s=new Date;new Date(r.date+"T00:00:00")<new Date(s.toDateString())&&(t.date="Date cannot be in the past.")}if(n===2){r.location.trim()||(t.location="Location is required.");const s=parseInt(r.maxPlayers,10);r.maxPlayers?(Number.isNaN(s)||s<=0)&&(t.maxPlayers="Enter a valid number greater than 0."):t.maxPlayers="Max players is required.",r.cost||(t.cost="Please select a cost option.")}return console.log("[CreateGame] Validation - Step:",n,"Errors:",t,"FormData:",r),g(t),Object.keys(t).length===0},de=()=>{Y()&&n<S.length&&C(n+1)},J=()=>{n>1?C(n-1):b(-1)},me=async()=>{if(Y()){j(!0),f(null);try{const{user:t}=Q.getState();if(console.log("[CreateGame] submit clicked. user =",t?.id),!t)throw new Error("You must be logged in to create a game");const s={title:r.title,sport:r.sport,date:r.date,time:r.time,location:r.location,latitude:r.latitude,longitude:r.longitude,maxPlayers:parseInt(r.maxPlayers)||10,cost:r.cost||"Free",description:"",imageUrl:r.imageUrl};console.log("[CreateGame] creating game with data =",s),await K.createGame(s),b("/")}catch(t){console.error("Error creating game:",t),f(t instanceof Error?t.message:"Failed to create game")}finally{j(!1)}}},ue=n/S.length*100,D=se.find(t=>t.value===r.sport),F=(t,s,i="text",a)=>{const l=r[t],o=x[t],m=l&&!o;return i==="select"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-foreground",children:s}),e.jsxs("select",{value:l,onChange:u=>_(t,u.target.value),className:`w-full p-3 border rounded-lg transition-colors bg-background text-foreground ${o?"border-destructive bg-destructive/10 dark:bg-destructive/20":m?"border-green-500 bg-green-50 dark:bg-green-950/50 dark:border-green-400":"border-input hover:border-ring focus:border-ring focus:ring-2 focus:ring-ring/20"}`,children:[e.jsxs("option",{value:"",className:"bg-background text-foreground",children:["Select ",s.toLowerCase()]}),a?.map(u=>e.jsx("option",{value:u.value,className:"bg-background text-foreground",children:u.label},u.value))]}),o&&e.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[e.jsx("span",{children:"âš ï¸"})," ",o]}),m&&!o&&e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center gap-1",children:[e.jsx("span",{children:"âœ…"})," Looks good!"]})]}):i==="textarea"?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s,S[n-1].fields.includes(t)&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(fe,{value:l,onChange:u=>_(t,u.target.value),placeholder:`Enter ${s.toLowerCase()}`,className:`resize-none ${o?"border-destructive":""}`,rows:3}),o&&e.jsx("p",{className:"text-sm text-destructive",children:o})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s,S[n-1].fields.includes(t)&&e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(O,{type:i,value:r[t],onChange:u=>_(t,u.target.value),placeholder:`Enter ${s.toLowerCase()}`,min:i==="date"?new Date().toISOString().split("T")[0]:void 0,className:`transition-colors ${o?"border-red-500 bg-red-50":m?"border-green-500 bg-green-50":"border-gray-300"}`}),o&&e.jsxs("p",{className:"text-sm text-red-500 dark:text-red-400 flex items-center gap-1",children:[e.jsx("span",{children:"âš ï¸"})," ",o]}),m&&!o&&e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center gap-1",children:[e.jsx("span",{children:"âœ…"})," Looks good!"]})]})};return e.jsxs("div",{className:"min-h-screen bg-background",style:{paddingBottom:`${B+16}px`},children:[e.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[e.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur-sm border-b border-border z-10",children:e.jsx("div",{className:"flex items-center justify-between px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(E,{variant:"ghost",size:"icon",onClick:J,children:e.jsx(z,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Create Game"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:S[n-1].title})]})]})})}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx(he,{value:ue,className:"h-2"})})]}),e.jsxs("div",{className:"px-4 pt-6",style:{paddingBottom:`${B+16}px`},children:[D&&e.jsx("div",{className:"mb-6",children:e.jsx(G,{children:e.jsx(I,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center text-2xl",children:D.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:r.title||"New Game"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:D.label})]})]})})})}),n===1&&e.jsx("div",{className:"space-y-6",children:e.jsxs(G,{children:[e.jsx(R,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold text-sm",children:"1"}),"What & When"]})}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Sport"}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:se.map(t=>e.jsxs("button",{type:"button",onClick:()=>_("sport",t.value),className:`p-2 rounded-lg border-2 transition-all duration-200 ${r.sport===t.value?"border-primary bg-primary/10 text-primary":"border-input hover:border-ring text-foreground bg-background"}`,children:[e.jsx("div",{className:"text-lg mb-1",children:t.icon}),e.jsx("div",{className:"text-xs font-medium",children:t.label})]},t.value))}),x.sport&&e.jsx("p",{className:"text-sm text-destructive",children:x.sport})]}),F("date","Date","date"),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Time"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:ye.map(t=>e.jsx("button",{type:"button",onClick:()=>_("time",t),className:`px-2 py-2 text-xs rounded-md border transition-colors ${r.time===t?"bg-primary text-primary-foreground border-primary":"bg-background text-foreground border-input hover:bg-muted hover:border-ring"}`,children:new Date(`2000-01-01T${t}:00`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})},t))}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:"Or enter custom time:"}),e.jsx(O,{type:"time",value:r.time,onChange:t=>_("time",t.target.value),className:x.time?"border-destructive":"",placeholder:"Select time"})]}),x.time&&e.jsx("p",{className:"text-sm text-destructive",children:x.time})]})]})]})}),n===2&&e.jsx("div",{className:"space-y-6",children:e.jsxs(G,{children:[e.jsx(R,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold text-sm",children:"2"}),"Where & Who"]})}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{value:r.location,onChange:t=>{_("location",t.target.value),console.log("Location input changed:",t.target.value),t.target.value.length>2?(console.log("Triggering location search for:",t.target.value),v(t.target.value,d||void 0,c||void 0),N(!0)):(console.log("Hiding location suggestions"),N(!1))},placeholder:"Enter location or address",className:x.location?"border-destructive":""}),e.jsxs("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 flex gap-2",children:[P&&e.jsx(V,{className:"w-4 h-4 animate-spin text-muted-foreground"}),e.jsx(E,{type:"button",variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:async()=>{if(d&&c)try{const i=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${d}&lon=${c}`)).json()).display_name||`${d.toFixed(4)}, ${c.toFixed(4)}`;L(a=>({...a,location:i,latitude:d,longitude:c}))}catch(t){console.error("Reverse geocoding failed:",t),L(s=>({...s,location:`${d.toFixed(4)}, ${c.toFixed(4)}`,latitude:d,longitude:c}))}},disabled:!d||!c,title:d&&c?"Use my current location":w||"Location not available",children:e.jsx(ee,{className:"w-4 h-4"})})]})]}),y&&e.jsx("div",{className:"border border-border rounded-md bg-background shadow-lg max-h-48 overflow-y-auto",children:$.length>0?$.map(t=>e.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 hover:bg-muted border-b border-border last:border-b-0 flex items-center gap-2",onClick:async()=>{L(i=>({...i,location:t.description})),N(!1);const s=await ae(t.description);s&&L(i=>({...i,latitude:s.lat,longitude:s.lng}))},children:[e.jsx(ee,{className:"w-4 h-4 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:t.structured_formatting.main_text}),e.jsx("div",{className:"text-sm text-muted-foreground",children:t.structured_formatting.secondary_text})]})]},t.place_id)):e.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:P?"Searching...":"No suggestions found. Try typing a more specific location."})}),x.location&&e.jsx("p",{className:"text-sm text-destructive",children:x.location})]}),F("maxPlayers","Max Players","number"),F("cost","Cost","select",[{value:"FREE",label:"Free"},{value:"$5",label:"$5 per person"},{value:"$10",label:"$10 per person"},{value:"$15",label:"$15 per person"},{value:"$20",label:"$20 per person"},{value:"custom",label:"Custom amount"}])]})]})}),n===3&&e.jsx("div",{className:"space-y-6",children:e.jsxs(G,{children:[e.jsx(R,{children:e.jsxs(U,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold text-sm",children:"3"}),"Review & Create"]})}),e.jsxs(I,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Game Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Sport:"}),e.jsxs("span",{className:"text-sm",children:[D?.icon," ",D?.label]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Date:"}),e.jsx("span",{className:"text-sm",children:r.date})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Time:"}),e.jsx("span",{className:"text-sm",children:r.time})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Location:"}),e.jsx("span",{className:"text-sm",children:r.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Max Players:"}),e.jsx("span",{className:"text-sm",children:r.maxPlayers})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Cost:"}),e.jsx("span",{className:"text-sm",children:r.cost})]})]})]})]}),e.jsxs(X,{children:[e.jsx(te,{className:"h-4 w-4"}),e.jsxs(Z,{children:['Ready to create "',r.title,'" for ',r.maxPlayers," players on ",r.date," at ",r.time,"?"]})]}),x.duplicate&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:x.duplicate}),e.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"You can still create this game if it's intentional."})]})]})]})}),h&&e.jsx("div",{className:"mt-4",children:e.jsx(X,{variant:"destructive",children:e.jsx(Z,{children:h})})})]}),e.jsx("div",{ref:A,className:"fixed bottom-0 left-0 right-0 bg-background/95 backdrop-blur-sm border-t border-border safe-area-inset-bottom z-50",children:e.jsxs("div",{className:"px-4 py-3 pb-safe",children:[e.jsx("div",{className:"flex justify-center mb-3 sm:hidden",children:e.jsx("div",{className:"flex items-center gap-2",children:S.map((t,s)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium transition-colors ${n===t.id?"bg-primary text-primary-foreground":n>t.id?"bg-green-500 text-white":"bg-muted text-muted-foreground"}`,children:n>t.id?"âœ“":t.id}),s<S.length-1&&e.jsx("div",{className:`w-8 h-0.5 mx-1 ${n>t.id?"bg-green-500":"bg-muted"}`})]},t.id))})}),e.jsxs("div",{className:"flex justify-between items-center gap-3",children:[n>1?e.jsxs(E,{variant:"outline",onClick:J,className:"min-h-[48px] px-4 sm:px-6 flex-1 max-w-[120px] touch-manipulation text-sm sm:text-base",size:"lg",children:[e.jsx(z,{className:"w-4 h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Previous"}),e.jsx("span",{className:"sm:hidden",children:"Back"})]}):e.jsx(E,{variant:"ghost",onClick:()=>b(-1),className:"min-h-[48px] px-4 touch-manipulation text-sm sm:text-base",size:"lg",children:"Cancel"}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-sm text-muted-foreground",children:["Step ",n," of ",S.length]}),n<S.length?e.jsxs(E,{onClick:de,disabled:!T(n)||Object.keys(x).some(t=>t!=="duplicate"),className:"min-h-[48px] px-4 sm:px-6 flex-1 max-w-[120px] touch-manipulation text-sm sm:text-base",size:"lg",children:[e.jsx("span",{className:"hidden sm:inline",children:"Continue"}),e.jsx("span",{className:"sm:hidden",children:"Next"}),e.jsx(z,{className:"w-4 h-4 ml-1 sm:ml-2 rotate-180"})]}):e.jsx(E,{onClick:me,disabled:!T(n)||Object.keys(x).some(t=>t!=="duplicate")||k,className:"min-h-[48px] px-4 sm:px-6 flex-1 max-w-[140px] touch-manipulation text-sm sm:text-base",size:"lg",children:k?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4 mr-1 sm:mr-2 animate-spin"}),e.jsx("span",{className:"hidden sm:inline",children:"Creating..."}),e.jsx("span",{className:"sm:hidden",children:"Wait..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"w-4 h-4 mr-1 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Create Game"}),e.jsx("span",{className:"sm:hidden",children:"Create"})]})})]}),!T(n)&&e.jsx("div",{className:"mt-2 text-center",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete required fields to continue"})}),!1]})})]})}export{De as CreateGame};
//# sourceMappingURL=CreateGame-CxNtbDaS.js.map
