import{j as e}from"./ui-B4gQYcc6.js";import{e as s,r as t}from"./vendor-CTE-63Sz.js";import{C as a,b as r,a as i,c as l,B as o}from"./index-9DMutt-e.js";import{I as n}from"./ImageWithFallback-CGJF3SkS.js";import{u as d}from"./useGameJoinToggle-CAsvvoZA.js";import{f as c}from"./dateUtils-DKSG3jUc.js";import{C as m,e as x,f as u,g as h}from"./utils-B5KmqWpW.js";function g({game:g,variant:j="simple",showImage:p=!1,showJoinButton:f=!0,onSelect:v,onJoinLeave:b}){const[N,y]=t.useState(!1),{handleCardClick:w,handleJoinClick:k,isLoading:C,getButtonText:J,getButtonVariant:P,getCategoryBadge:S,getPlayerCount:B,getJoinStatus:L}=function(e,t={}){const a=s(),r=d(),i=e.currentPlayers>=e.maxPlayers;return{handleCardClick:()=>{t.onSelect?t.onSelect(e.id):a(`/game/${e.id}`)},handleJoinClick:s=>{s.stopPropagation(),t.onJoinLeave?t.onJoinLeave(e.id):r.toggleJoin(e,s)},...r,getCategoryBadge:()=>"today"===e.category?{text:"Today",className:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300"}:"tomorrow"===e.category?{text:"Tomorrow",className:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"}:null,isFull:i,getPlayerCount:()=>`${e.currentPlayers}/${e.maxPlayers} players`,getJoinStatus:()=>e.isJoined?{text:"Joined âœ“",className:"bg-success/20 text-success dark:bg-success/30 dark:text-success text-xs px-2 py-1 rounded"}:null,game:e}}(g,{onSelect:v,onJoinLeave:b});return"full"===j?e.jsx("div",{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:e.jsxs(a,{className:"overflow-hidden cursor-pointer transition-all duration-200 ease-out "+(N?"shadow-medium":"shadow-subtle"),onClick:w,children:[e.jsxs("div",{className:"relative overflow-hidden",children:[g.imageUrl?e.jsx("div",{className:"aspect-video overflow-hidden",children:e.jsx(n,{src:g.imageUrl,alt:g.sport,className:"w-full h-full object-cover transition-transform duration-300 ease-out"})}):e.jsx("div",{className:"h-16 bg-gradient-to-r from-blue-50 to-purple-50 flex items-center justify-center",children:e.jsx(r,{variant:"secondary",className:"text-sm",children:g.sport})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent transition-opacity duration-200 "+(N?"opacity-10":"opacity-0")}),e.jsxs("div",{className:"absolute top-3 left-3 bg-background/95 backdrop-blur-sm rounded-lg px-3 py-2 min-w-[80px]",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(m,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:g.date})]}),e.jsx("div",{className:"text-sm font-medium",children:g.time})]}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(r,{className:`${g.sportColor||"bg-primary"} text-white border-none`,children:g.sport})}),g.isJoined&&e.jsx("div",{className:"absolute bottom-3 right-3 w-6 h-6 bg-success rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-1",children:g.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(x,{className:"w-4 h-4"}),e.jsx("span",{children:g.location})]})]}),g.host&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(l,{userId:g.host.id,src:g.host.avatar,alt:g.host.name,size:"sm"}),e.jsxs("span",{className:"text-muted-foreground",children:["Hosted by ",g.host.name]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:B()})]}),f&&e.jsx(o,{size:"sm",variant:P(g),onClick:k,className:"transition-all duration-200",disabled:C||g.currentPlayers>=g.maxPlayers&&!g.isJoined,children:g.currentPlayers>=g.maxPlayers&&!g.isJoined?"Game Full":J(g)})]})]})})]})}):e.jsxs("div",{className:"bg-card rounded-lg p-4 border border-border cursor-pointer hover:shadow-md transition-shadow",onClick:w,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:g.title}),S()&&e.jsx("span",{className:`inline-block text-xs px-2 py-1 rounded-full font-medium ${S()?.className}`,children:S()?.text})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:g.sport}),g.host&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[e.jsx(l,{userId:g.host.id,src:g.host.avatar,alt:g.host.name,size:"sm"}),e.jsxs("span",{className:"text-muted-foreground",children:["Hosted by ",g.host.name]})]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[g.cost&&e.jsx("div",{className:"text-sm font-medium",children:g.cost}),e.jsx("div",{className:"text-xs text-muted-foreground",children:B()})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:g.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:B()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{children:[g.date," at ",c(g.time)]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-3",children:g.description}),f&&e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[L()?e.jsx("span",{className:`inline-block ${L()?.className}`,children:L()?.text}):e.jsx("div",{}),e.jsx("button",{onClick:k,disabled:C,className:"px-3 py-1 rounded text-sm font-medium transition-colors "+(C?"opacity-50 cursor-not-allowed":g.isJoined?"bg-destructive/20 text-destructive dark:bg-destructive/30 dark:text-destructive hover:bg-destructive/30 dark:hover:bg-destructive/40":"bg-primary text-primary-foreground hover:bg-primary/90"),children:J(g)})]})]})}export{g as U};
//# sourceMappingURL=UnifiedGameCard-CNpQY6Hj.js.map
