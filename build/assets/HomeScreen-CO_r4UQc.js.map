{"version":3,"file":"HomeScreen-CO_r4UQc.js","sources":["../../src/components/HomeScreen.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Button } from './ui/button';\nimport { Plus, RefreshCw } from 'lucide-react';\nimport { SupabaseService } from '../lib/supabaseService';\nimport { useAppStore } from '../store/appStore';\n\n\n\n// Simple GameCard component\nfunction SimpleGameCard({ game, onSelect }: { game: any; onSelect: () => void }) {\n  const { joinGame, leaveGame } = useAppStore();\n\n  const handleJoinClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (game.isJoined) {\n      leaveGame(game.id);\n    } else {\n      joinGame(game.id);\n    }\n  };\n\n  const handleCardClick = () => {\n    onSelect();\n  };\n\n  return (\n    <div \n      className=\"bg-card rounded-lg p-4 border border-border cursor-pointer hover:shadow-md transition-shadow\"\n      onClick={handleCardClick}\n    >\n      <div className=\"flex items-start justify-between mb-3\">\n        <div className=\"flex-1 pr-4\">\n          <h3 className=\"font-semibold text-lg\">{game.title}</h3>\n          <p className=\"text-sm text-muted-foreground\">{game.sport}</p>\n        </div>\n        <div className=\"text-right flex-shrink-0\">\n          <div className=\"text-sm font-medium\">{game.cost}</div>\n          <div className=\"text-xs text-muted-foreground\">\n            {game.currentPlayers}/{game.maxPlayers} players\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"space-y-2 text-sm\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-muted-foreground\">üìç</span>\n          <span>{game.location}</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span className=\"text-muted-foreground\">üïí</span>\n          <span>{game.date} at {game.time}</span>\n        </div>\n        {game.distance && (\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-muted-foreground\">üìè</span>\n            <span>{game.distance}</span>\n          </div>\n        )}\n      </div>\n      \n      <p className=\"text-sm text-muted-foreground mt-3\">{game.description}</p>\n      \n      <div className=\"flex items-center justify-between mt-3\">\n        {game.isJoined ? (\n          <span className=\"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded\">\n            Joined\n          </span>\n        ) : (\n          <div></div>\n        )}\n        \n        <button\n          onClick={handleJoinClick}\n          className={`px-3 py-1 rounded text-sm font-medium transition-colors ${\n            game.isJoined \n              ? 'bg-red-100 text-red-700 hover:bg-red-200' \n              : 'bg-primary text-primary-foreground hover:bg-primary/90'\n          }`}\n        >\n          {game.isJoined ? 'Leave' : 'Join'}\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport function HomeScreen() {\n  const navigate = useNavigate();\n  const { games, setGames, isLoading, setLoading, user } = useAppStore();\n  const [refreshing, setRefreshing] = useState(false);\n  const [timedOut, setTimedOut] = useState(false);\n  const userPreferredSports = useMemo(() => user?.preferences?.sports ?? [], [user]);\n  const [feedMode, setFeedMode] = useState<'all' | 'recommended'>('all');\n\n  // Load games only once on mount, prevent multiple calls\n  useEffect(() => {\n    if (games.length === 0 && !isLoading) {\n      loadGames();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Handle feed mode changes separately\n  useEffect(() => {\n    if (games.length > 0) {\n      loadGames();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [feedMode]);\n\n  // Disabled realtime to prevent WebSocket connection issues\n  // useEffect(() => {\n  //   let timeoutId: NodeJS.Timeout;\n  //   \n  //   const sub = SupabaseService.subscribeToAllGames((payload) => {\n  //     console.log('[Realtime] games INSERT received', payload?.new?.id || '');\n  //     \n  //     // Debounce realtime updates to avoid excessive API calls\n  //     clearTimeout(timeoutId);\n  //     timeoutId = setTimeout(async () => {\n  //       try {\n  //         const data = feedMode === 'recommended'\n  //           ? await SupabaseService.getRecommendedGames(userPreferredSports)\n  //           : await SupabaseService.getGames();\n  //         setGames(data);\n  //       } catch (error) {\n  //         console.error('[Realtime] Failed to refresh games:', error);\n  //       }\n  //     }, 1000);\n  //   });\n  //   \n  //   return () => {\n  //     clearTimeout(timeoutId);\n  //     try { sub.unsubscribe(); } catch {}\n  //   };\n  //   // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [feedMode, userPreferredSports.join?.('|') ?? '']);\n\n  // Safety: clear global loading if this screen unmounts mid-request\n  useEffect(() => {\n    return () => {\n      setLoading(false);\n    };\n  }, [setLoading]);\n\n  const loadGames = async () => {\n    if (isLoading) {\n      console.log('Already loading games, skipping duplicate call');\n      return;\n    }\n    \n    setTimedOut(false);\n    setLoading(true);\n    \n    try {\n      const gamesData = feedMode === 'recommended'\n        ? await SupabaseService.getRecommendedGames(userPreferredSports)\n        : await SupabaseService.getGames();\n      setGames(gamesData);\n    } catch (error) {\n      console.error('Error loading games:', error);\n      setTimedOut(true);\n      setGames([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRefresh = async () => {\n    if (refreshing) return; // Prevent multiple concurrent refreshes\n    \n    setTimedOut(false);\n    setRefreshing(true);\n    try {\n      await loadGames();\n    } finally {\n      setRefreshing(false);\n    }\n  };\n\n  const handleGameSelect = (gameId: string) => {\n    navigate(`/game/${gameId}`);\n  };\n\n  const handleCreateGame = () => {\n    navigate('/create-game');\n  };\n\n  // Filter today's games\n  const todaysGames = games.filter(game => {\n    const gameDate = new Date(game.date);\n    const today = new Date();\n    return gameDate.toDateString() === today.toDateString();\n  });\n\n  // Show loading state\n  if (isLoading && games.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4\"></div>\n          <p className=\"text-muted-foreground\">Loading games...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Timed-out empty state with retry - only show if no games at all\n  if (timedOut && games.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"text-center space-y-3\">\n          <p className=\"text-muted-foreground\">Connection issues detected. Showing sample games.</p>\n          <Button onClick={handleRefresh} variant=\"outline\">\n            <RefreshCw className=\"w-4 h-4 mr-2\" /> Try Again\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Mobile Layout */}\n      <div className=\"block md:hidden\">\n        <div className=\"space-y-6\">\n          {/* Header */}\n          <div className=\"px-4 pt-4\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <div>\n                <h1 className=\"text-2xl font-bold\">TribeUp</h1>\n                <p className=\"text-muted-foreground\">Find your next game</p>\n              </div>\n              <Button \n                onClick={handleCreateGame}\n                size=\"icon\"\n                aria-label=\"Create new game\"\n              >\n                <Plus className=\"w-5 h-5\" />\n              </Button>\n            </div>\n\n            {/* Quick Stats */}\n            <div className=\"grid grid-cols-3 gap-4 mb-6\">\n              <div className=\"bg-card rounded-lg p-4 text-center\">\n                <div className=\"text-2xl font-bold text-primary\">{games.length}</div>\n                <div className=\"text-sm text-muted-foreground\">Active Games</div>\n              </div>\n              <div className=\"bg-card rounded-lg p-4 text-center\">\n                <div className=\"text-2xl font-bold text-primary\">0</div>\n                <div className=\"text-sm text-muted-foreground\">Players Online</div>\n              </div>\n              <div className=\"bg-card rounded-lg p-4 text-center\">\n                <div className=\"text-2xl font-bold text-primary\">0</div>\n                <div className=\"text-sm text-muted-foreground\">This Week</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Today's Games */}\n          {todaysGames.length > 0 && (\n            <div className=\"px-4\">\n              <h2 className=\"text-lg mb-4\">Happening Soon</h2>\n              <div className=\"flex gap-4 overflow-x-auto pb-2\">\n                {todaysGames.map((game) => (\n                  <div key={game.id} className=\"flex-shrink-0 w-72\">\n                    <SimpleGameCard \n                      game={game} \n                      onSelect={() => handleGameSelect(game.id)}\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* All Games */}\n          <div className=\"px-4\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-lg font-semibold\">All Games</h2>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={handleRefresh}\n                disabled={isLoading}\n                aria-label=\"Refresh games\"\n              >\n                <RefreshCw className={`w-4 h-4 ${isLoading ? 'animate-spin' : ''}`} />\n              </Button>\n            </div>\n\n            <div className=\"space-y-4\">\n              {games.map((game) => (\n                <div key={game.id}>\n                  <SimpleGameCard\n                    game={game}\n                    onSelect={() => handleGameSelect(game.id)}\n                  />\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Desktop Layout */}\n      <div className=\"hidden md:block\">\n        <div className=\"max-w-7xl mx-auto p-6\">\n          <div className=\"grid grid-cols-12 gap-6\">\n            {/* Main Content */}\n            <div className=\"col-span-8\">\n              <div className=\"flex items-center justify-between mb-6\">\n                <div>\n                  <h1 className=\"text-3xl font-bold\">TribeUp</h1>\n                  <p className=\"text-muted-foreground\">Find your next game</p>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"bg-muted rounded-md p-1 flex\">\n                    <button\n                      className={`px-3 py-1 text-sm rounded ${feedMode === 'recommended' ? 'bg-background shadow font-medium' : 'text-muted-foreground'}`}\n                      onClick={() => setFeedMode('recommended')}\n                    >\n                      Recommended\n                    </button>\n                    <button\n                      className={`px-3 py-1 text-sm rounded ${feedMode === 'all' ? 'bg-background shadow font-medium' : 'text-muted-foreground'}`}\n                      onClick={() => setFeedMode('all')}\n                    >\n                      All\n                    </button>\n                  </div>\n                  <Button onClick={handleCreateGame}>\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Create Game\n                  </Button>\n                </div>\n              </div>\n\n              {/* Today's Games */}\n              {todaysGames.length > 0 && (\n                <div className=\"mb-8\">\n                  <h2 className=\"text-xl font-semibold mb-4\">Happening Today</h2>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                    {todaysGames.map((game) => (\n                      <SimpleGameCard\n                        key={game.id}\n                        game={game}\n                        onSelect={() => handleGameSelect(game.id)}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Feed Header */}\n              <div className=\"flex items-center justify-between mb-4\">\n                <h2 className=\"text-xl font-semibold\">{feedMode === 'recommended' ? 'Recommended For You' : 'All Games'}</h2>\n                <Button\n                  variant=\"outline\"\n                  onClick={handleRefresh}\n                  disabled={isLoading}\n                >\n                  <RefreshCw className={`w-4 h-4 mr-2 ${isLoading ? 'animate-spin' : ''}`} />\n                  Refresh\n                </Button>\n              </div>\n\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {games.map((game) => (\n                  <div key={game.id}>\n                    <SimpleGameCard\n                      game={game}\n                      onSelect={() => handleGameSelect(game.id)}\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Sidebar */}\n            <div className=\"col-span-4\">\n              <div className=\"bg-card rounded-lg p-6 sticky top-6\">\n                <h3 className=\"text-lg font-semibold mb-4\">Quick Stats</h3>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Active Games</span>\n                    <span className=\"font-semibold\">{games.length}</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">Players Online</span>\n                    <span className=\"font-semibold\">0</span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-muted-foreground\">This Week</span>\n                    <span className=\"font-semibold\">0</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["SimpleGameCard","game","onSelect","joinGame","leaveGame","useAppStore","handleJoinClick","e","handleCardClick","jsxs","jsx","HomeScreen","navigate","useNavigate","games","setGames","isLoading","setLoading","user","refreshing","setRefreshing","useState","timedOut","setTimedOut","userPreferredSports","useMemo","feedMode","setFeedMode","useEffect","loadGames","gamesData","SupabaseService","error","handleRefresh","handleGameSelect","gameId","handleCreateGame","todaysGames","gameDate","today","Button","RefreshCw","Plus"],"mappings":"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"}